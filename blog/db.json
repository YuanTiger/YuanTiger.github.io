{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/images/avatar.png","path":"images/avatar.png","modified":1,"renderable":0},{"_id":"themes/next/source/404.html","path":"404.html","modified":1,"renderable":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","path":"lib/needsharebutton/font-embedded.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","path":"lib/needsharebutton/needsharebutton.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","path":"lib/needsharebutton/needsharebutton.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"f75ae740cf5cec9f4115fcabc01301bc315a0381","modified":1535102475000},{"_id":"themes/next/.DS_Store","hash":"0718f52301eaa1e005a56e8fe9d6fbe7fc16c6f1","modified":1535102143000},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1535099602000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1535099602000},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1535099602000},{"_id":"themes/next/.gitignore","hash":"0b5c2ffd41f66eb1849d6426ba8cf9649eeed329","modified":1535099602000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1535099602000},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1535099602000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1535099602000},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1535099602000},{"_id":"themes/next/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1535099602000},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1535099602000},{"_id":"themes/next/README.cn.md","hash":"2c766b3369ed477bce134a5450dab45bef161504","modified":1535099602000},{"_id":"themes/next/README.md","hash":"8ce60ce578963eb4e1eb5e33e1efc2fc4779af9c","modified":1535099602000},{"_id":"themes/next/_config.yml","hash":"fbccaf1a456a4a35bc78162d9b32e4e7e6b46f99","modified":1535102649000},{"_id":"themes/next/bower.json","hash":"0674f11d3d514e087a176da0e1d85c2286aa5fba","modified":1535099602000},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1535099602000},{"_id":"themes/next/package.json","hash":"036d3a1346203d2f1a3958024df7f74e7ac07bfe","modified":1535099602000},{"_id":"source/_posts/.DS_Store","hash":"f27bec6d6b30ef558d903a61e66f66e3ca470821","modified":1535098995000},{"_id":"source/_posts/Android-EditText-card-limit.md","hash":"821843fe784480cbfd5467f0a075e0dfaada25ca","modified":1535103388000},{"_id":"source/_posts/Android-Handler.md","hash":"cb4f9444c7ecfe4e9298067b1277327d7e982674","modified":1535103388000},{"_id":"source/_posts/Android-Photo-Select.md","hash":"b1408a93aba6c6ff9f25f7604c6e13493fa182d3","modified":1535103388000},{"_id":"source/_posts/Android-Premission-Manger.md","hash":"9a0928ebfe3aaffcd1ed80b51878abc14721d9dd","modified":1535103388000},{"_id":"source/_posts/Android_Interview-Experience.md","hash":"f3c7a38d91a8beab8851f022435753c8b68a6984","modified":1535103388000},{"_id":"source/_posts/Android_even_distribution.md","hash":"3845e560700a6c30113831c5bb3e0ebb86f85127","modified":1535103388000},{"_id":"source/_posts/Builder-Dialog.md","hash":"a85356ba1d973e6c2b3961c1d63369ae33308051","modified":1535103388000},{"_id":"source/_posts/Design-Abs-Factory.md","hash":"65638f4aa4178fd1cbc03eea212041fd631e4931","modified":1535103388000},{"_id":"source/_posts/Design-Builder.md","hash":"67d400109a01eaf854d481ab370a2b1fc0f07b01","modified":1535103388000},{"_id":"source/_posts/Design-Catalog.md","hash":"dda21e6bc196cfd6d3a9ecae86fb1ebd1f7d77ef","modified":1535103388000},{"_id":"source/_posts/Design-Clone.md","hash":"e1ff9de0ca3d9feb5ddb70d175db2a56fce05f5f","modified":1535103388000},{"_id":"source/_posts/Design-Factory.md","hash":"1248beb332183c6681ebb6ae402523ed119e7497","modified":1535103388000},{"_id":"source/_posts/Design-Responsibility.md","hash":"13692a45f634664c608f6a7647ca0828c14517d7","modified":1535103388000},{"_id":"source/_posts/Design-Single.md","hash":"9e08318c60bca1954c22cd08a84f47aa3ca45499","modified":1535103388000},{"_id":"source/_posts/Design-State.md","hash":"e0213e035722af6d57dd03646f22ed16eb4e65af","modified":1535103388000},{"_id":"source/_posts/Design-Strategy.md","hash":"02054a2626edb052dcac7afcd9ad9c45a87af680","modified":1535103388000},{"_id":"source/_posts/Google-IO-2017.md","hash":"3f507927e893930b0aced55a1bdf8251fc3a7c93","modified":1535103388000},{"_id":"source/_posts/Hello_GitHub+Hexo.md","hash":"bb27aac28a50960d7f51feda1bff2a3080eeee3b","modified":1535103388000},{"_id":"source/_posts/JD-Server-Use-Explain-0.md","hash":"4f21f4586ea33717047f5f8cb93b2bc3e628d493","modified":1535103388000},{"_id":"source/_posts/JD-Server-Use-Explain-1.md","hash":"5cd942ba5c29a169462ecf1965ffc798c5f8d129","modified":1535103388000},{"_id":"source/_posts/Java_understanding-OO.md","hash":"81bc0593ea29705216c1316818b3e6989629b787","modified":1535103388000},{"_id":"source/about/.DS_Store","hash":"8208a60b8feacf7ffb9395ac09bc39029f5b3898","modified":1535102475000},{"_id":"source/about/index.md","hash":"5d769505f0fb2d7ad9aaf57a130a77a8be56f6b7","modified":1535103388000},{"_id":"source/images/.DS_Store","hash":"ce1784551ee0035b438e8b5f337f99cf40604ebb","modified":1535100338000},{"_id":"source/images/avatar.png","hash":"76aa8678945e5b649f71c980d1a8b17fa1e3ed86","modified":1535103388000},{"_id":"source/tags/.DS_Store","hash":"4b1737e2d95536850ac239b97c1d4b1deae9a602","modified":1535101307000},{"_id":"source/tags/index.md","hash":"8ae70db8c6af4e32ec42364e1a0b70ebc3545931","modified":1535103388000},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1535099602000},{"_id":"themes/next/.git/config","hash":"bf7d1df65cf34d0f25a7184a58c37a09f72e4be7","modified":1535099602000},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1535099547000},{"_id":"themes/next/.git/index","hash":"21b7afdffd066ac0b1a12a943fa9ea736b4b4985","modified":1535099603000},{"_id":"themes/next/.git/packed-refs","hash":"8e36811256ee380c2c65692f1b8f8e77c5bc33c9","modified":1535099602000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1535099602000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"50d48c47162817a3810a9d9ad51104e83947419a","modified":1535099602000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"902f627155a65099e0a37842ff396a58d0dc306f","modified":1535099602000},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1535099602000},{"_id":"themes/next/languages/.DS_Store","hash":"53d3ecedb6f3c90b9da21da2af348ff188bc81e8","modified":1535101035000},{"_id":"themes/next/languages/de.yml","hash":"057e7df11ddeb1c8c15a5d7c5ff29430d725ec6b","modified":1535099602000},{"_id":"themes/next/languages/default.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1535099602000},{"_id":"themes/next/languages/en.yml","hash":"7e680d9bb8f3a3a9d1ba1c9d312b3d257183dded","modified":1535099602000},{"_id":"themes/next/languages/fr-FR.yml","hash":"7e4eb7011b8feee641cfb11c6e73180b0ded1c0f","modified":1535099602000},{"_id":"themes/next/languages/id.yml","hash":"b5de1ea66dd9ef54cac9a1440eaa4e3f5fc011f5","modified":1535099602000},{"_id":"themes/next/languages/it.yml","hash":"aa595f2bda029f73ef7bfa104b4c55c3f4e9fb4c","modified":1535099602000},{"_id":"themes/next/languages/ja.yml","hash":"3c76e16fd19b262864475faa6854b718bc08c4d8","modified":1535099602000},{"_id":"themes/next/languages/ko.yml","hash":"ea5b46056e73ebcee121d5551627af35cbffc900","modified":1535099602000},{"_id":"themes/next/languages/nl-NL.yml","hash":"edca4f3598857dbc3cbf19ed412213329b6edd47","modified":1535099602000},{"_id":"themes/next/languages/pt-BR.yml","hash":"b1694ae766ed90277bcc4daca4b1cfa19cdcb72b","modified":1535099602000},{"_id":"themes/next/languages/pt.yml","hash":"44b61f2d085b827b507909a0b8f8ce31c6ef5d04","modified":1535099602000},{"_id":"themes/next/languages/ru.yml","hash":"98ec6f0b7183282e11cffc7ff586ceb82400dd75","modified":1535099602000},{"_id":"themes/next/languages/vi.yml","hash":"fd08d3c8d2c62965a98ac420fdaf95e54c25d97c","modified":1535099602000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"16ef56d0dea94638de7d200984c90ae56f26b4fe","modified":1535099602000},{"_id":"themes/next/languages/zh-hk.yml","hash":"9396f41ae76e4fef99b257c93c7354e661f6e0fa","modified":1535099602000},{"_id":"themes/next/languages/zh-tw.yml","hash":"50b71abb3ecc0686f9739e179e2f829cd074ecd9","modified":1535099602000},{"_id":"themes/next/layout/.DS_Store","hash":"380e1cb58b47809285233dc3518a47ead40ee78d","modified":1535100875000},{"_id":"themes/next/layout/_layout.swig","hash":"da0929166674ea637e0ad454f85ad0d7bac4aff2","modified":1535099602000},{"_id":"themes/next/layout/archive.swig","hash":"f0a8225feafd971419837cdb4bcfec98a4a59b2f","modified":1535099602000},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1535099602000},{"_id":"themes/next/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1535099602000},{"_id":"themes/next/layout/page.swig","hash":"969caaee05bdea725e99016eb63d810893a73e99","modified":1535099602000},{"_id":"themes/next/layout/post.swig","hash":"b3589a8e46288a10d20e41c7a5985d2493725aec","modified":1535099602000},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1535099602000},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1535099602000},{"_id":"themes/next/scripts/.DS_Store","hash":"10515f1c1fce59ab29c5e2f8add4b3ce2d4e08f4","modified":1535101150000},{"_id":"themes/next/scripts/merge-configs.js","hash":"81e86717ecfb775986b945d17f0a4ba27532ef07","modified":1535099603000},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1535099603000},{"_id":"themes/next/source/.DS_Store","hash":"bb969907bd629632bc52d57beee54510d51af3b7","modified":1535101684000},{"_id":"themes/next/source/404.html","hash":"d6cd47ba4ab178269d9e7be773e521a3f74a738b","modified":1535101832000},{"_id":"themes/next/test/.DS_Store","hash":"86aaef889514f63213877b6166c2177fd70fc322","modified":1535101084000},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1535099603000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1535099603000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1535099603000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1535099603000},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1535099547000},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1535099547000},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1535099547000},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1535099547000},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1535099547000},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1535099547000},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1535099547000},{"_id":"themes/next/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1535099547000},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1535099547000},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1535099547000},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1535099547000},{"_id":"themes/next/.git/logs/HEAD","hash":"9981f09ec26dbf7dcaa7f6c3ab26fd7c625fa63e","modified":1535099602000},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1535099602000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1535099602000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"665a928604f99d2ba7dc4a4a9150178229568cc6","modified":1535099602000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1535099602000},{"_id":"themes/next/layout/_macro/post.swig","hash":"446a35a2cd389f8cfc3aa38973a9b44ad0740134","modified":1535099602000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"56e8d8556cf474c56ae1bef9cb7bbd26554adb07","modified":1535099602000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"6a54c3c85ff6b19d275827a327abbf4bd99b2ebf","modified":1535099602000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1535099602000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"4a6f5b1792b2e5262b7fdab9a716b3108e2f09c7","modified":1535099602000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"c4d6181f5d3db5365e622f78714af8cc58d7a45e","modified":1535099602000},{"_id":"themes/next/layout/_partials/head.swig","hash":"6b94fe8f3279daea5623c49ef4bb35917ba57510","modified":1535099602000},{"_id":"themes/next/layout/_partials/header.swig","hash":"ed042be6252848058c90109236ec988e392d91d4","modified":1535099602000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1535099602000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1535099602000},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1535099602000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1535099602000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1535099602000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"a266f96ad06ee87bdeae6e105a4b53cd587bbd04","modified":1535099602000},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1535099602000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1535099602000},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1535099602000},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"5fe0447cc88a5a63b530cf0426f93c4634811876","modified":1535099602000},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1535099602000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1535099602000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1535099602000},{"_id":"themes/next/scripts/tags/.DS_Store","hash":"2778bc7668b46f146f807494b8a13410cd02f618","modified":1535101005000},{"_id":"themes/next/scripts/tags/button.js","hash":"d023f10a00077f47082b0517e2ad666e6e994f60","modified":1535099603000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1535099603000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1535099603000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1535099603000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1535099603000},{"_id":"themes/next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1535099603000},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1535099603000},{"_id":"themes/next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1535099603000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1535099603000},{"_id":"themes/next/source/css/.DS_Store","hash":"e006b12670ce2936e381d5cf035fc921038f18c2","modified":1535101077000},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1535099603000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1535099603000},{"_id":"themes/next/source/images/.DS_Store","hash":"bc05e945e98412eff14e910c0f46b6ce477ae925","modified":1535101077000},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1535099603000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1535099603000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1535099603000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1535099603000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1535099603000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1535099603000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1535099603000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1535099603000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1535099603000},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1535099603000},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1535099603000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1535099603000},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1535099603000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1535099603000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1535099603000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1535099603000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1535099603000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1535099602000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1535099602000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1535099603000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1535099603000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1535099603000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1535099603000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1535099603000},{"_id":"themes/next/.git/refs/heads/master","hash":"7999da428ebb87e5a2b27315d8d5123c1ccdfaa5","modified":1535099602000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1535099602000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1535099602000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1535099602000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1535099602000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1535099602000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1535099602000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1535099602000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1535099602000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1535099602000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1535099602000},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1535099602000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"1cd01c6e92ab1913d48e556a92bb4f28b6dc4996","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1535099602000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"10160daceaa6f1ecf632323d422ebe2caae49ddf","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"aa0629277d751c55c6d973e7691bf84af9b17a60","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"fcabbb241f894c9a6309c44e126cf3e8fea81fd4","modified":1535099602000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1535099602000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1535099602000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1535099602000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1535099602000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1535099602000},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1535099603000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"9ab65361ba0a12a986edd103e56492644c2db0b8","modified":1535099603000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1535099603000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1535099603000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"99fbb4686ea9a3e03a4726ed7cf4d8f529034452","modified":1535099603000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1535099603000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"f29165e36489a87ba32d17dddfd2720d84e3f3ec","modified":1535099603000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"29c261fa6b4046322559074d75239c6b272fb8a3","modified":1535099603000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1535099603000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1535099603000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1535099603000},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1535099603000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1535099603000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1535099603000},{"_id":"themes/next/source/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1535099603000},{"_id":"themes/next/source/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1535099603000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1535099603000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1535099603000},{"_id":"themes/next/source/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1535099603000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1535099603000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1535099603000},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1535099603000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1535099603000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1535099603000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1535099603000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1535099603000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1535099603000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1535099603000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1535099603000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1535099603000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1535099603000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1535099603000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1535099603000},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1535099603000},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1535099603000},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1535099603000},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1535099603000},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1535099603000},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1535099603000},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1535099603000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1535099603000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1535099603000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1535099603000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1535099603000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1535099603000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1535099603000},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"9981f09ec26dbf7dcaa7f6c3ab26fd7c625fa63e","modified":1535099602000},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1535099602000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1535099602000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1535099602000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"4719ce717962663c5c33ef97b1119a0b3a4ecdc3","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1535099603000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1535099603000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"f7c44b0ee46cf2cf82a4c9455ba8d8b55299976f","modified":1535099603000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1535099603000},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"47a46583a1f3731157a3f53f80ed1ed5e2753e8e","modified":1535099603000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1535099603000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1535099603000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"18c3336ee3d09bd2da6a876e1336539f03d5a973","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"3b25edfa187d1bbbd0d38b50dd013cef54758abf","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"4aac01962520d60b03b23022ab601ad4bd19c08c","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"9d16fa3c14ed76b71229f022b63a02fd0f580958","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1535099603000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1535099603000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1535099603000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1535099603000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1535099603000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1535099603000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1535099603000},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"9981f09ec26dbf7dcaa7f6c3ab26fd7c625fa63e","modified":1535099602000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"7905a7f625702b45645d8be1268cb8af3f698c70","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"25dc25f61a232f03ca72472b7852f882448ec185","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"535b3b4f8cb1eec2558e094320e7dfb01f94c0e7","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"aea21141015ca8c409d8b33e3e34ec505f464e93","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"d5a4e4fc17f1f7e7c3a61b52d8e2e9677e139de7","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"e4055a0d2cd2b0ad9dc55928e2f3e7bd4e499da3","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"262debfd4442fa03d9919ceb88b948339df03fb0","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"0a6c0efffdf18bddbc1d1238feaed282b09cd0fe","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"12937cae17c96c74d5c58db6cb29de3b2dfa14a2","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"50305b6ad7d09d2ffa4854e39f41ec1f4fe984fd","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"37e951e734a252fe8a81f452b963df2ba90bfe90","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1535099603000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"1ccfbd4d0f5754b2dc2719a91245c95f547a7652","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1535099603000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1535099603000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1535099603000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1535099603000},{"_id":"themes/next/.git/objects/pack/pack-c612b977fdee8f070a000761134eeb6350850a38.idx","hash":"baccc333989b5a1b1719965c6c3a9891cce61ff6","modified":1535099602000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1535099603000},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1535099603000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1535099603000},{"_id":"themes/next/.git/objects/pack/pack-c612b977fdee8f070a000761134eeb6350850a38.pack","hash":"1310fd9358c94811f585a7fa3724d7431f130898","modified":1535099602000},{"_id":"public/about/index.html","hash":"e928affa8d7222828031a3d47782d3f80df95094","modified":1535103406015},{"_id":"public/tags/index.html","hash":"5a178e211c9aebee760ae75f010754631e9d09b6","modified":1535103406015},{"_id":"public/2017/05/31/Design-Catalog/index.html","hash":"354b1ed62c79f6002edb9e06c3a2da99d84a4323","modified":1535103406015},{"_id":"public/2017/05/03/Hello_GitHub+Hexo/index.html","hash":"e752aafc927ce7c65b74d489faad188e28a3a067","modified":1535103406015},{"_id":"public/archives/page/3/index.html","hash":"8803693caae0512776041a307b19ee8e8621f041","modified":1535103406015},{"_id":"public/archives/2017/page/3/index.html","hash":"e235ca62c56a43437f751e314da7dcd50ebbe746","modified":1535103406015},{"_id":"public/archives/2017/07/index.html","hash":"6ffcd281dea8b995be209b9827a720ead164c8a4","modified":1535103406015},{"_id":"public/archives/2017/08/index.html","hash":"b3039841b92c0584b05ce93a1761ece4ae781d61","modified":1535103406015},{"_id":"public/archives/2017/11/index.html","hash":"460b132ceb5a93683f5bdfce9e94e7c87119d8e2","modified":1535103406015},{"_id":"public/page/3/index.html","hash":"b5cc79e56901c8f99a1b026bca700310049c9e88","modified":1535103406015},{"_id":"public/tags/Android/index.html","hash":"6c2a38984210465b5d4295489189d7a9b529844a","modified":1535103406015},{"_id":"public/tags//index.html","hash":"7046099ff84389d0134ce85d9bbe6a9ac306432e","modified":1535103406015},{"_id":"public/tags//index.html","hash":"ccebfb4d2530e3b5ecc554cc3b3b936f4c90ce22","modified":1535103406016},{"_id":"public/tags/Java/index.html","hash":"7bc15f25556e1e01c8e3def44ae2f61814433499","modified":1535103406016},{"_id":"public/tags//page/2/index.html","hash":"f2ab44021d0ec732267b621e8d7803db42143468","modified":1535103406016},{"_id":"public/tags/Google/index.html","hash":"d16e4f373159cbcb5d1322dcfffa26df4f2febe2","modified":1535103406016},{"_id":"public/tags//index.html","hash":"b589e76ca993a697866fbaa7c094773c98accfd0","modified":1535103406016},{"_id":"public/tags/SSH/index.html","hash":"7b1a73b2445c30d87ee538ba984c3e6f622be989","modified":1535103406016},{"_id":"public/2017/11/16/Design-Responsibility/index.html","hash":"0e2de663b30ed5b7d635699846bd0c37bac74cea","modified":1535103406016},{"_id":"public/2017/11/14/Design-State/index.html","hash":"2c307b17f8434266809fb6e9664185500298135e","modified":1535103406016},{"_id":"public/2017/08/24/JD-Server-Use-Explain-1/index.html","hash":"b8487d16434dd65323cb241db30ff59e7bf68298","modified":1535103406016},{"_id":"public/2017/08/23/JD-Server-Use-Explain-0/index.html","hash":"86d1dc23901d342e0cae9ef141b0a8cb2c61f7af","modified":1535103406016},{"_id":"public/2017/08/02/Design-Strategy/index.html","hash":"528bf8a5b9f03f9d827e79762896591349dfce1e","modified":1535103406016},{"_id":"public/2017/08/02/Design-Abs-Factory/index.html","hash":"9b58264760cd09b38ab48b93c97f662716d8023e","modified":1535103406017},{"_id":"public/2017/07/27/Android-Photo-Select/index.html","hash":"e04b0bf5c51e46e83c9dc966a25791234e2c1dae","modified":1535103406017},{"_id":"public/2017/07/25/Android_Interview-Experience/index.html","hash":"8def4f055e8641976e578437525d43b49259d391","modified":1535103406017},{"_id":"public/2017/07/24/Design-Factory/index.html","hash":"82f7f48961c1b1b13bc26048df2c10b24257331a","modified":1535103406017},{"_id":"public/2017/07/15/Design-Clone/index.html","hash":"bef4e0668806c0c59fff5b0ad26d9df10255216e","modified":1535103406017},{"_id":"public/2017/07/11/Builder-Dialog/index.html","hash":"ac2a669a66474e986e4d6767357e4ea5cc389b8e","modified":1535103406017},{"_id":"public/2017/07/05/Design-Builder/index.html","hash":"8bdeab9346515eb32bc8dbf2a0d93ecc0d328852","modified":1535103406017},{"_id":"public/2017/05/27/Design-Single/index.html","hash":"8de436c6b6c21b21e81ac9825367b1e2b19b9602","modified":1535103406017},{"_id":"public/2017/05/23/Google-IO-2017/index.html","hash":"d943ab368c30a1ec7d174fc9e92beef0a257d780","modified":1535103406017},{"_id":"public/2017/05/19/Android-EditText-card-limit/index.html","hash":"10a411de96042e754d98ce4bf99036520f9a6e58","modified":1535103406017},{"_id":"public/2017/05/15/Android-Handler/index.html","hash":"63657f53114d61e954e2627aed66e3503b2a4063","modified":1535103406017},{"_id":"public/2017/05/09/Android-Premission-Manger/index.html","hash":"0d3ae1f2d8af2dce56fedc37ed04515051862247","modified":1535103406017},{"_id":"public/2017/05/08/Java_understanding-OO/index.html","hash":"6a98ce76eb126a83567b020d47bd521d696f3db3","modified":1535103406017},{"_id":"public/2017/05/03/Android_even_distribution/index.html","hash":"c6bf7525d2eafac5ca09e330a47fff60bc5286c9","modified":1535103406017},{"_id":"public/archives/index.html","hash":"d60c07c297467a2f20876fd6ae207f105b10905d","modified":1535103406018},{"_id":"public/archives/page/2/index.html","hash":"0b4148276f7642f7dc6910ab639054d23742fb1f","modified":1535103406018},{"_id":"public/archives/2017/index.html","hash":"9189b73645804713e74509f6f4f45eca947bce5d","modified":1535103406018},{"_id":"public/archives/2017/page/2/index.html","hash":"e25969653632a70e39306155db4b925625ac7c31","modified":1535103406018},{"_id":"public/archives/2017/05/index.html","hash":"1ce97b429cb18f399328c9b894672a5b0586f2d8","modified":1535103406018},{"_id":"public/index.html","hash":"3e2954cfadca4c1d6ea307c6042fbe990ca0809a","modified":1535103406018},{"_id":"public/page/2/index.html","hash":"095ae7e77109bcaf1b42d9fd1f35fe8b41472abc","modified":1535103406018},{"_id":"public/tags//index.html","hash":"9d65d8319b74223342e79848da1a8fb7e29663b5","modified":1535103406018},{"_id":"public/images/avatar.png","hash":"76aa8678945e5b649f71c980d1a8b17fa1e3ed86","modified":1535103406026},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1535103406026},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1535103406026},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1535103406026},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1535103406026},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1535103406026},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1535103406026},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1535103406026},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1535103406026},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1535103406026},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1535103406026},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1535103406026},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1535103406026},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1535103406026},{"_id":"public/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1535103406026},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1535103406026},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1535103406026},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1535103406026},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1535103406026},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1535103406026},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1535103406027},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1535103406027},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1535103406027},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1535103406027},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1535103406027},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1535103406027},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1535103406027},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1535103406027},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1535103406027},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1535103406027},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1535103406027},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1535103406027},{"_id":"public/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1535103406027},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1535103406028},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1535103406670},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1535103406681},{"_id":"public/404.html","hash":"d6cd47ba4ab178269d9e7be773e521a3f74a738b","modified":1535103406695},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1535103406695},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1535103406695},{"_id":"public/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1535103406695},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1535103406695},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1535103406695},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1535103406696},{"_id":"public/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1535103406696},{"_id":"public/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1535103406696},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1535103406696},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1535103406696},{"_id":"public/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1535103406696},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1535103406696},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1535103406696},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1535103406696},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1535103406696},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1535103406696},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1535103406696},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1535103406696},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1535103406696},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1535103406696},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1535103406696},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1535103406696},{"_id":"public/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1535103406696},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1535103406696},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1535103406696},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1535103406696},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1535103406696},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1535103406696},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1535103406697},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1535103406697},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1535103406697},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1535103406697},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1535103406697},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1535103406697},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1535103406697},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1535103406697},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1535103406697},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1535103406697},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1535103406697},{"_id":"public/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1535103406697},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1535103406697},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1535103406697},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1535103406697},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1535103406697},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1535103406697},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1535103406697},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1535103406697},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1535103406697},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1535103406697},{"_id":"public/css/main.css","hash":"5317dc74215687e66ff6fb24d32bdd18fc9b3e2c","modified":1535103406697},{"_id":"public/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1535103406697},{"_id":"public/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1535103406698},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1535103406698},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1535103406698},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1535103406698},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1535103406698},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1535103406699},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1535103406699},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1535103406699},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1535103406699},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1535103406699},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1535103406699},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1535103406699},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1535103406699},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1535103406699},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1535103406699},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1535103406699},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1535103406699},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1535103406699},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1535103406699},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1535103406700},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1535103406700},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1535103406700},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1535103406728}],"Category":[],"Data":[],"Page":[{"title":"about","date":"2018-08-24T09:21:04.000Z","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2018-08-24 17:21:04\n---\n","updated":"2018-08-24T09:36:28.000Z","path":"about/index.html","comments":1,"layout":"page","_id":"cjl7sxdus0001hnnfrdf7gmt1","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2017-07-04T02:23:01.000Z","tags":["Android","Java","Google","",""],"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2017-07-04 10:23:01\ntags:\n- Android\n- Java\n- Google\n- \n- \n---\n","updated":"2018-08-24T09:36:28.000Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cjl7sxe47001zhnnfkvl6yj89","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"EditText4","date":"2017-05-19T08:32:31.000Z","_content":"##  ##\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/et_1.gif)\n\nApp\nKiss\n##  ##\n4\n\n - EditText\n - \n - \n - \n\n....\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png)\n\n 1. 44\n 2. \n\n2,4\nEditText\n```\net_credit_number.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n    }\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n    }\n    @Override\n    public void afterTextChanged(Editable s) {\n        //,\n        String etContent = EditTextUtils.getText(et_credit_number);\n        if (TextUtils.isEmpty(etContent)) {\n            bt_submit.setEnabled(false);\n            return;\n        }\n        //\n        String newContent = AppUtils.addSpeaceByCredit(etContent);\n        //\n        //EditTextsetText()\n        if (!etContent.equals(newContent)) {\n            et_credit_number.setText(newContent);\n            //setText\n            //\n            et_credit_number.setSelection(newContent.length());\n        }\n        //\n        if (MatcheUtils.isCreditNumber(newContent.replaceAll(\" \", \"\"))) {\n            bt_submit.setEnabled(true);\n            return;\n        }\n        bt_submit.setEnabled(false);\n    }\n});\n```\n\n```\npublic static String addSpeaceByCredit(String content) {\n    if (TextUtils.isEmpty(content)) {\n        return \"\";\n    }\n    //\n    content = content.replaceAll(\" \", \"\");\n    if (TextUtils.isEmpty(content)) {\n        return \"\";\n    }\n    //16\n    if (content.length() > 16) {\n        content = content.substring(0, 16);\n    }\n    StringBuilder newString = new StringBuilder();\n    for (int i = 1; i <= content.length(); i++) {\n        //44\n        //\n        //\n        //\n        if (i % 4 == 0 && i != content.length()) {\n            newString.append(content.charAt(i - 1) + \" \");\n        } else {\n        //4\n            newString.append(content.charAt(i - 1));\n\n        }\n    }\n    return newString.toString();\n}\n```\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/et_2.gif)\n\n\n\n\n\n##  ##\n![](http://7xvzby.com1.z0.glb.clouddn.com/et_3.gif)\n\n```\net_credit_number.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n    }\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n        //setText\n        //0\n        if (start == 0 && count > 0) {\n            return;\n        }\n        String editTextContent = EditTextUtils.getText(et_credit_number);\n        if (TextUtils.isEmpty(editTextContent) || TextUtils.isEmpty(lastString)) {\n            return;\n        }\n        editTextContent = AppUtils.addSpeaceByCredit(editTextContent);\n        // < \n        if (editTextContent.length() <= lastString.length()) {\n            deleteSelect = start;\n        } else {\n            deleteSelect = editTextContent.length();\n        }\n    }\n    @Override\n    public void afterTextChanged(Editable s) {\n        //,\n        String etContent = EditTextUtils.getText(et_credit_number);\n        if (TextUtils.isEmpty(etContent)) {\n            bt_submit.setEnabled(false);\n            return;\n        }\n        //\n        String newContent = AppUtils.addSpeaceByCredit(etContent);\n        //\n        lastString = newContent;\n        //\n        //EditTextsetText()\n        if (!etContent.equals(newContent)) {\n            et_credit_number.setText(newContent);\n            //\n            et_credit_number.setSelection(deleteSelect > newContent.length() ? newContent.length() : deleteSelect);\n        }\n        //\n        if (MatcheUtils.isCreditNumber(newContent.replaceAll(\" \", \"\"))) {\n            bt_submit.setEnabled(true);\n            return;\n        }\n        bt_submit.setEnabled(false);\n    }\n});\n```\n `onTextChanged()`\n\n##  ##\n[GitHub](https://github.com/YuanTiger/EditText_Card_Limit)\n100\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg)\n","source":"_posts/Android-EditText-card-limit.md","raw":"---\ntitle: EditText4\ndate: 2017-05-19 16:32:31\ntags:\n   - Android\n   - \n---\n##  ##\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/et_1.gif)\n\nApp\nKiss\n##  ##\n4\n\n - EditText\n - \n - \n - \n\n....\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png)\n\n 1. 44\n 2. \n\n2,4\nEditText\n```\net_credit_number.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n    }\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n    }\n    @Override\n    public void afterTextChanged(Editable s) {\n        //,\n        String etContent = EditTextUtils.getText(et_credit_number);\n        if (TextUtils.isEmpty(etContent)) {\n            bt_submit.setEnabled(false);\n            return;\n        }\n        //\n        String newContent = AppUtils.addSpeaceByCredit(etContent);\n        //\n        //EditTextsetText()\n        if (!etContent.equals(newContent)) {\n            et_credit_number.setText(newContent);\n            //setText\n            //\n            et_credit_number.setSelection(newContent.length());\n        }\n        //\n        if (MatcheUtils.isCreditNumber(newContent.replaceAll(\" \", \"\"))) {\n            bt_submit.setEnabled(true);\n            return;\n        }\n        bt_submit.setEnabled(false);\n    }\n});\n```\n\n```\npublic static String addSpeaceByCredit(String content) {\n    if (TextUtils.isEmpty(content)) {\n        return \"\";\n    }\n    //\n    content = content.replaceAll(\" \", \"\");\n    if (TextUtils.isEmpty(content)) {\n        return \"\";\n    }\n    //16\n    if (content.length() > 16) {\n        content = content.substring(0, 16);\n    }\n    StringBuilder newString = new StringBuilder();\n    for (int i = 1; i <= content.length(); i++) {\n        //44\n        //\n        //\n        //\n        if (i % 4 == 0 && i != content.length()) {\n            newString.append(content.charAt(i - 1) + \" \");\n        } else {\n        //4\n            newString.append(content.charAt(i - 1));\n\n        }\n    }\n    return newString.toString();\n}\n```\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/et_2.gif)\n\n\n\n\n\n##  ##\n![](http://7xvzby.com1.z0.glb.clouddn.com/et_3.gif)\n\n```\net_credit_number.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n    }\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n        //setText\n        //0\n        if (start == 0 && count > 0) {\n            return;\n        }\n        String editTextContent = EditTextUtils.getText(et_credit_number);\n        if (TextUtils.isEmpty(editTextContent) || TextUtils.isEmpty(lastString)) {\n            return;\n        }\n        editTextContent = AppUtils.addSpeaceByCredit(editTextContent);\n        // < \n        if (editTextContent.length() <= lastString.length()) {\n            deleteSelect = start;\n        } else {\n            deleteSelect = editTextContent.length();\n        }\n    }\n    @Override\n    public void afterTextChanged(Editable s) {\n        //,\n        String etContent = EditTextUtils.getText(et_credit_number);\n        if (TextUtils.isEmpty(etContent)) {\n            bt_submit.setEnabled(false);\n            return;\n        }\n        //\n        String newContent = AppUtils.addSpeaceByCredit(etContent);\n        //\n        lastString = newContent;\n        //\n        //EditTextsetText()\n        if (!etContent.equals(newContent)) {\n            et_credit_number.setText(newContent);\n            //\n            et_credit_number.setSelection(deleteSelect > newContent.length() ? newContent.length() : deleteSelect);\n        }\n        //\n        if (MatcheUtils.isCreditNumber(newContent.replaceAll(\" \", \"\"))) {\n            bt_submit.setEnabled(true);\n            return;\n        }\n        bt_submit.setEnabled(false);\n    }\n});\n```\n `onTextChanged()`\n\n##  ##\n[GitHub](https://github.com/YuanTiger/EditText_Card_Limit)\n100\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg)\n","slug":"Android-EditText-card-limit","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdul0000hnnf97c3net2","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/et_1.gif\" alt=\"\"><br><br>App<br>Kiss</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>4<br></p>\n<ul>\n<li>EditText</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>.<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png\" alt=\"\"><br></p>\n<ol>\n<li>44</li>\n<li></li>\n</ol>\n<p>2,4<br>EditText<br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">et_credit_number.addTextChangedListener(<span class=\"keyword\">new</span> TextWatcher() &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">beforeTextChanged</span><span class=\"params\">(CharSequence s, <span class=\"keyword\">int</span> start, <span class=\"keyword\">int</span> count, <span class=\"keyword\">int</span> after)</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">onTextChanged</span><span class=\"params\">(CharSequence s, <span class=\"keyword\">int</span> start, <span class=\"keyword\">int</span> before, <span class=\"keyword\">int</span> count)</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">afterTextChanged</span><span class=\"params\">(Editable s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//,</span></span><br><span class=\"line\">        String etContent = EditTextUtils.getText(et_credit_number);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (TextUtils.isEmpty(etContent)) &#123;</span><br><span class=\"line\">            bt_submit.setEnabled(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        String newContent = AppUtils.addSpeaceByCredit(etContent);</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//EditTextsetText()</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!etContent.equals(newContent)) &#123;</span><br><span class=\"line\">            et_credit_number.setText(newContent);</span><br><span class=\"line\">            <span class=\"comment\">//setText</span></span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            et_credit_number.setSelection(newContent.length());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (MatcheUtils.isCreditNumber(newContent.replaceAll(<span class=\"string\">\" \"</span>, <span class=\"string\">\"\"</span>))) &#123;</span><br><span class=\"line\">            bt_submit.setEnabled(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        bt_submit.setEnabled(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">String</span> addSpeaceByCredit(<span class=\"keyword\">String</span> content) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (TextUtils.isEmpty(content)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    content = content.replaceAll(<span class=\"string\">\" \"</span>, <span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (TextUtils.isEmpty(content)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//16</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (content.length() &gt; <span class=\"number\">16</span>) &#123;</span><br><span class=\"line\">        content = content.substring(<span class=\"number\">0</span>, <span class=\"number\">16</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    StringBuilder <span class=\"keyword\">new</span><span class=\"type\">String</span> = <span class=\"keyword\">new</span> <span class=\"type\">StringBuilder</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (int i = <span class=\"number\">1</span>; i &lt;= content.length(); i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//44</span></span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i % <span class=\"number\">4</span> == <span class=\"number\">0</span> &amp;&amp; i != content.length()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">new</span><span class=\"type\">String</span>.append(content.charAt(i - <span class=\"number\">1</span>) + <span class=\"string\">\" \"</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//4</span></span><br><span class=\"line\">            <span class=\"keyword\">new</span><span class=\"type\">String</span>.append(content.charAt(i - <span class=\"number\">1</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span><span class=\"type\">String</span>.toString();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/et_2.gif\" alt=\"\"><br><br><br><br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/et_3.gif\" alt=\"\"><br><br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">et_credit_number.addTextChangedListener(<span class=\"keyword\">new</span> <span class=\"type\">TextWatcher</span>() &#123;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    <span class=\"keyword\">public</span> void beforeTextChanged(CharSequence s, int start, int count, int after) &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    <span class=\"keyword\">public</span> void onTextChanged(CharSequence s, int start, int before, int count) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//setText</span></span><br><span class=\"line\">        <span class=\"comment\">//0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (start == <span class=\"number\">0</span> &amp;&amp; count &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">String</span> editTextContent = EditTextUtils.getText(et_credit_number);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (TextUtils.isEmpty(editTextContent) || TextUtils.isEmpty(lastString)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        editTextContent = AppUtils.addSpeaceByCredit(editTextContent);</span><br><span class=\"line\">        <span class=\"comment\">// &lt; </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (editTextContent.length() &lt;= lastString.length()) &#123;</span><br><span class=\"line\">            deleteSelect = start;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            deleteSelect = editTextContent.length();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    <span class=\"keyword\">public</span> void afterTextChanged(Editable s) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//,</span></span><br><span class=\"line\">        <span class=\"keyword\">String</span> etContent = EditTextUtils.getText(et_credit_number);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (TextUtils.isEmpty(etContent)) &#123;</span><br><span class=\"line\">            bt_submit.setEnabled(<span class=\"literal\">false</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">String</span> <span class=\"keyword\">new</span><span class=\"type\">Content</span> = AppUtils.addSpeaceByCredit(etContent);</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        lastString = <span class=\"keyword\">new</span><span class=\"type\">Content</span>;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//EditTextsetText()</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!etContent.equals(<span class=\"keyword\">new</span><span class=\"type\">Content</span>)) &#123;</span><br><span class=\"line\">            et_credit_number.setText(<span class=\"keyword\">new</span><span class=\"type\">Content</span>);</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            et_credit_number.setSelection(deleteSelect &gt; <span class=\"keyword\">new</span><span class=\"type\">Content</span>.length() ? <span class=\"keyword\">new</span><span class=\"type\">Content</span>.length() : <span class=\"type\">deleteSelect</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (MatcheUtils.isCreditNumber(<span class=\"keyword\">new</span><span class=\"type\">Content</span>.replaceAll(<span class=\"string\">\" \"</span>, <span class=\"string\">\"\"</span>))) &#123;</span><br><span class=\"line\">            bt_submit.setEnabled(<span class=\"literal\">true</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        bt_submit.setEnabled(<span class=\"literal\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p> <code>onTextChanged()</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/EditText_Card_Limit\" target=\"_blank\" rel=\"noopener\">GitHub</a><br>100<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/et_1.gif\" alt=\"\"><br><br>App<br>Kiss</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>4<br></p>\n<ul>\n<li>EditText</li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>.<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png\" alt=\"\"><br></p>\n<ol>\n<li>44</li>\n<li></li>\n</ol>\n<p>2,4<br>EditText<br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">et_credit_number.addTextChangedListener(<span class=\"keyword\">new</span> TextWatcher() &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">beforeTextChanged</span><span class=\"params\">(CharSequence s, <span class=\"keyword\">int</span> start, <span class=\"keyword\">int</span> count, <span class=\"keyword\">int</span> after)</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">onTextChanged</span><span class=\"params\">(CharSequence s, <span class=\"keyword\">int</span> start, <span class=\"keyword\">int</span> before, <span class=\"keyword\">int</span> count)</span> </span>&#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">afterTextChanged</span><span class=\"params\">(Editable s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//,</span></span><br><span class=\"line\">        String etContent = EditTextUtils.getText(et_credit_number);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (TextUtils.isEmpty(etContent)) &#123;</span><br><span class=\"line\">            bt_submit.setEnabled(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        String newContent = AppUtils.addSpeaceByCredit(etContent);</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//EditTextsetText()</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!etContent.equals(newContent)) &#123;</span><br><span class=\"line\">            et_credit_number.setText(newContent);</span><br><span class=\"line\">            <span class=\"comment\">//setText</span></span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            et_credit_number.setSelection(newContent.length());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (MatcheUtils.isCreditNumber(newContent.replaceAll(<span class=\"string\">\" \"</span>, <span class=\"string\">\"\"</span>))) &#123;</span><br><span class=\"line\">            bt_submit.setEnabled(<span class=\"keyword\">true</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        bt_submit.setEnabled(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">String</span> addSpeaceByCredit(<span class=\"keyword\">String</span> content) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (TextUtils.isEmpty(content)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    content = content.replaceAll(<span class=\"string\">\" \"</span>, <span class=\"string\">\"\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (TextUtils.isEmpty(content)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//16</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (content.length() &gt; <span class=\"number\">16</span>) &#123;</span><br><span class=\"line\">        content = content.substring(<span class=\"number\">0</span>, <span class=\"number\">16</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    StringBuilder <span class=\"keyword\">new</span><span class=\"type\">String</span> = <span class=\"keyword\">new</span> <span class=\"type\">StringBuilder</span>();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (int i = <span class=\"number\">1</span>; i &lt;= content.length(); i++) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//44</span></span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (i % <span class=\"number\">4</span> == <span class=\"number\">0</span> &amp;&amp; i != content.length()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">new</span><span class=\"type\">String</span>.append(content.charAt(i - <span class=\"number\">1</span>) + <span class=\"string\">\" \"</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//4</span></span><br><span class=\"line\">            <span class=\"keyword\">new</span><span class=\"type\">String</span>.append(content.charAt(i - <span class=\"number\">1</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span><span class=\"type\">String</span>.toString();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/et_2.gif\" alt=\"\"><br><br><br><br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/et_3.gif\" alt=\"\"><br><br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">et_credit_number.addTextChangedListener(<span class=\"keyword\">new</span> <span class=\"type\">TextWatcher</span>() &#123;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    <span class=\"keyword\">public</span> void beforeTextChanged(CharSequence s, int start, int count, int after) &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    <span class=\"keyword\">public</span> void onTextChanged(CharSequence s, int start, int before, int count) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//setText</span></span><br><span class=\"line\">        <span class=\"comment\">//0</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (start == <span class=\"number\">0</span> &amp;&amp; count &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">String</span> editTextContent = EditTextUtils.getText(et_credit_number);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (TextUtils.isEmpty(editTextContent) || TextUtils.isEmpty(lastString)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        editTextContent = AppUtils.addSpeaceByCredit(editTextContent);</span><br><span class=\"line\">        <span class=\"comment\">// &lt; </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (editTextContent.length() &lt;= lastString.length()) &#123;</span><br><span class=\"line\">            deleteSelect = start;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            deleteSelect = editTextContent.length();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    <span class=\"keyword\">public</span> void afterTextChanged(Editable s) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//,</span></span><br><span class=\"line\">        <span class=\"keyword\">String</span> etContent = EditTextUtils.getText(et_credit_number);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (TextUtils.isEmpty(etContent)) &#123;</span><br><span class=\"line\">            bt_submit.setEnabled(<span class=\"literal\">false</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">String</span> <span class=\"keyword\">new</span><span class=\"type\">Content</span> = AppUtils.addSpeaceByCredit(etContent);</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        lastString = <span class=\"keyword\">new</span><span class=\"type\">Content</span>;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//EditTextsetText()</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!etContent.equals(<span class=\"keyword\">new</span><span class=\"type\">Content</span>)) &#123;</span><br><span class=\"line\">            et_credit_number.setText(<span class=\"keyword\">new</span><span class=\"type\">Content</span>);</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            et_credit_number.setSelection(deleteSelect &gt; <span class=\"keyword\">new</span><span class=\"type\">Content</span>.length() ? <span class=\"keyword\">new</span><span class=\"type\">Content</span>.length() : <span class=\"type\">deleteSelect</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (MatcheUtils.isCreditNumber(<span class=\"keyword\">new</span><span class=\"type\">Content</span>.replaceAll(<span class=\"string\">\" \"</span>, <span class=\"string\">\"\"</span>))) &#123;</span><br><span class=\"line\">            bt_submit.setEnabled(<span class=\"literal\">true</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        bt_submit.setEnabled(<span class=\"literal\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p> <code>onTextChanged()</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/EditText_Card_Limit\" target=\"_blank\" rel=\"noopener\">GitHub</a><br>100<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg\" alt=\"\"></p>\n"},{"title":"Android_Handler","date":"2017-05-15T06:57:07.000Z","_content":"HandlerAndroid\nHandlerHandler\n##  ##\nHandler\n\n1. Handler\n```\n    Handler handler = new Handler();\n```\n HandlerLooperRuntimeException:\n```\n    Looper.prepare();\n    Handler handler = new Handler();\n    handler.sendEmptyMessage(8);\n    Looper.loop();\n```\n Looper`Looper.loop()`Handler\n `Looper.loop()``Looper.loop()``Looper.loop()``ActivityThread`mainLooper\n HandlerLooperHandlerLooperLooperLooper\n LooperLooperRuntimeException\n\n2. Handler\nhandlerHandlerHandlerMessageHandlerMessage`MessageQueue.enqueueMessage()`\nMessageMessageQueue\n3. Handler\n`Looper.prepare()``looper.loop()`\n`loop()`for(;;)`MessageQueue.next()``MessageQueue`Meesage\nLooper`MessageQueue``MessageQueue``Looper.loop()`Message`MessageQueue`\nMessagemessage.target.dispatchMessage()Handler\n4. `loop()``loop()`\nMeesage`MessageQueue.enqueueMessage()``enqueueMessage()``nativeWeak()`nativeLooperLooper:\n```\n// We can assume mPtr != 0 because mQuitting is false.\nif (needWake) {\n    nativeWake(mPtr);\n}\n```\n5. \n`Looper.prepare()`Looper`Looper.loop()`loop()`Looper.loop()`\n`MessageQueue.next()``MessageQueue.next()``nativePollOnce()`native`Looper.loop()``MessageQueue``MessageQueue.enqueueMessage()`Looper`nativeWeak()`nativeLooper()\n\n## Handler ##\n\n1. \n``Handler\n    ```\n    //Handlerandroid.os\n   private Handler handler = new Handler() {\n        @Override\n        public void handleMessage(Message msg) {\n            System.out.println(\"Handler\");\n        }\n    };\n    ```\n\n Handler\n    ```\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //Handlerwhat8883\n        handler.sendEmptyMessageDelayed(888,3000);\n    }\n    ```\n HandlerMessageMessageMessageMessage\n![](http://7xvzby.com1.z0.glb.clouddn.com/handler/handler_send_funcation.png)\n\n 3sLog\n2. \n``Handler``\n``\n``Handler\n```\nnew Thread(){\n    @Override\n    public void run() {\n        super.run();\n        Handler handler = new Handler(){\n             @Override\n            public void handleMessage(Message msg) {\n                System.out.println(\"Handler\");\n            }\n        };\n    }\n}.start();\n```\n \n```\njava.lang.RuntimeException: Can''t create handler inside thread that has not called Looper.prepare()\nat android.os.Handler.<init>(Handler.java:200)\nat android.os.Handler.<init>(Handler.java:114)\nat com.my.oo.MainActivity$2$1.<init>(MainActivity.java:0)\n```\n **HandlerLooper.prepare()**\n Handler`Looper.prepare()`:\n```\n//\nnew Thread(){\n    @Override\n    public void run() {\n        super.run();\n        //Looper.prepare()\n        Looper.prepare();\n        //Handler\n        Handler handler = new Handler(){\n             @Override\n            public void handleMessage(Message msg) {\n                System.out.println(\"Handler\");\n            }\n        };\n        //\n        handler.sendEmptyMessage(111);\n    }\n}.start();\n```\n HandlerLooper\n```\n//\nnew Thread(){\n    @Override\n    public void run() {\n        super.run();\n        //Looper.prepare()\n        Looper.prepare();\n        //Handler\n        Handler handler = new Handler(){\n             @Override\n            public void handleMessage(Message msg) {\n                System.out.println(\"Handler\");\n            }\n        };\n        //\n        handler.sendEmptyMessage(111);\n        //Looper\n        Looper.loop();\n    }\n}.start();\n```\n **`Looper.loop()``Looper.loop()`**``\n3. \nHandler``Handler`Looper.prepare()``Looper.loop()`Handler\n\n##  ##\n1. Handler\nHandler\n```\npublic Handler(Callback callback, boolean async) {\n    //....\n    mLooper = Looper.myLooper();\n    if (mLooper == null) {\n        throw new RuntimeException(\n            \"Can't create handler inside thread that has not called Looper.prepare()\");\n    }\n    mQueue = mLooper.mQueue;\n    mCallback = callback;\n    mAsynchronous = async;\n}\n```\n Handler`Looper`Handler`Looper.prepare()`\n ```Looper.prepare()`Handler\n \n Handler`Looper```Handler`Looper`\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/zhenxiang_just_one.jpeg)\n `Looper`()``\nGoogle:`ActivityThread`\n main\n```\npublic static void main(String[] args) {\n    //....\n    Looper.prepareMainLooper();\n    ActivityThread thread = new ActivityThread();\n    thread.attach(false);\n    if (sMainThreadHandler == null) {\n        sMainThreadHandler = thread.getHandler();\n    }\n    if (false) {\n        Looper.myLooper().setMessageLogging(new\n                LogPrinter(Log.DEBUG, \"ActivityThread\"));\n    }\n    // End of event ActivityThreadMain.\n    Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER);\n    Looper.loop();\n    throw new RuntimeException(\"Main thread loop unexpectedly exited\");\n}\n```\n `Looper`\n Looper.loop()\n```\nLooper.loop();\nthrow new RuntimeException(\"Main thread loop unexpectedly exited\");\n```\n Looper\n Looper.loop()Looper.loop()**`Looper.loop()`**\n `prepareMainLooper()``prepare()`\n```\npublic static void prepareMainLooper() {\n    prepare(false);\n    synchronized (Looper.class) {\n        if (sMainLooper != null) {\n            throw new IllegalStateException(\"The main Looper has already been prepared.\");\n        }\n        sMainLooper = myLooper();\n    }\n}\n```\n `Looper.prepare()`\n `Looper.prepare()`\n```\nprivate static void prepare(boolean quitAllowed) {\n    if (sThreadLocal.get() != null) {\n        throw new RuntimeException(\"Only one Looper may be created per thread\");\n    }\n    //new Looper()\n    sThreadLocal.set(new Looper(quitAllowed));\n}\n```\n Looper`RuntimeEception`\n Looper`Looper.prepare()`\n newLooper\n`new Looper()``MessageQueue`\n```\nprivate Looper(boolean quitAllowed) {\n    mQueue = new MessageQueue(quitAllowed);\n    mThread = Thread.currentThread();\n}\n```\n Handler\n\n2. HandlerMeesage\nHandlerHandlerHandlerHanlder\n`MessageQueue``enqueueMessage()`\nHandler`MeesageQueue`\n`new Looper()`\n`new Handler()``new Looper()`\n`new Looper()``new MessageQueue()`\nHandler`Looper``MeesageQueue`\n`MessageQueue.enqueueMessage()`\n```\nboolean enqueueMessage(Message msg, long when) {\n        //Meesage\n        //msg.targetMessageHandler\n        if (msg.target == null) {\n            throw new IllegalArgumentException(\"Message must have a target.\");\n        }\n        if (msg.isInUse()) {\n            throw new IllegalStateException(msg + \" This message is already in use.\");\n        }\n        //\n        synchronized (this) {\n            //quit()\n            //HandlerLooper\n            if (mQuitting) {\n                IllegalStateException e = new IllegalStateException(\n                        msg.target + \" sending message to a Handler on a dead thread\");\n                Log.w(TAG, e.getMessage(), e);\n                msg.recycle();\n                return false;\n            }\n\n            //MessageQueue\n            //\n            msg.markInUse();\n            msg.when = when;\n            Message p = mMessages;\n            boolean needWake;\n            if (p == null || when == 0 || when < p.when) {\n                // New head, wake up the event queue if blocked.\n                msg.next = p;\n                mMessages = msg;\n                needWake = mBlocked;\n            } else {\n                Message prev;\n                for (;;) {\n                    prev = p;\n                    p = p.next;\n                    if (p == null || when < p.when) {\n                        break;\n                    }\n                    if (needWake && p.isAsynchronous()) {\n                        needWake = false;\n                    }\n                }\n                msg.next = p; // invariant: p == prev.next\n                prev.next = msg;\n            }\n\n            //Looper.loop()\n            //nativeloop()\n            //------Looper\n            if (needWake) {\n                nativeWake(mPtr);\n            }\n        }\n        return true;\n    }\n```\n Message`MeesageQueue`\n \n3. Message\nMeesage`Looper.loop()`\n```\npublic static void loop() {\n    //Looper\n    final Looper me = myLooper();\n    if (me == null) {\n        throw new RuntimeException(\"No Looper; Looper.prepare() wasn't called on this thread.\");\n    }\n    final MessageQueue queue = me.mQueue;\n    // Make sure the identity of this thread is that of the local process,\n    // and keep track of what that identity token actually is.\n    Binder.clearCallingIdentity();\n    final long ident = Binder.clearCallingIdentity();\n    //Message\n    for (;;) {\n        //Meesage\n        //next()next()loop()\n        Message msg = queue.next(); // might block\n        if (msg == null) {\n            // No message indicates that the message queue is quitting.\n            return;\n        }\n        // This must be in a local variable, in case a UI event sets the logger\n        final Printer logging = me.mLogging;\n        if (logging != null) {\n            logging.println(\">>>>> Dispatching to \" + msg.target + \" \" +\n                    msg.callback + \": \" + msg.what);\n        }\n        final long traceTag = me.mTraceTag;\n        if (traceTag != 0 && Trace.isTagEnabled(traceTag)) {\n            Trace.traceBegin(traceTag, msg.target.getTraceName(msg));\n        }\n        try {\n            msg.target.dispatchMessage(msg);\n        } finally {\n            if (traceTag != 0) {\n                Trace.traceEnd(traceTag);\n            }\n        }\n        if (logging != null) {\n            logging.println(\"<<<<< Finished to \" + msg.target + \" \" + msg.callback);\n        }\n        // Make sure that during the course of dispatching the\n        // identity of the thread wasn't corrupted.\n        final long newIdent = Binder.clearCallingIdentity();\n        if (ident != newIdent) {\n            Log.wtf(TAG, \"Thread identity changed from 0x\"\n                    + Long.toHexString(ident) + \" to 0x\"\n                    + Long.toHexString(newIdent) + \" while dispatching to \"\n                    + msg.target.getClass().getName() + \" \"\n                    + msg.callback + \" what=\" + msg.what);\n        }\n        msg.recycleUnchecked();\n    }\n}\n```\n `Looper.loop()`MessageMessage`MeesageQueue.next()`\n```\n Message next() {\n    // Return here if the message loop has already quit and been disposed.\n    // This can happen if the application tries to restart a looper after quit\n    // which is not supported.\n    final long ptr = mPtr;\n    if (ptr == 0) {\n        return null;\n    }\n    int pendingIdleHandlerCount = -1; // -1 only during first iteration\n    int nextPollTimeoutMillis = 0;\n    for (;;) {\n        if (nextPollTimeoutMillis != 0) {\n            Binder.flushPendingCommands();\n        }\n        //Looper.loop()native\n        nativePollOnce(ptr, nextPollTimeoutMillis);\n        synchronized (this) {\n            // Try to retrieve the next message.  Return if found.\n            final long now = SystemClock.uptimeMillis();\n            Message prevMsg = null;\n            Message msg = mMessages;\n            if (msg != null && msg.target == null) {\n                // Stalled by a barrier.  Find the next asynchronous message in the \n                do {\n                    prevMsg = msg;\n                    msg = msg.next;\n                } while (msg != null && !msg.isAsynchronous());\n            }\n            if (msg != null) {\n                if (now < msg.when) {\n                    // Next message is not ready.  Set a timeout to wake up when it \n                    nextPollTimeoutMillis = (int) Math.min(msg.when - now, Integer.M\n                } else {\n                    // Got a message.\n                    mBlocked = false;\n                    if (prevMsg != null) {\n                        prevMsg.next = msg.next;\n                    } else {\n                        mMessages = msg.next;\n                    }\n                    msg.next = null;\n                    if (DEBUG) Log.v(TAG, \"Returning message: \" + msg);\n                    msg.markInUse();\n                    return msg;\n                }\n            } else {\n                // No more messages.\n                nextPollTimeoutMillis = -1;\n            }\n            // Process the quit message now that all pending messages have been hand\n            if (mQuitting) {\n                dispose();\n                return null;\n            }\n            // If first time idle, then get the number of idlers to run.\n            // Idle handles only run if the queue is empty or if the first message\n            // in the queue (possibly a barrier) is due to be handled in the future.\n            if (pendingIdleHandlerCount < 0\n                    && (mMessages == null || now < mMessages.when)) {\n                pendingIdleHandlerCount = mIdleHandlers.size();\n            }\n            if (pendingIdleHandlerCount <= 0) {\n                // No idle handlers to run.  Loop and wait some more.\n                mBlocked = true;\n                continue;\n            }\n            if (mPendingIdleHandlers == null) {\n                mPendingIdleHandlers = new IdleHandler[Math.max(pendingIdleHandlerCo\n            }\n            mPendingIdleHandlers = mIdleHandlers.toArray(mPendingIdleHandlers);\n        }\n        // Run the idle handlers.\n        // We only ever reach this code block during the first iteration.\n        for (int i = 0; i < pendingIdleHandlerCount; i++) {\n            final IdleHandler idler = mPendingIdleHandlers[i];\n            mPendingIdleHandlers[i] = null; // release the reference to the handler\n            boolean keep = false;\n            try {\n                keep = idler.queueIdle();\n            } catch (Throwable t) {\n                Log.wtf(TAG, \"IdleHandler threw exception\", t);\n            }\n            if (!keep) {\n                synchronized (this) {\n                    mIdleHandlers.remove(idler);\n                }\n            }\n        }\n        // Reset the idle handler count to 0 so we do not run them again.\n        pendingIdleHandlerCount = 0;\n        // While calling an idle handler, a new message could have been delivered\n        // so go back and look again for a pending message without waiting.\n        nextPollTimeoutMillis = 0;\n    }\n}\n```\n Meesagenext()  idle handler  gc \n\n##  ##\nHandler\n\n","source":"_posts/Android-Handler.md","raw":"---\ntitle: Android_Handler\ndate: 2017-05-15 14:57:07\ntags:\n   - Android\n---\nHandlerAndroid\nHandlerHandler\n##  ##\nHandler\n\n1. Handler\n```\n    Handler handler = new Handler();\n```\n HandlerLooperRuntimeException:\n```\n    Looper.prepare();\n    Handler handler = new Handler();\n    handler.sendEmptyMessage(8);\n    Looper.loop();\n```\n Looper`Looper.loop()`Handler\n `Looper.loop()``Looper.loop()``Looper.loop()``ActivityThread`mainLooper\n HandlerLooperHandlerLooperLooperLooper\n LooperLooperRuntimeException\n\n2. Handler\nhandlerHandlerHandlerMessageHandlerMessage`MessageQueue.enqueueMessage()`\nMessageMessageQueue\n3. Handler\n`Looper.prepare()``looper.loop()`\n`loop()`for(;;)`MessageQueue.next()``MessageQueue`Meesage\nLooper`MessageQueue``MessageQueue``Looper.loop()`Message`MessageQueue`\nMessagemessage.target.dispatchMessage()Handler\n4. `loop()``loop()`\nMeesage`MessageQueue.enqueueMessage()``enqueueMessage()``nativeWeak()`nativeLooperLooper:\n```\n// We can assume mPtr != 0 because mQuitting is false.\nif (needWake) {\n    nativeWake(mPtr);\n}\n```\n5. \n`Looper.prepare()`Looper`Looper.loop()`loop()`Looper.loop()`\n`MessageQueue.next()``MessageQueue.next()``nativePollOnce()`native`Looper.loop()``MessageQueue``MessageQueue.enqueueMessage()`Looper`nativeWeak()`nativeLooper()\n\n## Handler ##\n\n1. \n``Handler\n    ```\n    //Handlerandroid.os\n   private Handler handler = new Handler() {\n        @Override\n        public void handleMessage(Message msg) {\n            System.out.println(\"Handler\");\n        }\n    };\n    ```\n\n Handler\n    ```\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //Handlerwhat8883\n        handler.sendEmptyMessageDelayed(888,3000);\n    }\n    ```\n HandlerMessageMessageMessageMessage\n![](http://7xvzby.com1.z0.glb.clouddn.com/handler/handler_send_funcation.png)\n\n 3sLog\n2. \n``Handler``\n``\n``Handler\n```\nnew Thread(){\n    @Override\n    public void run() {\n        super.run();\n        Handler handler = new Handler(){\n             @Override\n            public void handleMessage(Message msg) {\n                System.out.println(\"Handler\");\n            }\n        };\n    }\n}.start();\n```\n \n```\njava.lang.RuntimeException: Can''t create handler inside thread that has not called Looper.prepare()\nat android.os.Handler.<init>(Handler.java:200)\nat android.os.Handler.<init>(Handler.java:114)\nat com.my.oo.MainActivity$2$1.<init>(MainActivity.java:0)\n```\n **HandlerLooper.prepare()**\n Handler`Looper.prepare()`:\n```\n//\nnew Thread(){\n    @Override\n    public void run() {\n        super.run();\n        //Looper.prepare()\n        Looper.prepare();\n        //Handler\n        Handler handler = new Handler(){\n             @Override\n            public void handleMessage(Message msg) {\n                System.out.println(\"Handler\");\n            }\n        };\n        //\n        handler.sendEmptyMessage(111);\n    }\n}.start();\n```\n HandlerLooper\n```\n//\nnew Thread(){\n    @Override\n    public void run() {\n        super.run();\n        //Looper.prepare()\n        Looper.prepare();\n        //Handler\n        Handler handler = new Handler(){\n             @Override\n            public void handleMessage(Message msg) {\n                System.out.println(\"Handler\");\n            }\n        };\n        //\n        handler.sendEmptyMessage(111);\n        //Looper\n        Looper.loop();\n    }\n}.start();\n```\n **`Looper.loop()``Looper.loop()`**``\n3. \nHandler``Handler`Looper.prepare()``Looper.loop()`Handler\n\n##  ##\n1. Handler\nHandler\n```\npublic Handler(Callback callback, boolean async) {\n    //....\n    mLooper = Looper.myLooper();\n    if (mLooper == null) {\n        throw new RuntimeException(\n            \"Can't create handler inside thread that has not called Looper.prepare()\");\n    }\n    mQueue = mLooper.mQueue;\n    mCallback = callback;\n    mAsynchronous = async;\n}\n```\n Handler`Looper`Handler`Looper.prepare()`\n ```Looper.prepare()`Handler\n \n Handler`Looper```Handler`Looper`\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/zhenxiang_just_one.jpeg)\n `Looper`()``\nGoogle:`ActivityThread`\n main\n```\npublic static void main(String[] args) {\n    //....\n    Looper.prepareMainLooper();\n    ActivityThread thread = new ActivityThread();\n    thread.attach(false);\n    if (sMainThreadHandler == null) {\n        sMainThreadHandler = thread.getHandler();\n    }\n    if (false) {\n        Looper.myLooper().setMessageLogging(new\n                LogPrinter(Log.DEBUG, \"ActivityThread\"));\n    }\n    // End of event ActivityThreadMain.\n    Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER);\n    Looper.loop();\n    throw new RuntimeException(\"Main thread loop unexpectedly exited\");\n}\n```\n `Looper`\n Looper.loop()\n```\nLooper.loop();\nthrow new RuntimeException(\"Main thread loop unexpectedly exited\");\n```\n Looper\n Looper.loop()Looper.loop()**`Looper.loop()`**\n `prepareMainLooper()``prepare()`\n```\npublic static void prepareMainLooper() {\n    prepare(false);\n    synchronized (Looper.class) {\n        if (sMainLooper != null) {\n            throw new IllegalStateException(\"The main Looper has already been prepared.\");\n        }\n        sMainLooper = myLooper();\n    }\n}\n```\n `Looper.prepare()`\n `Looper.prepare()`\n```\nprivate static void prepare(boolean quitAllowed) {\n    if (sThreadLocal.get() != null) {\n        throw new RuntimeException(\"Only one Looper may be created per thread\");\n    }\n    //new Looper()\n    sThreadLocal.set(new Looper(quitAllowed));\n}\n```\n Looper`RuntimeEception`\n Looper`Looper.prepare()`\n newLooper\n`new Looper()``MessageQueue`\n```\nprivate Looper(boolean quitAllowed) {\n    mQueue = new MessageQueue(quitAllowed);\n    mThread = Thread.currentThread();\n}\n```\n Handler\n\n2. HandlerMeesage\nHandlerHandlerHandlerHanlder\n`MessageQueue``enqueueMessage()`\nHandler`MeesageQueue`\n`new Looper()`\n`new Handler()``new Looper()`\n`new Looper()``new MessageQueue()`\nHandler`Looper``MeesageQueue`\n`MessageQueue.enqueueMessage()`\n```\nboolean enqueueMessage(Message msg, long when) {\n        //Meesage\n        //msg.targetMessageHandler\n        if (msg.target == null) {\n            throw new IllegalArgumentException(\"Message must have a target.\");\n        }\n        if (msg.isInUse()) {\n            throw new IllegalStateException(msg + \" This message is already in use.\");\n        }\n        //\n        synchronized (this) {\n            //quit()\n            //HandlerLooper\n            if (mQuitting) {\n                IllegalStateException e = new IllegalStateException(\n                        msg.target + \" sending message to a Handler on a dead thread\");\n                Log.w(TAG, e.getMessage(), e);\n                msg.recycle();\n                return false;\n            }\n\n            //MessageQueue\n            //\n            msg.markInUse();\n            msg.when = when;\n            Message p = mMessages;\n            boolean needWake;\n            if (p == null || when == 0 || when < p.when) {\n                // New head, wake up the event queue if blocked.\n                msg.next = p;\n                mMessages = msg;\n                needWake = mBlocked;\n            } else {\n                Message prev;\n                for (;;) {\n                    prev = p;\n                    p = p.next;\n                    if (p == null || when < p.when) {\n                        break;\n                    }\n                    if (needWake && p.isAsynchronous()) {\n                        needWake = false;\n                    }\n                }\n                msg.next = p; // invariant: p == prev.next\n                prev.next = msg;\n            }\n\n            //Looper.loop()\n            //nativeloop()\n            //------Looper\n            if (needWake) {\n                nativeWake(mPtr);\n            }\n        }\n        return true;\n    }\n```\n Message`MeesageQueue`\n \n3. Message\nMeesage`Looper.loop()`\n```\npublic static void loop() {\n    //Looper\n    final Looper me = myLooper();\n    if (me == null) {\n        throw new RuntimeException(\"No Looper; Looper.prepare() wasn't called on this thread.\");\n    }\n    final MessageQueue queue = me.mQueue;\n    // Make sure the identity of this thread is that of the local process,\n    // and keep track of what that identity token actually is.\n    Binder.clearCallingIdentity();\n    final long ident = Binder.clearCallingIdentity();\n    //Message\n    for (;;) {\n        //Meesage\n        //next()next()loop()\n        Message msg = queue.next(); // might block\n        if (msg == null) {\n            // No message indicates that the message queue is quitting.\n            return;\n        }\n        // This must be in a local variable, in case a UI event sets the logger\n        final Printer logging = me.mLogging;\n        if (logging != null) {\n            logging.println(\">>>>> Dispatching to \" + msg.target + \" \" +\n                    msg.callback + \": \" + msg.what);\n        }\n        final long traceTag = me.mTraceTag;\n        if (traceTag != 0 && Trace.isTagEnabled(traceTag)) {\n            Trace.traceBegin(traceTag, msg.target.getTraceName(msg));\n        }\n        try {\n            msg.target.dispatchMessage(msg);\n        } finally {\n            if (traceTag != 0) {\n                Trace.traceEnd(traceTag);\n            }\n        }\n        if (logging != null) {\n            logging.println(\"<<<<< Finished to \" + msg.target + \" \" + msg.callback);\n        }\n        // Make sure that during the course of dispatching the\n        // identity of the thread wasn't corrupted.\n        final long newIdent = Binder.clearCallingIdentity();\n        if (ident != newIdent) {\n            Log.wtf(TAG, \"Thread identity changed from 0x\"\n                    + Long.toHexString(ident) + \" to 0x\"\n                    + Long.toHexString(newIdent) + \" while dispatching to \"\n                    + msg.target.getClass().getName() + \" \"\n                    + msg.callback + \" what=\" + msg.what);\n        }\n        msg.recycleUnchecked();\n    }\n}\n```\n `Looper.loop()`MessageMessage`MeesageQueue.next()`\n```\n Message next() {\n    // Return here if the message loop has already quit and been disposed.\n    // This can happen if the application tries to restart a looper after quit\n    // which is not supported.\n    final long ptr = mPtr;\n    if (ptr == 0) {\n        return null;\n    }\n    int pendingIdleHandlerCount = -1; // -1 only during first iteration\n    int nextPollTimeoutMillis = 0;\n    for (;;) {\n        if (nextPollTimeoutMillis != 0) {\n            Binder.flushPendingCommands();\n        }\n        //Looper.loop()native\n        nativePollOnce(ptr, nextPollTimeoutMillis);\n        synchronized (this) {\n            // Try to retrieve the next message.  Return if found.\n            final long now = SystemClock.uptimeMillis();\n            Message prevMsg = null;\n            Message msg = mMessages;\n            if (msg != null && msg.target == null) {\n                // Stalled by a barrier.  Find the next asynchronous message in the \n                do {\n                    prevMsg = msg;\n                    msg = msg.next;\n                } while (msg != null && !msg.isAsynchronous());\n            }\n            if (msg != null) {\n                if (now < msg.when) {\n                    // Next message is not ready.  Set a timeout to wake up when it \n                    nextPollTimeoutMillis = (int) Math.min(msg.when - now, Integer.M\n                } else {\n                    // Got a message.\n                    mBlocked = false;\n                    if (prevMsg != null) {\n                        prevMsg.next = msg.next;\n                    } else {\n                        mMessages = msg.next;\n                    }\n                    msg.next = null;\n                    if (DEBUG) Log.v(TAG, \"Returning message: \" + msg);\n                    msg.markInUse();\n                    return msg;\n                }\n            } else {\n                // No more messages.\n                nextPollTimeoutMillis = -1;\n            }\n            // Process the quit message now that all pending messages have been hand\n            if (mQuitting) {\n                dispose();\n                return null;\n            }\n            // If first time idle, then get the number of idlers to run.\n            // Idle handles only run if the queue is empty or if the first message\n            // in the queue (possibly a barrier) is due to be handled in the future.\n            if (pendingIdleHandlerCount < 0\n                    && (mMessages == null || now < mMessages.when)) {\n                pendingIdleHandlerCount = mIdleHandlers.size();\n            }\n            if (pendingIdleHandlerCount <= 0) {\n                // No idle handlers to run.  Loop and wait some more.\n                mBlocked = true;\n                continue;\n            }\n            if (mPendingIdleHandlers == null) {\n                mPendingIdleHandlers = new IdleHandler[Math.max(pendingIdleHandlerCo\n            }\n            mPendingIdleHandlers = mIdleHandlers.toArray(mPendingIdleHandlers);\n        }\n        // Run the idle handlers.\n        // We only ever reach this code block during the first iteration.\n        for (int i = 0; i < pendingIdleHandlerCount; i++) {\n            final IdleHandler idler = mPendingIdleHandlers[i];\n            mPendingIdleHandlers[i] = null; // release the reference to the handler\n            boolean keep = false;\n            try {\n                keep = idler.queueIdle();\n            } catch (Throwable t) {\n                Log.wtf(TAG, \"IdleHandler threw exception\", t);\n            }\n            if (!keep) {\n                synchronized (this) {\n                    mIdleHandlers.remove(idler);\n                }\n            }\n        }\n        // Reset the idle handler count to 0 so we do not run them again.\n        pendingIdleHandlerCount = 0;\n        // While calling an idle handler, a new message could have been delivered\n        // so go back and look again for a pending message without waiting.\n        nextPollTimeoutMillis = 0;\n    }\n}\n```\n Meesagenext()  idle handler  gc \n\n##  ##\nHandler\n\n","slug":"Android-Handler","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxduw0002hnnfs523eyaf","content":"<p>HandlerAndroid<br>HandlerHandler</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Handler</p>\n<ol>\n<li><p>Handler</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Handler</span> <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> <span class=\"keyword\">Handler</span>();</span><br></pre></td></tr></table></figure>\n<p>HandlerLooperRuntimeException:</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Looper.prepare();</span><br><span class=\"line\"><span class=\"keyword\">Handler</span> <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> <span class=\"keyword\">Handler</span>();</span><br><span class=\"line\">handler.sendEmptyMessage(<span class=\"number\">8</span>);</span><br><span class=\"line\">Looper.loop();</span><br></pre></td></tr></table></figure>\n<p>Looper<code>Looper.loop()</code>Handler<br><code>Looper.loop()</code><code>Looper.loop()</code><code>Looper.loop()</code><code>ActivityThread</code>mainLooper<br>HandlerLooperHandlerLooperLooperLooper<br>LooperLooperRuntimeException</p>\n</li>\n<li><p>Handler<br>handlerHandlerHandlerMessageHandlerMessage<code>MessageQueue.enqueueMessage()</code><br>MessageMessageQueue</p>\n</li>\n<li>Handler<br><code>Looper.prepare()</code><code>looper.loop()</code><br><code>loop()</code>for(;;)<code>MessageQueue.next()</code><code>MessageQueue</code>Meesage<br>Looper<code>MessageQueue</code><code>MessageQueue</code><code>Looper.loop()</code>Message<code>MessageQueue</code><br>Messagemessage.target.dispatchMessage()Handler</li>\n<li><p><code>loop()</code><code>loop()</code><br>Meesage<code>MessageQueue.enqueueMessage()</code><code>enqueueMessage()</code><code>nativeWeak()</code>nativeLooperLooper:</p>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// We can <span class=\"built_in\">assume</span> mPtr != <span class=\"number\">0</span> because mQuitting <span class=\"built_in\">is</span> <span class=\"literal\">false</span>.</span><br><span class=\"line\"><span class=\"keyword\">if</span> (needWake) &#123;</span><br><span class=\"line\">    nativeWake(mPtr);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br><code>Looper.prepare()</code>Looper<code>Looper.loop()</code>loop()<code>Looper.loop()</code><br><code>MessageQueue.next()</code><code>MessageQueue.next()</code><code>nativePollOnce()</code>native<code>Looper.loop()</code><code>MessageQueue</code><code>MessageQueue.enqueueMessage()</code>Looper<code>nativeWeak()</code>nativeLooper()</p>\n</li>\n</ol>\n<h2 id=\"Handler\"><a href=\"#Handler\" class=\"headerlink\" title=\"Handler\"></a>Handler</h2><ol>\n<li><p><br><code></code>Handler</p>\n <figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">//Handlerandroid.os</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> Handler <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> Handler() &#123;</span><br><span class=\"line\">     <span class=\"meta\">@Override</span></span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handleMessage</span><span class=\"params\">(Message msg)</span> </span>&#123;</span><br><span class=\"line\">         System.out.println(<span class=\"string\">\"Handler\"</span>);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;;</span><br></pre></td></tr></table></figure>\n<p>Handler</p>\n <figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">    setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Handlerwhat8883</span></span><br><span class=\"line\">    <span class=\"keyword\">handler</span>.sendEmptyMessageDelayed(<span class=\"number\">888</span>,<span class=\"number\">3000</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>HandlerMessageMessageMessageMessage<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/handler/handler_send_funcation.png\" alt=\"\"></p>\n<p>3sLog</p>\n</li>\n<li><p><br><code></code>Handler<code></code><br><code></code><br><code></code>Handler</p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Thread()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.run();</span><br><span class=\"line\">        Handler <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> Handler()&#123;</span><br><span class=\"line\">             <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handleMessage</span><span class=\"params\">(Message msg)</span> </span>&#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Handler\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;.start();</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.RuntimeException</span>: Can<span class=\"string\">''</span>t create handler inside thread that has not called Looper.prepare()</span><br><span class=\"line\">at android<span class=\"selector-class\">.os</span><span class=\"selector-class\">.Handler</span>.&lt;init&gt;(Handler<span class=\"selector-class\">.java</span>:<span class=\"number\">200</span>)</span><br><span class=\"line\">at android<span class=\"selector-class\">.os</span><span class=\"selector-class\">.Handler</span>.&lt;init&gt;(Handler<span class=\"selector-class\">.java</span>:<span class=\"number\">114</span>)</span><br><span class=\"line\">at com<span class=\"selector-class\">.my</span><span class=\"selector-class\">.oo</span><span class=\"selector-class\">.MainActivity</span>$<span class=\"number\">2</span>$<span class=\"number\">1</span>.&lt;init&gt;(MainActivity<span class=\"selector-class\">.java</span>:<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<p><strong>HandlerLooper.prepare()</strong><br>Handler<code>Looper.prepare()</code>:</p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Thread()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.run();</span><br><span class=\"line\">        <span class=\"comment\">//Looper.prepare()</span></span><br><span class=\"line\">        Looper.prepare();</span><br><span class=\"line\">        <span class=\"comment\">//Handler</span></span><br><span class=\"line\">        Handler <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> Handler()&#123;</span><br><span class=\"line\">             <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handleMessage</span><span class=\"params\">(Message msg)</span> </span>&#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Handler\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">handler</span>.sendEmptyMessage(<span class=\"number\">111</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;.start();</span><br></pre></td></tr></table></figure>\n<p>HandlerLooper</p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Thread()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.run();</span><br><span class=\"line\">        <span class=\"comment\">//Looper.prepare()</span></span><br><span class=\"line\">        Looper.prepare();</span><br><span class=\"line\">        <span class=\"comment\">//Handler</span></span><br><span class=\"line\">        Handler <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> Handler()&#123;</span><br><span class=\"line\">             <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handleMessage</span><span class=\"params\">(Message msg)</span> </span>&#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Handler\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">handler</span>.sendEmptyMessage(<span class=\"number\">111</span>);</span><br><span class=\"line\">        <span class=\"comment\">//Looper</span></span><br><span class=\"line\">        Looper.loop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;.start();</span><br></pre></td></tr></table></figure>\n<p><strong><code>Looper.loop()</code><code>Looper.loop()</code></strong><code></code></p>\n</li>\n<li><br>Handler<code></code>Handler<code>Looper.prepare()</code><code>Looper.loop()</code>Handler</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><p>Handler<br>Handler</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Handler</span>(<span class=\"params\">Callback callback, boolean <span class=\"keyword\">async</span></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//....</span></span><br><span class=\"line\">    mLooper = Looper.myLooper();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (mLooper == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(</span><br><span class=\"line\">            <span class=\"string\">\"Can't create handler inside thread that has not called Looper.prepare()\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    mQueue = mLooper.mQueue;</span><br><span class=\"line\">    mCallback = callback;</span><br><span class=\"line\">    mAsynchronous = <span class=\"keyword\">async</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Handler<code>Looper</code>Handler<code>Looper.prepare()</code><br><code></code><code>Looper.prepare()</code>Handler<br><br>Handler<code>Looper</code><code></code>Handler<code>Looper</code><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/zhenxiang_just_one.jpeg\" alt=\"\"><br><code>Looper</code>()<code></code><br>Google:<code>ActivityThread</code><br>main</p>\n<figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> void main(<span class=\"keyword\">String</span>[] args) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//....</span></span><br><span class=\"line\">    Looper.prepareMainLooper();</span><br><span class=\"line\">    ActivityThread thread = <span class=\"keyword\">new</span> <span class=\"type\">ActivityThread</span>();</span><br><span class=\"line\">    thread.attach(<span class=\"literal\">false</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (sMainThreadHandler == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        sMainThreadHandler = thread.getHandler();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">        Looper.myLooper().setMessageLogging(<span class=\"keyword\">new</span><span class=\"type\"></span></span><br><span class=\"line\"><span class=\"type\"></span>                LogPrinter(Log.DEBUG, <span class=\"string\">\"ActivityThread\"</span>));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// End of event ActivityThreadMain.</span></span><br><span class=\"line\">    Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER);</span><br><span class=\"line\">    Looper.loop();</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"type\">RuntimeException</span>(<span class=\"string\">\"Main thread loop unexpectedly exited\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>Looper</code><br>Looper.loop()</p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Looper.<span class=\"built_in\">loop</span>();</span><br><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(<span class=\"string\">\"Main thread loop unexpectedly exited\"</span>);</span><br></pre></td></tr></table></figure>\n<p>Looper<br>Looper.loop()Looper.loop()<strong><code>Looper.loop()</code></strong><br><code>prepareMainLooper()</code><code>prepare()</code></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">prepareMainLooper</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    prepare(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">    <span class=\"keyword\">synchronized</span> (Looper.class) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sMainLooper != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> IllegalStateException(<span class=\"string\">\"The main Looper has already been prepared.\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        sMainLooper = myLooper();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>Looper.prepare()</code><br><code>Looper.prepare()</code></p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">prepare</span>(<span class=\"params\">boolean quitAllowed</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (sThreadLocal.<span class=\"keyword\">get</span>() != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(<span class=\"string\">\"Only one Looper may be created per thread\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//new Looper()</span></span><br><span class=\"line\">    sThreadLocal.<span class=\"keyword\">set</span>(<span class=\"keyword\">new</span> Looper(quitAllowed));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Looper<code>RuntimeEception</code><br>Looper<code>Looper.prepare()</code><br>newLooper<br><code>new Looper()</code><code>MessageQueue</code></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Looper</span><span class=\"params\">(<span class=\"keyword\">boolean</span> quitAllowed)</span> </span>&#123;</span><br><span class=\"line\">    mQueue = <span class=\"keyword\">new</span> MessageQueue(quitAllowed);</span><br><span class=\"line\">    mThread = Thread.currentThread();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Handler</p>\n</li>\n<li><p>HandlerMeesage<br>HandlerHandlerHandlerHanlder<br><code>MessageQueue</code><code>enqueueMessage()</code><br>Handler<code>MeesageQueue</code><br><code>new Looper()</code><br><code>new Handler()</code><code>new Looper()</code><br><code>new Looper()</code><code>new MessageQueue()</code><br>Handler<code>Looper</code><code>MeesageQueue</code><br><code>MessageQueue.enqueueMessage()</code></p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">boolean enqueueMessage(Message msg, long <span class=\"keyword\">when</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//Meesage</span></span><br><span class=\"line\">        <span class=\"comment\">//msg.targetMessageHandler</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (msg.target == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> new IllegalArgumentException(<span class=\"string\">\"Message must have a target.\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (msg.isInUse()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> new IllegalStateException(msg + <span class=\"string\">\" This message is already in use.\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        synchronized (<span class=\"keyword\">this</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//quit()</span></span><br><span class=\"line\">            <span class=\"comment\">//HandlerLooper</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (mQuitting) &#123;</span><br><span class=\"line\">                IllegalStateException e = new IllegalStateException(</span><br><span class=\"line\">                        msg.target + <span class=\"string\">\" sending message to a Handler on a dead thread\"</span>);</span><br><span class=\"line\">                Log.w(TAG, e.getMessage(), e);</span><br><span class=\"line\">                msg.recycle();</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">//MessageQueue</span></span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            msg.markInUse();</span><br><span class=\"line\">            msg.<span class=\"keyword\">when</span> = <span class=\"keyword\">when</span>;</span><br><span class=\"line\">            Message p = mMessages;</span><br><span class=\"line\">            boolean needWake;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (p == <span class=\"literal\">null</span> || <span class=\"keyword\">when</span> == <span class=\"number\">0</span> || <span class=\"keyword\">when</span> &lt; p.<span class=\"keyword\">when</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// New head, wake up the event queue if blocked.</span></span><br><span class=\"line\">                msg.next = p;</span><br><span class=\"line\">                mMessages = msg;</span><br><span class=\"line\">                needWake = mBlocked;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                Message prev;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (;;) &#123;</span><br><span class=\"line\">                    prev = p;</span><br><span class=\"line\">                    p = p.next;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (p == <span class=\"literal\">null</span> || <span class=\"keyword\">when</span> &lt; p.<span class=\"keyword\">when</span>) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (needWake &amp;&amp; p.isAsynchronous()) &#123;</span><br><span class=\"line\">                        needWake = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                msg.next = p; <span class=\"comment\">// invariant: p == prev.next</span></span><br><span class=\"line\">                prev.next = msg;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">//Looper.loop()</span></span><br><span class=\"line\">            <span class=\"comment\">//nativeloop()</span></span><br><span class=\"line\">            <span class=\"comment\">//------Looper</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (needWake) &#123;</span><br><span class=\"line\">                nativeWake(mPtr);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>Message<code>MeesageQueue</code><br></p>\n</li>\n<li><p>Message<br>Meesage<code>Looper.loop()</code></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">loop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//Looper</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> Looper me = myLooper();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (me == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(<span class=\"string\">\"No Looper; Looper.prepare() wasn't called on this thread.\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> MessageQueue queue = me.mQueue;</span><br><span class=\"line\">    <span class=\"comment\">// Make sure the identity of this thread is that of the local process,</span></span><br><span class=\"line\">    <span class=\"comment\">// and keep track of what that identity token actually is.</span></span><br><span class=\"line\">    Binder.clearCallingIdentity();</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> ident = Binder.clearCallingIdentity();</span><br><span class=\"line\">    <span class=\"comment\">//Message</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (;;) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//Meesage</span></span><br><span class=\"line\">        <span class=\"comment\">//next()next()loop()</span></span><br><span class=\"line\">        Message msg = queue.next(); <span class=\"comment\">// might block</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (msg == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// No message indicates that the message queue is quitting.</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// This must be in a local variable, in case a UI event sets the logger</span></span><br><span class=\"line\">        <span class=\"keyword\">final</span> Printer logging = me.mLogging;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (logging != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            logging.println(<span class=\"string\">\"&gt;&gt;&gt;&gt;&gt; Dispatching to \"</span> + msg.<span class=\"keyword\">target</span> + <span class=\"string\">\" \"</span> +</span><br><span class=\"line\">                    msg.callback + <span class=\"string\">\": \"</span> + msg.what);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> traceTag = me.mTraceTag;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (traceTag != <span class=\"number\">0</span> &amp;&amp; Trace.isTagEnabled(traceTag)) &#123;</span><br><span class=\"line\">            Trace.traceBegin(traceTag, msg.<span class=\"keyword\">target</span>.getTraceName(msg));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            msg.<span class=\"keyword\">target</span>.dispatchMessage(msg);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (traceTag != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                Trace.traceEnd(traceTag);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (logging != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            logging.println(<span class=\"string\">\"&lt;&lt;&lt;&lt;&lt; Finished to \"</span> + msg.<span class=\"keyword\">target</span> + <span class=\"string\">\" \"</span> + msg.callback);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Make sure that during the course of dispatching the</span></span><br><span class=\"line\">        <span class=\"comment\">// identity of the thread wasn't corrupted.</span></span><br><span class=\"line\">        <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> newIdent = Binder.clearCallingIdentity();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ident != newIdent) &#123;</span><br><span class=\"line\">            Log.wtf(TAG, <span class=\"string\">\"Thread identity changed from 0x\"</span></span><br><span class=\"line\">                    + Long.toHexString(ident) + <span class=\"string\">\" to 0x\"</span></span><br><span class=\"line\">                    + Long.toHexString(newIdent) + <span class=\"string\">\" while dispatching to \"</span></span><br><span class=\"line\">                    + msg.<span class=\"keyword\">target</span>.getClass().getName() + <span class=\"string\">\" \"</span></span><br><span class=\"line\">                    + msg.callback + <span class=\"string\">\" what=\"</span> + msg.what);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        msg.recycleUnchecked();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>Looper.loop()</code>MessageMessage<code>MeesageQueue.next()</code></p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> Message <span class=\"keyword\">next</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Return here if the message loop has already quit and been disposed.</span></span><br><span class=\"line\">    <span class=\"comment\">// This can happen if the application tries to restart a looper after quit</span></span><br><span class=\"line\">    <span class=\"comment\">// which is not supported.</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> ptr = mPtr;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (ptr == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> pendingIdleHandlerCount = -<span class=\"number\">1</span>; <span class=\"comment\">// -1 only during first iteration</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> nextPollTimeoutMillis = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (;;) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nextPollTimeoutMillis != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            Binder.flushPendingCommands();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//Looper.loop()native</span></span><br><span class=\"line\">        nativePollOnce(ptr, nextPollTimeoutMillis);</span><br><span class=\"line\">        <span class=\"keyword\">synchronized</span> (<span class=\"keyword\">this</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Try to retrieve the next message.  Return if found.</span></span><br><span class=\"line\">            <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> now = SystemClock.uptimeMillis();</span><br><span class=\"line\">            Message prevMsg = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">            Message msg = mMessages;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (msg != <span class=\"keyword\">null</span> &amp;&amp; msg.target == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// Stalled by a barrier.  Find the next asynchronous message in the </span></span><br><span class=\"line\">                <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">                    prevMsg = msg;</span><br><span class=\"line\">                    msg = msg.<span class=\"keyword\">next</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">while</span> (msg != <span class=\"keyword\">null</span> &amp;&amp; !msg.isAsynchronous());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (msg != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (now &lt; msg.when) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// Next message is not ready.  Set a timeout to wake up when it </span></span><br><span class=\"line\">                    nextPollTimeoutMillis = (<span class=\"keyword\">int</span>) Math.min(msg.when - now, Integer.M</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// Got a message.</span></span><br><span class=\"line\">                    mBlocked = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (prevMsg != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                        prevMsg.<span class=\"keyword\">next</span> = msg.<span class=\"keyword\">next</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        mMessages = msg.<span class=\"keyword\">next</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    msg.<span class=\"keyword\">next</span> = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (DEBUG) Log.v(TAG, <span class=\"string\">\"Returning message: \"</span> + msg);</span><br><span class=\"line\">                    msg.markInUse();</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> msg;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// No more messages.</span></span><br><span class=\"line\">                nextPollTimeoutMillis = -<span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// Process the quit message now that all pending messages have been hand</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (mQuitting) &#123;</span><br><span class=\"line\">                dispose();</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// If first time idle, then get the number of idlers to run.</span></span><br><span class=\"line\">            <span class=\"comment\">// Idle handles only run if the queue is empty or if the first message</span></span><br><span class=\"line\">            <span class=\"comment\">// in the queue (possibly a barrier) is due to be handled in the future.</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pendingIdleHandlerCount &lt; <span class=\"number\">0</span></span><br><span class=\"line\">                    &amp;&amp; (mMessages == <span class=\"keyword\">null</span> || now &lt; mMessages.when)) &#123;</span><br><span class=\"line\">                pendingIdleHandlerCount = mIdleHandlers.<span class=\"keyword\">size</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pendingIdleHandlerCount &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// No idle handlers to run.  Loop and wait some more.</span></span><br><span class=\"line\">                mBlocked = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (mPendingIdleHandlers == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                mPendingIdleHandlers = <span class=\"keyword\">new</span> IdleHandler[Math.max(pendingIdleHandlerCo</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            mPendingIdleHandlers = mIdleHandlers.toArray(mPendingIdleHandlers);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Run the idle handlers.</span></span><br><span class=\"line\">        <span class=\"comment\">// We only ever reach this code block during the first iteration.</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; pendingIdleHandlerCount; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">final</span> IdleHandler idler = mPendingIdleHandlers[i];</span><br><span class=\"line\">            mPendingIdleHandlers[i] = <span class=\"keyword\">null</span>; <span class=\"comment\">// release the reference to the handler</span></span><br><span class=\"line\">            <span class=\"keyword\">boolean</span> keep = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                keep = idler.queueIdle();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (Throwable t) &#123;</span><br><span class=\"line\">                Log.wtf(TAG, <span class=\"string\">\"IdleHandler threw exception\"</span>, t);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!keep) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">synchronized</span> (<span class=\"keyword\">this</span>) &#123;</span><br><span class=\"line\">                    mIdleHandlers.remove(idler);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Reset the idle handler count to 0 so we do not run them again.</span></span><br><span class=\"line\">        pendingIdleHandlerCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"comment\">// While calling an idle handler, a new message could have been delivered</span></span><br><span class=\"line\">        <span class=\"comment\">// so go back and look again for a pending message without waiting.</span></span><br><span class=\"line\">        nextPollTimeoutMillis = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Meesagenext()  idle handler  gc </p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Handler</p>\n","site":{"data":{}},"excerpt":"","more":"<p>HandlerAndroid<br>HandlerHandler</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Handler</p>\n<ol>\n<li><p>Handler</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Handler</span> <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> <span class=\"keyword\">Handler</span>();</span><br></pre></td></tr></table></figure>\n<p>HandlerLooperRuntimeException:</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Looper.prepare();</span><br><span class=\"line\"><span class=\"keyword\">Handler</span> <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> <span class=\"keyword\">Handler</span>();</span><br><span class=\"line\">handler.sendEmptyMessage(<span class=\"number\">8</span>);</span><br><span class=\"line\">Looper.loop();</span><br></pre></td></tr></table></figure>\n<p>Looper<code>Looper.loop()</code>Handler<br><code>Looper.loop()</code><code>Looper.loop()</code><code>Looper.loop()</code><code>ActivityThread</code>mainLooper<br>HandlerLooperHandlerLooperLooperLooper<br>LooperLooperRuntimeException</p>\n</li>\n<li><p>Handler<br>handlerHandlerHandlerMessageHandlerMessage<code>MessageQueue.enqueueMessage()</code><br>MessageMessageQueue</p>\n</li>\n<li>Handler<br><code>Looper.prepare()</code><code>looper.loop()</code><br><code>loop()</code>for(;;)<code>MessageQueue.next()</code><code>MessageQueue</code>Meesage<br>Looper<code>MessageQueue</code><code>MessageQueue</code><code>Looper.loop()</code>Message<code>MessageQueue</code><br>Messagemessage.target.dispatchMessage()Handler</li>\n<li><p><code>loop()</code><code>loop()</code><br>Meesage<code>MessageQueue.enqueueMessage()</code><code>enqueueMessage()</code><code>nativeWeak()</code>nativeLooperLooper:</p>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// We can <span class=\"built_in\">assume</span> mPtr != <span class=\"number\">0</span> because mQuitting <span class=\"built_in\">is</span> <span class=\"literal\">false</span>.</span><br><span class=\"line\"><span class=\"keyword\">if</span> (needWake) &#123;</span><br><span class=\"line\">    nativeWake(mPtr);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br><code>Looper.prepare()</code>Looper<code>Looper.loop()</code>loop()<code>Looper.loop()</code><br><code>MessageQueue.next()</code><code>MessageQueue.next()</code><code>nativePollOnce()</code>native<code>Looper.loop()</code><code>MessageQueue</code><code>MessageQueue.enqueueMessage()</code>Looper<code>nativeWeak()</code>nativeLooper()</p>\n</li>\n</ol>\n<h2 id=\"Handler\"><a href=\"#Handler\" class=\"headerlink\" title=\"Handler\"></a>Handler</h2><ol>\n<li><p><br><code></code>Handler</p>\n <figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">//Handlerandroid.os</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> Handler <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> Handler() &#123;</span><br><span class=\"line\">     <span class=\"meta\">@Override</span></span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handleMessage</span><span class=\"params\">(Message msg)</span> </span>&#123;</span><br><span class=\"line\">         System.out.println(<span class=\"string\">\"Handler\"</span>);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;;</span><br></pre></td></tr></table></figure>\n<p>Handler</p>\n <figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">onCreate</span><span class=\"params\">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onCreate(savedInstanceState);</span><br><span class=\"line\">    setContentView(R.layout.activity_main);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Handlerwhat8883</span></span><br><span class=\"line\">    <span class=\"keyword\">handler</span>.sendEmptyMessageDelayed(<span class=\"number\">888</span>,<span class=\"number\">3000</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>HandlerMessageMessageMessageMessage<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/handler/handler_send_funcation.png\" alt=\"\"></p>\n<p>3sLog</p>\n</li>\n<li><p><br><code></code>Handler<code></code><br><code></code><br><code></code>Handler</p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> Thread()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.run();</span><br><span class=\"line\">        Handler <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> Handler()&#123;</span><br><span class=\"line\">             <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handleMessage</span><span class=\"params\">(Message msg)</span> </span>&#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Handler\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;.start();</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.RuntimeException</span>: Can<span class=\"string\">''</span>t create handler inside thread that has not called Looper.prepare()</span><br><span class=\"line\">at android<span class=\"selector-class\">.os</span><span class=\"selector-class\">.Handler</span>.&lt;init&gt;(Handler<span class=\"selector-class\">.java</span>:<span class=\"number\">200</span>)</span><br><span class=\"line\">at android<span class=\"selector-class\">.os</span><span class=\"selector-class\">.Handler</span>.&lt;init&gt;(Handler<span class=\"selector-class\">.java</span>:<span class=\"number\">114</span>)</span><br><span class=\"line\">at com<span class=\"selector-class\">.my</span><span class=\"selector-class\">.oo</span><span class=\"selector-class\">.MainActivity</span>$<span class=\"number\">2</span>$<span class=\"number\">1</span>.&lt;init&gt;(MainActivity<span class=\"selector-class\">.java</span>:<span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<p><strong>HandlerLooper.prepare()</strong><br>Handler<code>Looper.prepare()</code>:</p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Thread()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.run();</span><br><span class=\"line\">        <span class=\"comment\">//Looper.prepare()</span></span><br><span class=\"line\">        Looper.prepare();</span><br><span class=\"line\">        <span class=\"comment\">//Handler</span></span><br><span class=\"line\">        Handler <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> Handler()&#123;</span><br><span class=\"line\">             <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handleMessage</span><span class=\"params\">(Message msg)</span> </span>&#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Handler\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">handler</span>.sendEmptyMessage(<span class=\"number\">111</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;.start();</span><br></pre></td></tr></table></figure>\n<p>HandlerLooper</p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Thread()&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">run</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.run();</span><br><span class=\"line\">        <span class=\"comment\">//Looper.prepare()</span></span><br><span class=\"line\">        Looper.prepare();</span><br><span class=\"line\">        <span class=\"comment\">//Handler</span></span><br><span class=\"line\">        Handler <span class=\"keyword\">handler</span> = <span class=\"keyword\">new</span> Handler()&#123;</span><br><span class=\"line\">             <span class=\"meta\">@Override</span></span><br><span class=\"line\">            <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handleMessage</span><span class=\"params\">(Message msg)</span> </span>&#123;</span><br><span class=\"line\">                System.out.println(<span class=\"string\">\"Handler\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">handler</span>.sendEmptyMessage(<span class=\"number\">111</span>);</span><br><span class=\"line\">        <span class=\"comment\">//Looper</span></span><br><span class=\"line\">        Looper.loop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;.start();</span><br></pre></td></tr></table></figure>\n<p><strong><code>Looper.loop()</code><code>Looper.loop()</code></strong><code></code></p>\n</li>\n<li><br>Handler<code></code>Handler<code>Looper.prepare()</code><code>Looper.loop()</code>Handler</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><p>Handler<br>Handler</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Handler</span>(<span class=\"params\">Callback callback, boolean <span class=\"keyword\">async</span></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//....</span></span><br><span class=\"line\">    mLooper = Looper.myLooper();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (mLooper == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(</span><br><span class=\"line\">            <span class=\"string\">\"Can't create handler inside thread that has not called Looper.prepare()\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    mQueue = mLooper.mQueue;</span><br><span class=\"line\">    mCallback = callback;</span><br><span class=\"line\">    mAsynchronous = <span class=\"keyword\">async</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Handler<code>Looper</code>Handler<code>Looper.prepare()</code><br><code></code><code>Looper.prepare()</code>Handler<br><br>Handler<code>Looper</code><code></code>Handler<code>Looper</code><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/zhenxiang_just_one.jpeg\" alt=\"\"><br><code>Looper</code>()<code></code><br>Google:<code>ActivityThread</code><br>main</p>\n<figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> void main(<span class=\"keyword\">String</span>[] args) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//....</span></span><br><span class=\"line\">    Looper.prepareMainLooper();</span><br><span class=\"line\">    ActivityThread thread = <span class=\"keyword\">new</span> <span class=\"type\">ActivityThread</span>();</span><br><span class=\"line\">    thread.attach(<span class=\"literal\">false</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (sMainThreadHandler == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        sMainThreadHandler = thread.getHandler();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">        Looper.myLooper().setMessageLogging(<span class=\"keyword\">new</span><span class=\"type\"></span></span><br><span class=\"line\"><span class=\"type\"></span>                LogPrinter(Log.DEBUG, <span class=\"string\">\"ActivityThread\"</span>));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// End of event ActivityThreadMain.</span></span><br><span class=\"line\">    Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER);</span><br><span class=\"line\">    Looper.loop();</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"type\">RuntimeException</span>(<span class=\"string\">\"Main thread loop unexpectedly exited\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>Looper</code><br>Looper.loop()</p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Looper.<span class=\"built_in\">loop</span>();</span><br><span class=\"line\"><span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(<span class=\"string\">\"Main thread loop unexpectedly exited\"</span>);</span><br></pre></td></tr></table></figure>\n<p>Looper<br>Looper.loop()Looper.loop()<strong><code>Looper.loop()</code></strong><br><code>prepareMainLooper()</code><code>prepare()</code></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">prepareMainLooper</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    prepare(<span class=\"keyword\">false</span>);</span><br><span class=\"line\">    <span class=\"keyword\">synchronized</span> (Looper.class) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sMainLooper != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> IllegalStateException(<span class=\"string\">\"The main Looper has already been prepared.\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        sMainLooper = myLooper();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>Looper.prepare()</code><br><code>Looper.prepare()</code></p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">prepare</span>(<span class=\"params\">boolean quitAllowed</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (sThreadLocal.<span class=\"keyword\">get</span>() != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(<span class=\"string\">\"Only one Looper may be created per thread\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//new Looper()</span></span><br><span class=\"line\">    sThreadLocal.<span class=\"keyword\">set</span>(<span class=\"keyword\">new</span> Looper(quitAllowed));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Looper<code>RuntimeEception</code><br>Looper<code>Looper.prepare()</code><br>newLooper<br><code>new Looper()</code><code>MessageQueue</code></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"title\">Looper</span><span class=\"params\">(<span class=\"keyword\">boolean</span> quitAllowed)</span> </span>&#123;</span><br><span class=\"line\">    mQueue = <span class=\"keyword\">new</span> MessageQueue(quitAllowed);</span><br><span class=\"line\">    mThread = Thread.currentThread();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Handler</p>\n</li>\n<li><p>HandlerMeesage<br>HandlerHandlerHandlerHanlder<br><code>MessageQueue</code><code>enqueueMessage()</code><br>Handler<code>MeesageQueue</code><br><code>new Looper()</code><br><code>new Handler()</code><code>new Looper()</code><br><code>new Looper()</code><code>new MessageQueue()</code><br>Handler<code>Looper</code><code>MeesageQueue</code><br><code>MessageQueue.enqueueMessage()</code></p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">boolean enqueueMessage(Message msg, long <span class=\"keyword\">when</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//Meesage</span></span><br><span class=\"line\">        <span class=\"comment\">//msg.targetMessageHandler</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (msg.target == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> new IllegalArgumentException(<span class=\"string\">\"Message must have a target.\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (msg.isInUse()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> new IllegalStateException(msg + <span class=\"string\">\" This message is already in use.\"</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        synchronized (<span class=\"keyword\">this</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//quit()</span></span><br><span class=\"line\">            <span class=\"comment\">//HandlerLooper</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (mQuitting) &#123;</span><br><span class=\"line\">                IllegalStateException e = new IllegalStateException(</span><br><span class=\"line\">                        msg.target + <span class=\"string\">\" sending message to a Handler on a dead thread\"</span>);</span><br><span class=\"line\">                Log.w(TAG, e.getMessage(), e);</span><br><span class=\"line\">                msg.recycle();</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">//MessageQueue</span></span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            msg.markInUse();</span><br><span class=\"line\">            msg.<span class=\"keyword\">when</span> = <span class=\"keyword\">when</span>;</span><br><span class=\"line\">            Message p = mMessages;</span><br><span class=\"line\">            boolean needWake;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (p == <span class=\"literal\">null</span> || <span class=\"keyword\">when</span> == <span class=\"number\">0</span> || <span class=\"keyword\">when</span> &lt; p.<span class=\"keyword\">when</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// New head, wake up the event queue if blocked.</span></span><br><span class=\"line\">                msg.next = p;</span><br><span class=\"line\">                mMessages = msg;</span><br><span class=\"line\">                needWake = mBlocked;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                Message prev;</span><br><span class=\"line\">                <span class=\"keyword\">for</span> (;;) &#123;</span><br><span class=\"line\">                    prev = p;</span><br><span class=\"line\">                    p = p.next;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (p == <span class=\"literal\">null</span> || <span class=\"keyword\">when</span> &lt; p.<span class=\"keyword\">when</span>) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (needWake &amp;&amp; p.isAsynchronous()) &#123;</span><br><span class=\"line\">                        needWake = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                msg.next = p; <span class=\"comment\">// invariant: p == prev.next</span></span><br><span class=\"line\">                prev.next = msg;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">//Looper.loop()</span></span><br><span class=\"line\">            <span class=\"comment\">//nativeloop()</span></span><br><span class=\"line\">            <span class=\"comment\">//------Looper</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (needWake) &#123;</span><br><span class=\"line\">                nativeWake(mPtr);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>Message<code>MeesageQueue</code><br></p>\n</li>\n<li><p>Message<br>Meesage<code>Looper.loop()</code></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">loop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//Looper</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> Looper me = myLooper();</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (me == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> RuntimeException(<span class=\"string\">\"No Looper; Looper.prepare() wasn't called on this thread.\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> MessageQueue queue = me.mQueue;</span><br><span class=\"line\">    <span class=\"comment\">// Make sure the identity of this thread is that of the local process,</span></span><br><span class=\"line\">    <span class=\"comment\">// and keep track of what that identity token actually is.</span></span><br><span class=\"line\">    Binder.clearCallingIdentity();</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> ident = Binder.clearCallingIdentity();</span><br><span class=\"line\">    <span class=\"comment\">//Message</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (;;) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//Meesage</span></span><br><span class=\"line\">        <span class=\"comment\">//next()next()loop()</span></span><br><span class=\"line\">        Message msg = queue.next(); <span class=\"comment\">// might block</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (msg == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// No message indicates that the message queue is quitting.</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// This must be in a local variable, in case a UI event sets the logger</span></span><br><span class=\"line\">        <span class=\"keyword\">final</span> Printer logging = me.mLogging;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (logging != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            logging.println(<span class=\"string\">\"&gt;&gt;&gt;&gt;&gt; Dispatching to \"</span> + msg.<span class=\"keyword\">target</span> + <span class=\"string\">\" \"</span> +</span><br><span class=\"line\">                    msg.callback + <span class=\"string\">\": \"</span> + msg.what);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> traceTag = me.mTraceTag;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (traceTag != <span class=\"number\">0</span> &amp;&amp; Trace.isTagEnabled(traceTag)) &#123;</span><br><span class=\"line\">            Trace.traceBegin(traceTag, msg.<span class=\"keyword\">target</span>.getTraceName(msg));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            msg.<span class=\"keyword\">target</span>.dispatchMessage(msg);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (traceTag != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                Trace.traceEnd(traceTag);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (logging != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            logging.println(<span class=\"string\">\"&lt;&lt;&lt;&lt;&lt; Finished to \"</span> + msg.<span class=\"keyword\">target</span> + <span class=\"string\">\" \"</span> + msg.callback);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Make sure that during the course of dispatching the</span></span><br><span class=\"line\">        <span class=\"comment\">// identity of the thread wasn't corrupted.</span></span><br><span class=\"line\">        <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> newIdent = Binder.clearCallingIdentity();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ident != newIdent) &#123;</span><br><span class=\"line\">            Log.wtf(TAG, <span class=\"string\">\"Thread identity changed from 0x\"</span></span><br><span class=\"line\">                    + Long.toHexString(ident) + <span class=\"string\">\" to 0x\"</span></span><br><span class=\"line\">                    + Long.toHexString(newIdent) + <span class=\"string\">\" while dispatching to \"</span></span><br><span class=\"line\">                    + msg.<span class=\"keyword\">target</span>.getClass().getName() + <span class=\"string\">\" \"</span></span><br><span class=\"line\">                    + msg.callback + <span class=\"string\">\" what=\"</span> + msg.what);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        msg.recycleUnchecked();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>Looper.loop()</code>MessageMessage<code>MeesageQueue.next()</code></p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> Message <span class=\"keyword\">next</span>() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Return here if the message loop has already quit and been disposed.</span></span><br><span class=\"line\">    <span class=\"comment\">// This can happen if the application tries to restart a looper after quit</span></span><br><span class=\"line\">    <span class=\"comment\">// which is not supported.</span></span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> ptr = mPtr;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (ptr == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">int</span> pendingIdleHandlerCount = -<span class=\"number\">1</span>; <span class=\"comment\">// -1 only during first iteration</span></span><br><span class=\"line\">    <span class=\"keyword\">int</span> nextPollTimeoutMillis = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (;;) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (nextPollTimeoutMillis != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            Binder.flushPendingCommands();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//Looper.loop()native</span></span><br><span class=\"line\">        nativePollOnce(ptr, nextPollTimeoutMillis);</span><br><span class=\"line\">        <span class=\"keyword\">synchronized</span> (<span class=\"keyword\">this</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Try to retrieve the next message.  Return if found.</span></span><br><span class=\"line\">            <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> now = SystemClock.uptimeMillis();</span><br><span class=\"line\">            Message prevMsg = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">            Message msg = mMessages;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (msg != <span class=\"keyword\">null</span> &amp;&amp; msg.target == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// Stalled by a barrier.  Find the next asynchronous message in the </span></span><br><span class=\"line\">                <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">                    prevMsg = msg;</span><br><span class=\"line\">                    msg = msg.<span class=\"keyword\">next</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">while</span> (msg != <span class=\"keyword\">null</span> &amp;&amp; !msg.isAsynchronous());</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (msg != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (now &lt; msg.when) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// Next message is not ready.  Set a timeout to wake up when it </span></span><br><span class=\"line\">                    nextPollTimeoutMillis = (<span class=\"keyword\">int</span>) Math.min(msg.when - now, Integer.M</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// Got a message.</span></span><br><span class=\"line\">                    mBlocked = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (prevMsg != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                        prevMsg.<span class=\"keyword\">next</span> = msg.<span class=\"keyword\">next</span>;</span><br><span class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                        mMessages = msg.<span class=\"keyword\">next</span>;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    msg.<span class=\"keyword\">next</span> = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (DEBUG) Log.v(TAG, <span class=\"string\">\"Returning message: \"</span> + msg);</span><br><span class=\"line\">                    msg.markInUse();</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> msg;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// No more messages.</span></span><br><span class=\"line\">                nextPollTimeoutMillis = -<span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// Process the quit message now that all pending messages have been hand</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (mQuitting) &#123;</span><br><span class=\"line\">                dispose();</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// If first time idle, then get the number of idlers to run.</span></span><br><span class=\"line\">            <span class=\"comment\">// Idle handles only run if the queue is empty or if the first message</span></span><br><span class=\"line\">            <span class=\"comment\">// in the queue (possibly a barrier) is due to be handled in the future.</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pendingIdleHandlerCount &lt; <span class=\"number\">0</span></span><br><span class=\"line\">                    &amp;&amp; (mMessages == <span class=\"keyword\">null</span> || now &lt; mMessages.when)) &#123;</span><br><span class=\"line\">                pendingIdleHandlerCount = mIdleHandlers.<span class=\"keyword\">size</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (pendingIdleHandlerCount &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// No idle handlers to run.  Loop and wait some more.</span></span><br><span class=\"line\">                mBlocked = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (mPendingIdleHandlers == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                mPendingIdleHandlers = <span class=\"keyword\">new</span> IdleHandler[Math.max(pendingIdleHandlerCo</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            mPendingIdleHandlers = mIdleHandlers.toArray(mPendingIdleHandlers);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Run the idle handlers.</span></span><br><span class=\"line\">        <span class=\"comment\">// We only ever reach this code block during the first iteration.</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; pendingIdleHandlerCount; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">final</span> IdleHandler idler = mPendingIdleHandlers[i];</span><br><span class=\"line\">            mPendingIdleHandlers[i] = <span class=\"keyword\">null</span>; <span class=\"comment\">// release the reference to the handler</span></span><br><span class=\"line\">            <span class=\"keyword\">boolean</span> keep = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                keep = idler.queueIdle();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (Throwable t) &#123;</span><br><span class=\"line\">                Log.wtf(TAG, <span class=\"string\">\"IdleHandler threw exception\"</span>, t);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!keep) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">synchronized</span> (<span class=\"keyword\">this</span>) &#123;</span><br><span class=\"line\">                    mIdleHandlers.remove(idler);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// Reset the idle handler count to 0 so we do not run them again.</span></span><br><span class=\"line\">        pendingIdleHandlerCount = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"comment\">// While calling an idle handler, a new message could have been delivered</span></span><br><span class=\"line\">        <span class=\"comment\">// so go back and look again for a pending message without waiting.</span></span><br><span class=\"line\">        nextPollTimeoutMillis = <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Meesagenext()  idle handler  gc </p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Handler</p>\n"},{"title":"Android","date":"2017-07-27T07:55:01.000Z","_content":"##  ##\n\n\n\nAndroidAndroid6.0API 23Android7.0API 24\n\n\n##  ##\n\n\n```\nIntent intent = new Intent();\nintent.setAction(Intent.ACTION_PICK);\n// \nintent.setType(\"image/*\");\nactivity.startActivityForResult(intent, requestCode);\n```\n\n```\nIntent intent = new Intent();\nintent.setAction(Intent.ACTION_GET_CONTENT);\n// \nintent.setType(\"image/*\");\nactivity.startActivityForResult(intent, requestCode);\n```\n\n```\nIntent intent = new Intent();\nintent.setAction(Intent.ACTION_OPEN_DOCUMENT);\n// \nintent.setType(\"image/*\");\nactivity.startActivityForResult(intent, requestCode);\n```\n\n[ACTION_OPEN_DOCUMENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT)Android5.0(API 19)\n```\nif(Build.VERSION.SDK_INT>=Build.VERSION_CODES.KITKAT){\n\t//TODO\n}\n```\n[ACTION_OPEN_DOCUMENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT)\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)[ACTION_PICK](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK)\n`intent.setType(\"image/*\")`**MIME Type**\n**MIME Type**\n```\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.GET_CONTENT }\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.ACTION_PICK }\n```\n**MIME Type**\n\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)[ACTION_PICK](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK)\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png)\n\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\nURI[ACTION_PICK](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK)\n**MIME Type**[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\n\nUri\n[AndroidUri](http://www.jianshu.com/p/5572b42fc63f)\n\nonActivityResult\n```\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (resultCode != RESULT_OK) {\n        return;\n    }\n    switch (requestCode) {\n        case REQUEST_CODE_ALBUM://\n            Uri dataUri = data.getData();\n            Log.i(\"mengyuanuri\",\"uri:\"+dataUri.getScheme()+\":\"+dataUri.getSchemeSpecificPart());\n            break;\n    }\n}\n```\n\n\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\n```\ncontent://com.android.providers.media.documents/document/image:2116\n```\n[ACTION_PICK](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK)\n```\ncontent://media/external/images/media/2116\n```\nUri\nUri\n[Intent](http://blog.csdn.net/wingichoy/article/details/50679322)\nUri\nUri\nUriAndroidUri\nUriFile\n```\npublic static String getPath( final Uri uri) {\n        // DocumentProvider\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT && DocumentsContract.isDocumentUri(App.context, uri)) {\n            // ExternalStorageProvider\n            if (isExternalStorageDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(\":\");\n                final String type = split[0];\n\n                if (\"primary\".equalsIgnoreCase(type)) {\n                    return Environment.getExternalStorageDirectory() + \"/\" + split[1];\n                }\n                // TODO handle non-primary volumes\n            }\n            // DownloadsProvider\n            else if (isDownloadsDocument(uri)) {\n\n                final String id = DocumentsContract.getDocumentId(uri);\n                final Uri contentUri = ContentUris.withAppendedId(\n                        Uri.parse(\"content://downloads/public_downloads\"), Long.valueOf(id));\n\n                return getDataColumn(App.context, contentUri, null, null);\n            }\n            // MediaProvider\n            else if (isMediaDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(\":\");\n                final String type = split[0];\n\n                Uri contentUri = null;\n                if (\"image\".equals(type)) {\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                } else if (\"video\".equals(type)) {\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                } else if (\"audio\".equals(type)) {\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                }\n\n                final String selection = \"_id=?\";\n                final String[] selectionArgs = new String[]{\n                        split[1]\n                };\n\n                return getDataColumn(App.context, contentUri, selection, selectionArgs);\n            }\n        }\n        // MediaStore (and general)\n        else if (\"content\".equalsIgnoreCase(uri.getScheme())) {\n            return getDataColumn(App.context, uri, null, null);\n        }\n        // File\n        else if (\"file\".equalsIgnoreCase(uri.getScheme())) {\n            return uri.getPath();\n        }\n\n        return null;\n    }\n```\nUri\n```\n/storage/emulated/0/temp/kouliang_avatar.jpg\n```\nUriif\n\n\nonActivityResultUri\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\n\n##  ##\n\n```\n//\nIntent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n//\nintent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(file));\nactivity.startActivityForResult(intent, requestCode);\n```\n:\n```\nswitch (requestCode) {\n    //\n    case REQUEST_CODE_ALBUM:\n        Uri dataUri = data.getData();\n        Log.i(\"mengyuanuri\", \"uri:\" + dataUri.getScheme() + \":\" + dataUri.getSchemeSpecificPart());\n        break;\n    //Intent\n    case REQUEST_CODE_CAMER:\n        File bgPath = Constant.bgPath;\n        Bitmap bitmap = BitmapFactory.decodeFile(bgPath.getPath());\n        iv_bg.setImageBitmap(bitmap);\n        break;\n}\n```\n\n****[MediaStore.ACTION_IMAGE_CAPTURE](https://developer.android.google.cn/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE)\n[ActivityNotFound](https://developer.android.google.cn/reference/android/content/ActivityNotFoundException.html)\n\n1. try-catch\n2. PackageManager[MediaStore.ACTION_IMAGE_CAPTURE](https://developer.android.google.cn/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE)\n\nPackageManager\n```\n/**\n * \n */\npublic static boolean isHaveCame(String intentName) {\n    PackageManager packageManager = App.context.getPackageManager();\n    Intent intent = new Intent(intentName);\n    List<ResolveInfo> list = packageManager.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n    return list.size() > 0;\n}\n```\n\n7.1\n```\nandroid.os.FileUriExposedException: file:///storage/emulated/0/photo_bg.jpg exposed beyond app through ClipData.Item.getUri(\n    at android.os.StrictMode.onFileUriExposed(StrictMode.java:1799)\n    at android.net.Uri.checkFileUriExposed(Uri.java:2346)\n    at android.content.ClipData.prepareToLeaveProcess(ClipData.java:845)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:8941)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:8926)\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1517)\n    at android.app.Activity.startActivityForResult(Activity.java:4225)\n    at android.support.v4.app.BaseFragmentActivityJB.startActivityForResult(BaseFragmentActivityJB.java:54)\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:75)\n    at android.app.Activity.startActivityForResult(Activity.java:4183)\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:708)\n    at com.my.photoget.utils.AppUtils.startCamer(AppUtils.java:37)\n```\n7.0(API 24)[](http://www.jianshu.com/p/3f9e3fc38eae)\nAndroid6.0(API 23)**build.gradle**`targetSdkVersion`<23[](http://www.jianshu.com/p/9271efd71450)\n`targetSdkVersion`<24\n`targetSdkVersion`SDK\n\n##  ##\nIntent\n```\nIntent intent = new Intent(\"com.android.camera.action.CROP\");\n//Uri\nintent.setDataAndType(cropBean.dataUri, \"image/*\");\n//\nintent.putExtra(\"outputX\", cropBean.outputX);\nintent.putExtra(\"outputY\", cropBean.outputY);\nintent.putExtra(\"scale\", cropBean.scale);\nintent.putExtra(\"aspectX\", cropBean.aspectX);\nintent.putExtra(\"aspectY\", cropBean.aspectY);\nintent.putExtra(\"outputFormat\", cropBean.outputFormat);\nintent.putExtra(\"return-data\", cropBean.isReturnData);\nintent.putExtra(\"output\", cropBean.saveUri);\n//\nactivity.startActivityForResult(intent, requestCode);\n```\n[](https://github.com/showdy/Android_Note/blob/master/showdy_note/android/strategy/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87%E6%88%96%E6%8B%8D%E7%85%A7%E5%B9%B6%E8%A3%81%E5%89%AA%E4%B9%8BAndroid_N%E9%80%82%E9%85%8D.md)\n\n|   |  |  |\n| :------------ |:---------------:| -----:|\n| crop     | String |  |\n| aspectX     | int       |X   |\n|aspectY|int|Y|\n|outputX|int||\n|outputY|int||\n|scale|boolean||\n|return-data|boolean|Bitmap|\n|data|Parcelable|Bitmap|\n|circleCrop|String||\n|output|URI|URIfile://|\n|outputFormat|String||\n|noFaceDetection|boolean| |\n\nBean\n```\npublic class CropBean {\n\n    //Uri\n    public Uri dataUri;\n\n    //\n    public int outputX;\n    //\n    public int outputY;\n\n    //X\n    public int aspectX;\n    //Y\n    public int aspectY;\n\n    //\n    public boolean scale;\n\n    //Bitmap\n    public boolean isReturnData;\n    //Bitmap\n    public Parcelable returnData;\n\n    //BitmapUri\n    public Uri saveUri;\n\n    //\n    public String circleCrop;\n\n    //JPEG\n    public String outputFormat = Bitmap.CompressFormat.JPEG.toString();\n\n    //\n    public boolean noFaceDetection;\n\n    /**\n     * \n     */\n    public void caculateAspect() {\n\n        scale = true;\n\n        if (outputX == outputY) {\n            aspectX = 1;\n            aspectY = 1;\n            return;\n        }\n        float proportion = (float) outputX / (float) outputY;\n\n        aspectX = (int) (proportion * 100);\n        aspectY = 100;\n    }\n}\n```\n`caculateAspect()`**aspectX****aspectY****outputX****outputY**\n`caculateAspect()`\n\n- **intent.setData(Uri uri)**Uri\n- **return-data**trueBitmapfalse**output****return-data**true**output****onActivityResult**dataBitmapfalseonActivityResult**output**\n- **return-data**false**output**[Intent](http://blog.csdn.net/wingichoy/article/details/50679322)Uri\n\n##  ##\n\n[GitHub](https://github.com/YuanTiger/PhotoGet)\n1. onActivityResultUri\n2. **return-data**trueIntent\n3. targetSdkVersion>=23[](http://www.jianshu.com/p/9271efd71450)targetSdkVersion>=24[FileProvider](http://www.jianshu.com/p/3f9e3fc38eae)\n\n\n\n##  ##\n[](https://github.com/showdy/Android_Note/blob/master/showdy_note/android/strategy/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87%E6%88%96%E6%8B%8D%E7%85%A7%E5%B9%B6%E8%A3%81%E5%89%AA%E4%B9%8BAndroid_N%E9%80%82%E9%85%8D.md)\n[Intent](http://blog.csdn.net/wingichoy/article/details/50679322)\n[7.0](http://www.jianshu.com/p/3f9e3fc38eae)\n","source":"_posts/Android-Photo-Select.md","raw":"---\ntitle: Android\ndate: 2017-07-27 15:55:01\ntags:\n   - Android\n   - \n---\n##  ##\n\n\n\nAndroidAndroid6.0API 23Android7.0API 24\n\n\n##  ##\n\n\n```\nIntent intent = new Intent();\nintent.setAction(Intent.ACTION_PICK);\n// \nintent.setType(\"image/*\");\nactivity.startActivityForResult(intent, requestCode);\n```\n\n```\nIntent intent = new Intent();\nintent.setAction(Intent.ACTION_GET_CONTENT);\n// \nintent.setType(\"image/*\");\nactivity.startActivityForResult(intent, requestCode);\n```\n\n```\nIntent intent = new Intent();\nintent.setAction(Intent.ACTION_OPEN_DOCUMENT);\n// \nintent.setType(\"image/*\");\nactivity.startActivityForResult(intent, requestCode);\n```\n\n[ACTION_OPEN_DOCUMENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT)Android5.0(API 19)\n```\nif(Build.VERSION.SDK_INT>=Build.VERSION_CODES.KITKAT){\n\t//TODO\n}\n```\n[ACTION_OPEN_DOCUMENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT)\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)[ACTION_PICK](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK)\n`intent.setType(\"image/*\")`**MIME Type**\n**MIME Type**\n```\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.GET_CONTENT }\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.ACTION_PICK }\n```\n**MIME Type**\n\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)[ACTION_PICK](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK)\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png)\n\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\nURI[ACTION_PICK](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK)\n**MIME Type**[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\n\nUri\n[AndroidUri](http://www.jianshu.com/p/5572b42fc63f)\n\nonActivityResult\n```\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (resultCode != RESULT_OK) {\n        return;\n    }\n    switch (requestCode) {\n        case REQUEST_CODE_ALBUM://\n            Uri dataUri = data.getData();\n            Log.i(\"mengyuanuri\",\"uri:\"+dataUri.getScheme()+\":\"+dataUri.getSchemeSpecificPart());\n            break;\n    }\n}\n```\n\n\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\n```\ncontent://com.android.providers.media.documents/document/image:2116\n```\n[ACTION_PICK](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK)\n```\ncontent://media/external/images/media/2116\n```\nUri\nUri\n[Intent](http://blog.csdn.net/wingichoy/article/details/50679322)\nUri\nUri\nUriAndroidUri\nUriFile\n```\npublic static String getPath( final Uri uri) {\n        // DocumentProvider\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT && DocumentsContract.isDocumentUri(App.context, uri)) {\n            // ExternalStorageProvider\n            if (isExternalStorageDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(\":\");\n                final String type = split[0];\n\n                if (\"primary\".equalsIgnoreCase(type)) {\n                    return Environment.getExternalStorageDirectory() + \"/\" + split[1];\n                }\n                // TODO handle non-primary volumes\n            }\n            // DownloadsProvider\n            else if (isDownloadsDocument(uri)) {\n\n                final String id = DocumentsContract.getDocumentId(uri);\n                final Uri contentUri = ContentUris.withAppendedId(\n                        Uri.parse(\"content://downloads/public_downloads\"), Long.valueOf(id));\n\n                return getDataColumn(App.context, contentUri, null, null);\n            }\n            // MediaProvider\n            else if (isMediaDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(\":\");\n                final String type = split[0];\n\n                Uri contentUri = null;\n                if (\"image\".equals(type)) {\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                } else if (\"video\".equals(type)) {\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                } else if (\"audio\".equals(type)) {\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                }\n\n                final String selection = \"_id=?\";\n                final String[] selectionArgs = new String[]{\n                        split[1]\n                };\n\n                return getDataColumn(App.context, contentUri, selection, selectionArgs);\n            }\n        }\n        // MediaStore (and general)\n        else if (\"content\".equalsIgnoreCase(uri.getScheme())) {\n            return getDataColumn(App.context, uri, null, null);\n        }\n        // File\n        else if (\"file\".equalsIgnoreCase(uri.getScheme())) {\n            return uri.getPath();\n        }\n\n        return null;\n    }\n```\nUri\n```\n/storage/emulated/0/temp/kouliang_avatar.jpg\n```\nUriif\n\n\nonActivityResultUri\n[ACTION_GET_CONTENT](https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT)\n\n##  ##\n\n```\n//\nIntent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n//\nintent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(file));\nactivity.startActivityForResult(intent, requestCode);\n```\n:\n```\nswitch (requestCode) {\n    //\n    case REQUEST_CODE_ALBUM:\n        Uri dataUri = data.getData();\n        Log.i(\"mengyuanuri\", \"uri:\" + dataUri.getScheme() + \":\" + dataUri.getSchemeSpecificPart());\n        break;\n    //Intent\n    case REQUEST_CODE_CAMER:\n        File bgPath = Constant.bgPath;\n        Bitmap bitmap = BitmapFactory.decodeFile(bgPath.getPath());\n        iv_bg.setImageBitmap(bitmap);\n        break;\n}\n```\n\n****[MediaStore.ACTION_IMAGE_CAPTURE](https://developer.android.google.cn/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE)\n[ActivityNotFound](https://developer.android.google.cn/reference/android/content/ActivityNotFoundException.html)\n\n1. try-catch\n2. PackageManager[MediaStore.ACTION_IMAGE_CAPTURE](https://developer.android.google.cn/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE)\n\nPackageManager\n```\n/**\n * \n */\npublic static boolean isHaveCame(String intentName) {\n    PackageManager packageManager = App.context.getPackageManager();\n    Intent intent = new Intent(intentName);\n    List<ResolveInfo> list = packageManager.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n    return list.size() > 0;\n}\n```\n\n7.1\n```\nandroid.os.FileUriExposedException: file:///storage/emulated/0/photo_bg.jpg exposed beyond app through ClipData.Item.getUri(\n    at android.os.StrictMode.onFileUriExposed(StrictMode.java:1799)\n    at android.net.Uri.checkFileUriExposed(Uri.java:2346)\n    at android.content.ClipData.prepareToLeaveProcess(ClipData.java:845)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:8941)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:8926)\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1517)\n    at android.app.Activity.startActivityForResult(Activity.java:4225)\n    at android.support.v4.app.BaseFragmentActivityJB.startActivityForResult(BaseFragmentActivityJB.java:54)\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:75)\n    at android.app.Activity.startActivityForResult(Activity.java:4183)\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:708)\n    at com.my.photoget.utils.AppUtils.startCamer(AppUtils.java:37)\n```\n7.0(API 24)[](http://www.jianshu.com/p/3f9e3fc38eae)\nAndroid6.0(API 23)**build.gradle**`targetSdkVersion`<23[](http://www.jianshu.com/p/9271efd71450)\n`targetSdkVersion`<24\n`targetSdkVersion`SDK\n\n##  ##\nIntent\n```\nIntent intent = new Intent(\"com.android.camera.action.CROP\");\n//Uri\nintent.setDataAndType(cropBean.dataUri, \"image/*\");\n//\nintent.putExtra(\"outputX\", cropBean.outputX);\nintent.putExtra(\"outputY\", cropBean.outputY);\nintent.putExtra(\"scale\", cropBean.scale);\nintent.putExtra(\"aspectX\", cropBean.aspectX);\nintent.putExtra(\"aspectY\", cropBean.aspectY);\nintent.putExtra(\"outputFormat\", cropBean.outputFormat);\nintent.putExtra(\"return-data\", cropBean.isReturnData);\nintent.putExtra(\"output\", cropBean.saveUri);\n//\nactivity.startActivityForResult(intent, requestCode);\n```\n[](https://github.com/showdy/Android_Note/blob/master/showdy_note/android/strategy/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87%E6%88%96%E6%8B%8D%E7%85%A7%E5%B9%B6%E8%A3%81%E5%89%AA%E4%B9%8BAndroid_N%E9%80%82%E9%85%8D.md)\n\n|   |  |  |\n| :------------ |:---------------:| -----:|\n| crop     | String |  |\n| aspectX     | int       |X   |\n|aspectY|int|Y|\n|outputX|int||\n|outputY|int||\n|scale|boolean||\n|return-data|boolean|Bitmap|\n|data|Parcelable|Bitmap|\n|circleCrop|String||\n|output|URI|URIfile://|\n|outputFormat|String||\n|noFaceDetection|boolean| |\n\nBean\n```\npublic class CropBean {\n\n    //Uri\n    public Uri dataUri;\n\n    //\n    public int outputX;\n    //\n    public int outputY;\n\n    //X\n    public int aspectX;\n    //Y\n    public int aspectY;\n\n    //\n    public boolean scale;\n\n    //Bitmap\n    public boolean isReturnData;\n    //Bitmap\n    public Parcelable returnData;\n\n    //BitmapUri\n    public Uri saveUri;\n\n    //\n    public String circleCrop;\n\n    //JPEG\n    public String outputFormat = Bitmap.CompressFormat.JPEG.toString();\n\n    //\n    public boolean noFaceDetection;\n\n    /**\n     * \n     */\n    public void caculateAspect() {\n\n        scale = true;\n\n        if (outputX == outputY) {\n            aspectX = 1;\n            aspectY = 1;\n            return;\n        }\n        float proportion = (float) outputX / (float) outputY;\n\n        aspectX = (int) (proportion * 100);\n        aspectY = 100;\n    }\n}\n```\n`caculateAspect()`**aspectX****aspectY****outputX****outputY**\n`caculateAspect()`\n\n- **intent.setData(Uri uri)**Uri\n- **return-data**trueBitmapfalse**output****return-data**true**output****onActivityResult**dataBitmapfalseonActivityResult**output**\n- **return-data**false**output**[Intent](http://blog.csdn.net/wingichoy/article/details/50679322)Uri\n\n##  ##\n\n[GitHub](https://github.com/YuanTiger/PhotoGet)\n1. onActivityResultUri\n2. **return-data**trueIntent\n3. targetSdkVersion>=23[](http://www.jianshu.com/p/9271efd71450)targetSdkVersion>=24[FileProvider](http://www.jianshu.com/p/3f9e3fc38eae)\n\n\n\n##  ##\n[](https://github.com/showdy/Android_Note/blob/master/showdy_note/android/strategy/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87%E6%88%96%E6%8B%8D%E7%85%A7%E5%B9%B6%E8%A3%81%E5%89%AA%E4%B9%8BAndroid_N%E9%80%82%E9%85%8D.md)\n[Intent](http://blog.csdn.net/wingichoy/article/details/50679322)\n[7.0](http://www.jianshu.com/p/3f9e3fc38eae)\n","slug":"Android-Photo-Select","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdv50004hnnfrhfj2sql","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><br>AndroidAndroid6.0API 23Android7.0API 24<br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Intent</span> <span class=\"keyword\">intent</span> = new <span class=\"keyword\">Intent</span>();</span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setAction(<span class=\"keyword\">Intent</span>.ACTION_PICK);</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setType(<span class=\"string\">\"image/*\"</span>);</span><br><span class=\"line\">activity.startActivityForResult(<span class=\"keyword\">intent</span>, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Intent</span> <span class=\"keyword\">intent</span> = new <span class=\"keyword\">Intent</span>();</span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setAction(<span class=\"keyword\">Intent</span>.ACTION_GET_CONTENT);</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setType(<span class=\"string\">\"image/*\"</span>);</span><br><span class=\"line\">activity.startActivityForResult(<span class=\"keyword\">intent</span>, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Intent</span> <span class=\"keyword\">intent</span> = new <span class=\"keyword\">Intent</span>();</span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setAction(<span class=\"keyword\">Intent</span>.ACTION_OPEN_DOCUMENT);</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setType(<span class=\"string\">\"image/*\"</span>);</span><br><span class=\"line\">activity.startActivityForResult(<span class=\"keyword\">intent</span>, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT\" target=\"_blank\" rel=\"noopener\">ACTION_OPEN_DOCUMENT</a>Android5.0(API 19)<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">if</span><span class=\"params\">(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.KITKAT)</span></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//TODO</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT\" target=\"_blank\" rel=\"noopener\">ACTION_OPEN_DOCUMENT</a><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK\" target=\"_blank\" rel=\"noopener\">ACTION_PICK</a><br><code>intent.setType(&quot;image/*&quot;)</code><strong>MIME Type</strong><br><strong>MIME Type</strong><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.ActivityNotFoundException</span>: No Activity found to handle Intent &#123; act=android<span class=\"selector-class\">.intent</span><span class=\"selector-class\">.action</span><span class=\"selector-class\">.GET_CONTENT</span> &#125;</span><br><span class=\"line\">android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.ActivityNotFoundException</span>: No Activity found to handle Intent &#123; act=android<span class=\"selector-class\">.intent</span><span class=\"selector-class\">.action</span><span class=\"selector-class\">.ACTION_PICK</span> &#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>MIME Type</strong><br><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK\" target=\"_blank\" rel=\"noopener\">ACTION_PICK</a><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png\" alt=\"\"><br><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><br>URI<a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK\" target=\"_blank\" rel=\"noopener\">ACTION_PICK</a><br><strong>MIME Type</strong><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><br><br>Uri<br><a href=\"http://www.jianshu.com/p/5572b42fc63f\" target=\"_blank\" rel=\"noopener\">AndroidUri</a></p>\n<p>onActivityResult<br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> onActivityResult(<span class=\"keyword\">int</span> requestCode, <span class=\"keyword\">int</span> resultCode, Intent data) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (resultCode != RESULT_OK) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (requestCode) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">REQUEST_CODE_ALBUM:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            Uri dataUri = data.getData();</span><br><span class=\"line\">            Log.i(<span class=\"string\">\"mengyuanuri\"</span>,<span class=\"string\">\"uri:\"</span>+dataUri.getScheme()+<span class=\"string\">\":\"</span>+dataUri.getSchemeSpecificPart());</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><br><figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">content:</span>//<span class=\"keyword\">com</span>.android.providers.media.documents/document/image:<span class=\"number\">2116</span></span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK\" target=\"_blank\" rel=\"noopener\">ACTION_PICK</a><br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">content:<span class=\"regexp\">//m</span>edia<span class=\"regexp\">/external/im</span>ages<span class=\"regexp\">/media/</span><span class=\"number\">2116</span></span><br></pre></td></tr></table></figure></p>\n<p>Uri<br>Uri<br><a href=\"http://blog.csdn.net/wingichoy/article/details/50679322\" target=\"_blank\" rel=\"noopener\">Intent</a><br>Uri<br>Uri<br>UriAndroidUri<br>UriFile<br><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">String</span> getPath( <span class=\"keyword\">final</span> Uri uri) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// DocumentProvider</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT &amp;&amp; DocumentsContract.isDocumentUri(App.context, uri)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ExternalStorageProvider</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (isExternalStorageDocument(uri)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> docId = DocumentsContract.getDocumentId(uri);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span>[] <span class=\"built_in\">split</span> = docId.<span class=\"built_in\">split</span>(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> type = <span class=\"built_in\">split</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"string\">\"primary\"</span>.equalsIgnoreCase(type)) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> Environment.getExternalStorageDirectory() + <span class=\"string\">\"/\"</span> + <span class=\"built_in\">split</span>[<span class=\"number\">1</span>];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"comment\">// TODO handle non-primary volumes</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// DownloadsProvider</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (isDownloadsDocument(uri)) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> id = DocumentsContract.getDocumentId(uri);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> Uri contentUri = ContentUris.withAppendedId(</span><br><span class=\"line\">                        Uri.parse(<span class=\"string\">\"content://downloads/public_downloads\"</span>), Long.valueOf(id));</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">return</span> getDataColumn(App.context, contentUri, <span class=\"keyword\">null</span>, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// MediaProvider</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (isMediaDocument(uri)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> docId = DocumentsContract.getDocumentId(uri);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span>[] <span class=\"built_in\">split</span> = docId.<span class=\"built_in\">split</span>(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> type = <span class=\"built_in\">split</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">                Uri contentUri = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"string\">\"image\"</span>.equals(type)) &#123;</span><br><span class=\"line\">                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">\"video\"</span>.equals(type)) &#123;</span><br><span class=\"line\">                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">\"audio\"</span>.equals(type)) &#123;</span><br><span class=\"line\">                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> selection = <span class=\"string\">\"_id=?\"</span>;</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span>[] selectionArgs = <span class=\"keyword\">new</span> <span class=\"keyword\">String</span>[]&#123;</span><br><span class=\"line\">                        <span class=\"built_in\">split</span>[<span class=\"number\">1</span>]</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">return</span> getDataColumn(App.context, contentUri, selection, selectionArgs);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// MediaStore (and general)</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">\"content\"</span>.equalsIgnoreCase(uri.getScheme())) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> getDataColumn(App.context, uri, <span class=\"keyword\">null</span>, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// File</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">\"file\"</span>.equalsIgnoreCase(uri.getScheme())) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> uri.getPath();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>Uri<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"regexp\">/storage/</span>emulated<span class=\"regexp\">/0/</span>temp<span class=\"regexp\">/kouliang_avatar.jpg</span></span><br></pre></td></tr></table></figure></p>\n<p>Uriif</p>\n<p>onActivityResultUri<br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\"><span class=\"keyword\">Intent</span> <span class=\"keyword\">intent</span> = new <span class=\"keyword\">Intent</span>(MediaStore.ACTION_IMAGE_CAPTURE);</span><br><span class=\"line\">//</span><br><span class=\"line\"><span class=\"keyword\">intent</span>.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(<span class=\"keyword\">file</span>));</span><br><span class=\"line\">activity.startActivityForResult(<span class=\"keyword\">intent</span>, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p>:<br><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">switch </span>(requestCode) &#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    case REQUEST_CODE_ALBUM:</span><br><span class=\"line\">        Uri dataUri = <span class=\"meta\">data</span>.getData()<span class=\"comment\">;</span></span><br><span class=\"line\">        Log.i(<span class=\"string\">\"mengyuanuri\"</span>, <span class=\"string\">\"uri:\"</span> + dataUri.getScheme() + <span class=\"string\">\":\"</span> + dataUri.getSchemeSpecificPart())<span class=\"comment\">;</span></span><br><span class=\"line\">        <span class=\"keyword\">break;</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   //Intent</span><br><span class=\"line\">    case REQUEST_CODE_CAMER:</span><br><span class=\"line\">        File <span class=\"keyword\">bgPath </span>= Constant.<span class=\"keyword\">bgPath;</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">Bitmap </span><span class=\"keyword\">bitmap </span>= <span class=\"keyword\">BitmapFactory.decodeFile(bgPath.getPath());</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       iv_bg.setImageBitmap(<span class=\"keyword\">bitmap);</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">break;</span></span><br><span class=\"line\"><span class=\"keyword\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p><br><strong></strong><a href=\"https://developer.android.google.cn/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE\" target=\"_blank\" rel=\"noopener\">MediaStore.ACTION_IMAGE_CAPTURE</a><br><a href=\"https://developer.android.google.cn/reference/android/content/ActivityNotFoundException.html\" target=\"_blank\" rel=\"noopener\">ActivityNotFound</a><br></p>\n<ol>\n<li>try-catch</li>\n<li>PackageManager<a href=\"https://developer.android.google.cn/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE\" target=\"_blank\" rel=\"noopener\">MediaStore.ACTION_IMAGE_CAPTURE</a></li>\n</ol>\n<p>PackageManager<br><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> static <span class=\"built_in\">boolean</span> isHaveCame(<span class=\"built_in\">String</span> intentName) &#123;</span><br><span class=\"line\">    PackageManager packageManager = App.context.getPackageManager();</span><br><span class=\"line\">    Intent intent = <span class=\"literal\">new</span> Intent(intentName);</span><br><span class=\"line\">    <span class=\"built_in\">List</span>&lt;ResolveInfo&gt; <span class=\"built_in\">list</span> = packageManager.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">list</span>.size() &gt; <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br>7.1<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android<span class=\"selector-class\">.os</span><span class=\"selector-class\">.FileUriExposedException</span>: file:<span class=\"comment\">///storage/emulated/0/photo_bg.jpg exposed beyond app through ClipData.Item.getUri(</span></span><br><span class=\"line\">    at android<span class=\"selector-class\">.os</span><span class=\"selector-class\">.StrictMode</span><span class=\"selector-class\">.onFileUriExposed</span>(StrictMode<span class=\"selector-class\">.java</span>:<span class=\"number\">1799</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.net</span><span class=\"selector-class\">.Uri</span><span class=\"selector-class\">.checkFileUriExposed</span>(Uri<span class=\"selector-class\">.java</span>:<span class=\"number\">2346</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.ClipData</span><span class=\"selector-class\">.prepareToLeaveProcess</span>(ClipData<span class=\"selector-class\">.java</span>:<span class=\"number\">845</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.Intent</span><span class=\"selector-class\">.prepareToLeaveProcess</span>(Intent<span class=\"selector-class\">.java</span>:<span class=\"number\">8941</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.Intent</span><span class=\"selector-class\">.prepareToLeaveProcess</span>(Intent<span class=\"selector-class\">.java</span>:<span class=\"number\">8926</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.app</span><span class=\"selector-class\">.Instrumentation</span><span class=\"selector-class\">.execStartActivity</span>(Instrumentation<span class=\"selector-class\">.java</span>:<span class=\"number\">1517</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.app</span><span class=\"selector-class\">.Activity</span><span class=\"selector-class\">.startActivityForResult</span>(Activity<span class=\"selector-class\">.java</span>:<span class=\"number\">4225</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.support</span><span class=\"selector-class\">.v4</span><span class=\"selector-class\">.app</span><span class=\"selector-class\">.BaseFragmentActivityJB</span><span class=\"selector-class\">.startActivityForResult</span>(BaseFragmentActivityJB<span class=\"selector-class\">.java</span>:<span class=\"number\">54</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.support</span><span class=\"selector-class\">.v4</span><span class=\"selector-class\">.app</span><span class=\"selector-class\">.FragmentActivity</span><span class=\"selector-class\">.startActivityForResult</span>(FragmentActivity<span class=\"selector-class\">.java</span>:<span class=\"number\">75</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.app</span><span class=\"selector-class\">.Activity</span><span class=\"selector-class\">.startActivityForResult</span>(Activity<span class=\"selector-class\">.java</span>:<span class=\"number\">4183</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.support</span><span class=\"selector-class\">.v4</span><span class=\"selector-class\">.app</span><span class=\"selector-class\">.FragmentActivity</span><span class=\"selector-class\">.startActivityForResult</span>(FragmentActivity<span class=\"selector-class\">.java</span>:<span class=\"number\">708</span>)</span><br><span class=\"line\">    at com<span class=\"selector-class\">.my</span><span class=\"selector-class\">.photoget</span><span class=\"selector-class\">.utils</span><span class=\"selector-class\">.AppUtils</span><span class=\"selector-class\">.startCamer</span>(AppUtils<span class=\"selector-class\">.java</span>:<span class=\"number\">37</span>)</span><br></pre></td></tr></table></figure></p>\n<p>7.0(API 24)<a href=\"http://www.jianshu.com/p/3f9e3fc38eae\" target=\"_blank\" rel=\"noopener\"></a><br>Android6.0(API 23)<strong>build.gradle</strong><code>targetSdkVersion</code>&lt;23<a href=\"http://www.jianshu.com/p/9271efd71450\" target=\"_blank\" rel=\"noopener\"></a><br><code>targetSdkVersion</code>&lt;24<br><code>targetSdkVersion</code>SDK</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Intent<br><figure class=\"highlight gauss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Intent intent = <span class=\"keyword\">new</span> Intent(<span class=\"string\">\"com.android.camera.action.CROP\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//Uri</span></span><br><span class=\"line\">intent.setDataAndType(cropBean.dataUri, <span class=\"string\">\"image/*\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"outputX\"</span>, cropBean.outputX);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"outputY\"</span>, cropBean.outputY);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"scale\"</span>, cropBean.<span class=\"built_in\">scale</span>);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"aspectX\"</span>, cropBean.aspectX);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"aspectY\"</span>, cropBean.aspectY);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"outputFormat\"</span>, cropBean.outputFormat);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"return-data\"</span>, cropBean.isReturnData);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"output\"</span>, cropBean.saveUri);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">activity.startActivityForResult(intent, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://github.com/showdy/Android_Note/blob/master/showdy_note/android/strategy/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87%E6%88%96%E6%8B%8D%E7%85%A7%E5%B9%B6%E8%A3%81%E5%89%AA%E4%B9%8BAndroid_N%E9%80%82%E9%85%8D.md\" target=\"_blank\" rel=\"noopener\"></a></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\"></th>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:right\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">crop</td>\n<td style=\"text-align:center\">String</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">aspectX</td>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:right\">X</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">aspectY</td>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:right\">Y</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">outputX</td>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">outputY</td>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scale</td>\n<td style=\"text-align:center\">boolean</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">return-data</td>\n<td style=\"text-align:center\">boolean</td>\n<td style=\"text-align:right\">Bitmap</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">data</td>\n<td style=\"text-align:center\">Parcelable</td>\n<td style=\"text-align:right\">Bitmap</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">circleCrop</td>\n<td style=\"text-align:center\">String</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">output</td>\n<td style=\"text-align:center\">URI</td>\n<td style=\"text-align:right\">URIfile://</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">outputFormat</td>\n<td style=\"text-align:center\">String</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">noFaceDetection</td>\n<td style=\"text-align:center\">boolean</td>\n<td style=\"text-align:right\"></td>\n</tr>\n</tbody>\n</table>\n<p>Bean<br><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> class CropBean &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Uri</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Uri dataUri;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> outputX;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> outputY;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//X</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> aspectX;</span><br><span class=\"line\">    <span class=\"comment\">//Y</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> aspectY;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> <span class=\"built_in\">scale</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Bitmap</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> isReturnData;</span><br><span class=\"line\">    <span class=\"comment\">//Bitmap</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Parcelable returnData;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//BitmapUri</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Uri saveUri;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">String</span> circleCrop;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//JPEG</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">String</span> outputFormat = Bitmap.CompressFormat.JPEG.toString();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> noFaceDetection;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> caculateAspect() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">scale</span> = <span class=\"keyword\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (outputX == outputY) &#123;</span><br><span class=\"line\">            aspectX = <span class=\"number\">1</span>;</span><br><span class=\"line\">            aspectY = <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">float</span> proportion = (<span class=\"built_in\">float</span>) outputX / (<span class=\"built_in\">float</span>) outputY;</span><br><span class=\"line\"></span><br><span class=\"line\">        aspectX = (<span class=\"built_in\">int</span>) (proportion * <span class=\"number\">100</span>);</span><br><span class=\"line\">        aspectY = <span class=\"number\">100</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>caculateAspect()</code><strong>aspectX</strong><strong>aspectY</strong><strong>outputX</strong><strong>outputY</strong><br><code>caculateAspect()</code><br></p>\n<ul>\n<li><strong>intent.setData(Uri uri)</strong>Uri</li>\n<li><strong>return-data</strong>trueBitmapfalse<strong>output</strong><strong>return-data</strong>true<strong>output</strong><strong>onActivityResult</strong>dataBitmapfalseonActivityResult<strong>output</strong></li>\n<li><strong>return-data</strong>false<strong>output</strong><a href=\"http://blog.csdn.net/wingichoy/article/details/50679322\" target=\"_blank\" rel=\"noopener\">Intent</a>Uri</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><a href=\"https://github.com/YuanTiger/PhotoGet\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<ol>\n<li>onActivityResultUri</li>\n<li><strong>return-data</strong>trueIntent</li>\n<li>targetSdkVersion&gt;=23<a href=\"http://www.jianshu.com/p/9271efd71450\" target=\"_blank\" rel=\"noopener\"></a>targetSdkVersion&gt;=24<a href=\"http://www.jianshu.com/p/3f9e3fc38eae\" target=\"_blank\" rel=\"noopener\">FileProvider</a></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/showdy/Android_Note/blob/master/showdy_note/android/strategy/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87%E6%88%96%E6%8B%8D%E7%85%A7%E5%B9%B6%E8%A3%81%E5%89%AA%E4%B9%8BAndroid_N%E9%80%82%E9%85%8D.md\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"http://blog.csdn.net/wingichoy/article/details/50679322\" target=\"_blank\" rel=\"noopener\">Intent</a><br><a href=\"http://www.jianshu.com/p/3f9e3fc38eae\" target=\"_blank\" rel=\"noopener\">7.0</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><br>AndroidAndroid6.0API 23Android7.0API 24<br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Intent</span> <span class=\"keyword\">intent</span> = new <span class=\"keyword\">Intent</span>();</span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setAction(<span class=\"keyword\">Intent</span>.ACTION_PICK);</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setType(<span class=\"string\">\"image/*\"</span>);</span><br><span class=\"line\">activity.startActivityForResult(<span class=\"keyword\">intent</span>, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Intent</span> <span class=\"keyword\">intent</span> = new <span class=\"keyword\">Intent</span>();</span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setAction(<span class=\"keyword\">Intent</span>.ACTION_GET_CONTENT);</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setType(<span class=\"string\">\"image/*\"</span>);</span><br><span class=\"line\">activity.startActivityForResult(<span class=\"keyword\">intent</span>, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">Intent</span> <span class=\"keyword\">intent</span> = new <span class=\"keyword\">Intent</span>();</span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setAction(<span class=\"keyword\">Intent</span>.ACTION_OPEN_DOCUMENT);</span><br><span class=\"line\">// </span><br><span class=\"line\"><span class=\"keyword\">intent</span>.setType(<span class=\"string\">\"image/*\"</span>);</span><br><span class=\"line\">activity.startActivityForResult(<span class=\"keyword\">intent</span>, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT\" target=\"_blank\" rel=\"noopener\">ACTION_OPEN_DOCUMENT</a>Android5.0(API 19)<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">if</span><span class=\"params\">(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.KITKAT)</span></span>&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//TODO</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT\" target=\"_blank\" rel=\"noopener\">ACTION_OPEN_DOCUMENT</a><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK\" target=\"_blank\" rel=\"noopener\">ACTION_PICK</a><br><code>intent.setType(&quot;image/*&quot;)</code><strong>MIME Type</strong><br><strong>MIME Type</strong><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.ActivityNotFoundException</span>: No Activity found to handle Intent &#123; act=android<span class=\"selector-class\">.intent</span><span class=\"selector-class\">.action</span><span class=\"selector-class\">.GET_CONTENT</span> &#125;</span><br><span class=\"line\">android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.ActivityNotFoundException</span>: No Activity found to handle Intent &#123; act=android<span class=\"selector-class\">.intent</span><span class=\"selector-class\">.action</span><span class=\"selector-class\">.ACTION_PICK</span> &#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>MIME Type</strong><br><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK\" target=\"_blank\" rel=\"noopener\">ACTION_PICK</a><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png\" alt=\"\"><br><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><br>URI<a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK\" target=\"_blank\" rel=\"noopener\">ACTION_PICK</a><br><strong>MIME Type</strong><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><br><br>Uri<br><a href=\"http://www.jianshu.com/p/5572b42fc63f\" target=\"_blank\" rel=\"noopener\">AndroidUri</a></p>\n<p>onActivityResult<br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> onActivityResult(<span class=\"keyword\">int</span> requestCode, <span class=\"keyword\">int</span> resultCode, Intent data) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (resultCode != RESULT_OK) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (requestCode) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"string\">REQUEST_CODE_ALBUM:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            Uri dataUri = data.getData();</span><br><span class=\"line\">            Log.i(<span class=\"string\">\"mengyuanuri\"</span>,<span class=\"string\">\"uri:\"</span>+dataUri.getScheme()+<span class=\"string\">\":\"</span>+dataUri.getSchemeSpecificPart());</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a><br><figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">content:</span>//<span class=\"keyword\">com</span>.android.providers.media.documents/document/image:<span class=\"number\">2116</span></span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_PICK\" target=\"_blank\" rel=\"noopener\">ACTION_PICK</a><br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">content:<span class=\"regexp\">//m</span>edia<span class=\"regexp\">/external/im</span>ages<span class=\"regexp\">/media/</span><span class=\"number\">2116</span></span><br></pre></td></tr></table></figure></p>\n<p>Uri<br>Uri<br><a href=\"http://blog.csdn.net/wingichoy/article/details/50679322\" target=\"_blank\" rel=\"noopener\">Intent</a><br>Uri<br>Uri<br>UriAndroidUri<br>UriFile<br><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">String</span> getPath( <span class=\"keyword\">final</span> Uri uri) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// DocumentProvider</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT &amp;&amp; DocumentsContract.isDocumentUri(App.context, uri)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ExternalStorageProvider</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (isExternalStorageDocument(uri)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> docId = DocumentsContract.getDocumentId(uri);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span>[] <span class=\"built_in\">split</span> = docId.<span class=\"built_in\">split</span>(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> type = <span class=\"built_in\">split</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"string\">\"primary\"</span>.equalsIgnoreCase(type)) &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> Environment.getExternalStorageDirectory() + <span class=\"string\">\"/\"</span> + <span class=\"built_in\">split</span>[<span class=\"number\">1</span>];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"comment\">// TODO handle non-primary volumes</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// DownloadsProvider</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (isDownloadsDocument(uri)) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> id = DocumentsContract.getDocumentId(uri);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> Uri contentUri = ContentUris.withAppendedId(</span><br><span class=\"line\">                        Uri.parse(<span class=\"string\">\"content://downloads/public_downloads\"</span>), Long.valueOf(id));</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">return</span> getDataColumn(App.context, contentUri, <span class=\"keyword\">null</span>, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// MediaProvider</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (isMediaDocument(uri)) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> docId = DocumentsContract.getDocumentId(uri);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span>[] <span class=\"built_in\">split</span> = docId.<span class=\"built_in\">split</span>(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> type = <span class=\"built_in\">split</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">                Uri contentUri = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"string\">\"image\"</span>.equals(type)) &#123;</span><br><span class=\"line\">                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">\"video\"</span>.equals(type)) &#123;</span><br><span class=\"line\">                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">\"audio\"</span>.equals(type)) &#123;</span><br><span class=\"line\">                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span> selection = <span class=\"string\">\"_id=?\"</span>;</span><br><span class=\"line\">                <span class=\"keyword\">final</span> <span class=\"keyword\">String</span>[] selectionArgs = <span class=\"keyword\">new</span> <span class=\"keyword\">String</span>[]&#123;</span><br><span class=\"line\">                        <span class=\"built_in\">split</span>[<span class=\"number\">1</span>]</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">return</span> getDataColumn(App.context, contentUri, selection, selectionArgs);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// MediaStore (and general)</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">\"content\"</span>.equalsIgnoreCase(uri.getScheme())) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> getDataColumn(App.context, uri, <span class=\"keyword\">null</span>, <span class=\"keyword\">null</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// File</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"string\">\"file\"</span>.equalsIgnoreCase(uri.getScheme())) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> uri.getPath();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>Uri<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"regexp\">/storage/</span>emulated<span class=\"regexp\">/0/</span>temp<span class=\"regexp\">/kouliang_avatar.jpg</span></span><br></pre></td></tr></table></figure></p>\n<p>Uriif</p>\n<p>onActivityResultUri<br><a href=\"https://developer.android.google.cn/reference/android/content/Intent.html#ACTION_GET_CONTENT\" target=\"_blank\" rel=\"noopener\">ACTION_GET_CONTENT</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\"><span class=\"keyword\">Intent</span> <span class=\"keyword\">intent</span> = new <span class=\"keyword\">Intent</span>(MediaStore.ACTION_IMAGE_CAPTURE);</span><br><span class=\"line\">//</span><br><span class=\"line\"><span class=\"keyword\">intent</span>.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(<span class=\"keyword\">file</span>));</span><br><span class=\"line\">activity.startActivityForResult(<span class=\"keyword\">intent</span>, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p>:<br><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">switch </span>(requestCode) &#123;</span><br><span class=\"line\">    //</span><br><span class=\"line\">    case REQUEST_CODE_ALBUM:</span><br><span class=\"line\">        Uri dataUri = <span class=\"meta\">data</span>.getData()<span class=\"comment\">;</span></span><br><span class=\"line\">        Log.i(<span class=\"string\">\"mengyuanuri\"</span>, <span class=\"string\">\"uri:\"</span> + dataUri.getScheme() + <span class=\"string\">\":\"</span> + dataUri.getSchemeSpecificPart())<span class=\"comment\">;</span></span><br><span class=\"line\">        <span class=\"keyword\">break;</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   //Intent</span><br><span class=\"line\">    case REQUEST_CODE_CAMER:</span><br><span class=\"line\">        File <span class=\"keyword\">bgPath </span>= Constant.<span class=\"keyword\">bgPath;</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">Bitmap </span><span class=\"keyword\">bitmap </span>= <span class=\"keyword\">BitmapFactory.decodeFile(bgPath.getPath());</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       iv_bg.setImageBitmap(<span class=\"keyword\">bitmap);</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">break;</span></span><br><span class=\"line\"><span class=\"keyword\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p><br><strong></strong><a href=\"https://developer.android.google.cn/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE\" target=\"_blank\" rel=\"noopener\">MediaStore.ACTION_IMAGE_CAPTURE</a><br><a href=\"https://developer.android.google.cn/reference/android/content/ActivityNotFoundException.html\" target=\"_blank\" rel=\"noopener\">ActivityNotFound</a><br></p>\n<ol>\n<li>try-catch</li>\n<li>PackageManager<a href=\"https://developer.android.google.cn/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE\" target=\"_blank\" rel=\"noopener\">MediaStore.ACTION_IMAGE_CAPTURE</a></li>\n</ol>\n<p>PackageManager<br><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> static <span class=\"built_in\">boolean</span> isHaveCame(<span class=\"built_in\">String</span> intentName) &#123;</span><br><span class=\"line\">    PackageManager packageManager = App.context.getPackageManager();</span><br><span class=\"line\">    Intent intent = <span class=\"literal\">new</span> Intent(intentName);</span><br><span class=\"line\">    <span class=\"built_in\">List</span>&lt;ResolveInfo&gt; <span class=\"built_in\">list</span> = packageManager.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">list</span>.size() &gt; <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br>7.1<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">android<span class=\"selector-class\">.os</span><span class=\"selector-class\">.FileUriExposedException</span>: file:<span class=\"comment\">///storage/emulated/0/photo_bg.jpg exposed beyond app through ClipData.Item.getUri(</span></span><br><span class=\"line\">    at android<span class=\"selector-class\">.os</span><span class=\"selector-class\">.StrictMode</span><span class=\"selector-class\">.onFileUriExposed</span>(StrictMode<span class=\"selector-class\">.java</span>:<span class=\"number\">1799</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.net</span><span class=\"selector-class\">.Uri</span><span class=\"selector-class\">.checkFileUriExposed</span>(Uri<span class=\"selector-class\">.java</span>:<span class=\"number\">2346</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.ClipData</span><span class=\"selector-class\">.prepareToLeaveProcess</span>(ClipData<span class=\"selector-class\">.java</span>:<span class=\"number\">845</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.Intent</span><span class=\"selector-class\">.prepareToLeaveProcess</span>(Intent<span class=\"selector-class\">.java</span>:<span class=\"number\">8941</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.content</span><span class=\"selector-class\">.Intent</span><span class=\"selector-class\">.prepareToLeaveProcess</span>(Intent<span class=\"selector-class\">.java</span>:<span class=\"number\">8926</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.app</span><span class=\"selector-class\">.Instrumentation</span><span class=\"selector-class\">.execStartActivity</span>(Instrumentation<span class=\"selector-class\">.java</span>:<span class=\"number\">1517</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.app</span><span class=\"selector-class\">.Activity</span><span class=\"selector-class\">.startActivityForResult</span>(Activity<span class=\"selector-class\">.java</span>:<span class=\"number\">4225</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.support</span><span class=\"selector-class\">.v4</span><span class=\"selector-class\">.app</span><span class=\"selector-class\">.BaseFragmentActivityJB</span><span class=\"selector-class\">.startActivityForResult</span>(BaseFragmentActivityJB<span class=\"selector-class\">.java</span>:<span class=\"number\">54</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.support</span><span class=\"selector-class\">.v4</span><span class=\"selector-class\">.app</span><span class=\"selector-class\">.FragmentActivity</span><span class=\"selector-class\">.startActivityForResult</span>(FragmentActivity<span class=\"selector-class\">.java</span>:<span class=\"number\">75</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.app</span><span class=\"selector-class\">.Activity</span><span class=\"selector-class\">.startActivityForResult</span>(Activity<span class=\"selector-class\">.java</span>:<span class=\"number\">4183</span>)</span><br><span class=\"line\">    at android<span class=\"selector-class\">.support</span><span class=\"selector-class\">.v4</span><span class=\"selector-class\">.app</span><span class=\"selector-class\">.FragmentActivity</span><span class=\"selector-class\">.startActivityForResult</span>(FragmentActivity<span class=\"selector-class\">.java</span>:<span class=\"number\">708</span>)</span><br><span class=\"line\">    at com<span class=\"selector-class\">.my</span><span class=\"selector-class\">.photoget</span><span class=\"selector-class\">.utils</span><span class=\"selector-class\">.AppUtils</span><span class=\"selector-class\">.startCamer</span>(AppUtils<span class=\"selector-class\">.java</span>:<span class=\"number\">37</span>)</span><br></pre></td></tr></table></figure></p>\n<p>7.0(API 24)<a href=\"http://www.jianshu.com/p/3f9e3fc38eae\" target=\"_blank\" rel=\"noopener\"></a><br>Android6.0(API 23)<strong>build.gradle</strong><code>targetSdkVersion</code>&lt;23<a href=\"http://www.jianshu.com/p/9271efd71450\" target=\"_blank\" rel=\"noopener\"></a><br><code>targetSdkVersion</code>&lt;24<br><code>targetSdkVersion</code>SDK</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Intent<br><figure class=\"highlight gauss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Intent intent = <span class=\"keyword\">new</span> Intent(<span class=\"string\">\"com.android.camera.action.CROP\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//Uri</span></span><br><span class=\"line\">intent.setDataAndType(cropBean.dataUri, <span class=\"string\">\"image/*\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"outputX\"</span>, cropBean.outputX);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"outputY\"</span>, cropBean.outputY);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"scale\"</span>, cropBean.<span class=\"built_in\">scale</span>);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"aspectX\"</span>, cropBean.aspectX);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"aspectY\"</span>, cropBean.aspectY);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"outputFormat\"</span>, cropBean.outputFormat);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"return-data\"</span>, cropBean.isReturnData);</span><br><span class=\"line\">intent.putExtra(<span class=\"string\">\"output\"</span>, cropBean.saveUri);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">activity.startActivityForResult(intent, requestCode);</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://github.com/showdy/Android_Note/blob/master/showdy_note/android/strategy/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87%E6%88%96%E6%8B%8D%E7%85%A7%E5%B9%B6%E8%A3%81%E5%89%AA%E4%B9%8BAndroid_N%E9%80%82%E9%85%8D.md\" target=\"_blank\" rel=\"noopener\"></a></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\"></th>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:right\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">crop</td>\n<td style=\"text-align:center\">String</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">aspectX</td>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:right\">X</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">aspectY</td>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:right\">Y</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">outputX</td>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">outputY</td>\n<td style=\"text-align:center\">int</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">scale</td>\n<td style=\"text-align:center\">boolean</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">return-data</td>\n<td style=\"text-align:center\">boolean</td>\n<td style=\"text-align:right\">Bitmap</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">data</td>\n<td style=\"text-align:center\">Parcelable</td>\n<td style=\"text-align:right\">Bitmap</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">circleCrop</td>\n<td style=\"text-align:center\">String</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">output</td>\n<td style=\"text-align:center\">URI</td>\n<td style=\"text-align:right\">URIfile://</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">outputFormat</td>\n<td style=\"text-align:center\">String</td>\n<td style=\"text-align:right\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">noFaceDetection</td>\n<td style=\"text-align:center\">boolean</td>\n<td style=\"text-align:right\"></td>\n</tr>\n</tbody>\n</table>\n<p>Bean<br><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> class CropBean &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Uri</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Uri dataUri;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> outputX;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> outputY;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//X</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> aspectX;</span><br><span class=\"line\">    <span class=\"comment\">//Y</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">int</span> aspectY;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> <span class=\"built_in\">scale</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Bitmap</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> isReturnData;</span><br><span class=\"line\">    <span class=\"comment\">//Bitmap</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Parcelable returnData;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//BitmapUri</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Uri saveUri;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">String</span> circleCrop;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//JPEG</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">String</span> outputFormat = Bitmap.CompressFormat.JPEG.toString();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> noFaceDetection;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> caculateAspect() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">scale</span> = <span class=\"keyword\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (outputX == outputY) &#123;</span><br><span class=\"line\">            aspectX = <span class=\"number\">1</span>;</span><br><span class=\"line\">            aspectY = <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">float</span> proportion = (<span class=\"built_in\">float</span>) outputX / (<span class=\"built_in\">float</span>) outputY;</span><br><span class=\"line\"></span><br><span class=\"line\">        aspectX = (<span class=\"built_in\">int</span>) (proportion * <span class=\"number\">100</span>);</span><br><span class=\"line\">        aspectY = <span class=\"number\">100</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>caculateAspect()</code><strong>aspectX</strong><strong>aspectY</strong><strong>outputX</strong><strong>outputY</strong><br><code>caculateAspect()</code><br></p>\n<ul>\n<li><strong>intent.setData(Uri uri)</strong>Uri</li>\n<li><strong>return-data</strong>trueBitmapfalse<strong>output</strong><strong>return-data</strong>true<strong>output</strong><strong>onActivityResult</strong>dataBitmapfalseonActivityResult<strong>output</strong></li>\n<li><strong>return-data</strong>false<strong>output</strong><a href=\"http://blog.csdn.net/wingichoy/article/details/50679322\" target=\"_blank\" rel=\"noopener\">Intent</a>Uri</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><a href=\"https://github.com/YuanTiger/PhotoGet\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<ol>\n<li>onActivityResultUri</li>\n<li><strong>return-data</strong>trueIntent</li>\n<li>targetSdkVersion&gt;=23<a href=\"http://www.jianshu.com/p/9271efd71450\" target=\"_blank\" rel=\"noopener\"></a>targetSdkVersion&gt;=24<a href=\"http://www.jianshu.com/p/3f9e3fc38eae\" target=\"_blank\" rel=\"noopener\">FileProvider</a></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/showdy/Android_Note/blob/master/showdy_note/android/strategy/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%86%8C%E5%9B%BE%E7%89%87%E6%88%96%E6%8B%8D%E7%85%A7%E5%B9%B6%E8%A3%81%E5%89%AA%E4%B9%8BAndroid_N%E9%80%82%E9%85%8D.md\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"http://blog.csdn.net/wingichoy/article/details/50679322\" target=\"_blank\" rel=\"noopener\">Intent</a><br><a href=\"http://www.jianshu.com/p/3f9e3fc38eae\" target=\"_blank\" rel=\"noopener\">7.0</a></p>\n"},{"title":"Android","date":"2017-07-25T07:51:57.000Z","_content":"#  #\n###  ###\n1. [](https://YuanTiger.github.io/2017/05/08/Java_understanding-OO/)\n2. [](https://YuanTiger.github.io/2017/05/31/Design-Catalog/)\n3. \n4. Android\n5. Android\n6. Android\n7. [Android](https://YuanTiger.github.io/2017/05/03/Android_even_distribution/)\n8. [Android](https://YuanTiger.github.io/2017/05/15/Android-Handler/)\n9. Android\n10. Android\n11. Android\n12. Android\n13. AndroidLinux\n14. Android JNI\n15. Android\n16. Android\n17. Android\n18. Android\n19. [Android](https://YuanTiger.github.io/2017/05/09/Android-Premission-Manger/)\n\n###  ###\n1. +\n2. \n3. App\n4. Html+JavaScript\n5. C++\n6. \n7. \n\n","source":"_posts/Android_Interview-Experience.md","raw":"---\ntitle: Android\ndate: 2017-07-25 15:51:57\ntags:\n   - Android\n   - Java\n---\n#  #\n###  ###\n1. [](https://YuanTiger.github.io/2017/05/08/Java_understanding-OO/)\n2. [](https://YuanTiger.github.io/2017/05/31/Design-Catalog/)\n3. \n4. Android\n5. Android\n6. Android\n7. [Android](https://YuanTiger.github.io/2017/05/03/Android_even_distribution/)\n8. [Android](https://YuanTiger.github.io/2017/05/15/Android-Handler/)\n9. Android\n10. Android\n11. Android\n12. Android\n13. AndroidLinux\n14. Android JNI\n15. Android\n16. Android\n17. Android\n18. Android\n19. [Android](https://YuanTiger.github.io/2017/05/09/Android-Premission-Manger/)\n\n###  ###\n1. +\n2. \n3. App\n4. Html+JavaScript\n5. C++\n6. \n7. \n\n","slug":"Android_Interview-Experience","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdvc0005hnnffo54t7lr","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><a href=\"https://YuanTiger.github.io/2017/05/08/Java_understanding-OO/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/05/31/Design-Catalog/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li></li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li><a href=\"https://YuanTiger.github.io/2017/05/03/Android_even_distribution/\" target=\"_blank\" rel=\"noopener\">Android</a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/05/15/Android-Handler/\" target=\"_blank\" rel=\"noopener\">Android</a></li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li>AndroidLinux</li>\n<li>Android JNI</li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li><a href=\"https://YuanTiger.github.io/2017/05/09/Android-Premission-Manger/\" target=\"_blank\" rel=\"noopener\">Android</a></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>+</li>\n<li></li>\n<li>App</li>\n<li>Html+JavaScript</li>\n<li>C++</li>\n<li></li>\n<li></li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><a href=\"https://YuanTiger.github.io/2017/05/08/Java_understanding-OO/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/05/31/Design-Catalog/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li></li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li><a href=\"https://YuanTiger.github.io/2017/05/03/Android_even_distribution/\" target=\"_blank\" rel=\"noopener\">Android</a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/05/15/Android-Handler/\" target=\"_blank\" rel=\"noopener\">Android</a></li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li>AndroidLinux</li>\n<li>Android JNI</li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li>Android</li>\n<li><a href=\"https://YuanTiger.github.io/2017/05/09/Android-Premission-Manger/\" target=\"_blank\" rel=\"noopener\">Android</a></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>+</li>\n<li></li>\n<li>App</li>\n<li>Html+JavaScript</li>\n<li>C++</li>\n<li></li>\n<li></li>\n</ol>\n"},{"title":"Android","date":"2017-05-09T10:38:37.000Z","_content":"Google[Android](https://developer.android.google.cn/index.html)\n[](http://developers.googleblog.cn/)\n\nAndroid API236.0**`build.gradle``targetSdkVersion`23`targetSdkVersion`23**\n\n## targetSdkVersion < 23 ##\n`targetSdkVersion`23\n1. \n2. ```-App```Crash`try-catch`\n3. App\n4. `targetSdkVersion`23`try-catch`\n\n## targetSdkVersion >= 23 ##\n\n1. ````Crash\n2. \n3. \n4. \n5. Google[easypermissions](https://github.com/googlesamples/easypermissions)demo[demo](https://github.com/googlesamples/easypermissions)\n\n\n##  ##\n","source":"_posts/Android-Premission-Manger.md","raw":"---\ntitle: Android\ndate: 2017-05-09 18:38:37\ntags:\n   - Android\n---\nGoogle[Android](https://developer.android.google.cn/index.html)\n[](http://developers.googleblog.cn/)\n\nAndroid API236.0**`build.gradle``targetSdkVersion`23`targetSdkVersion`23**\n\n## targetSdkVersion < 23 ##\n`targetSdkVersion`23\n1. \n2. ```-App```Crash`try-catch`\n3. App\n4. `targetSdkVersion`23`try-catch`\n\n## targetSdkVersion >= 23 ##\n\n1. ````Crash\n2. \n3. \n4. \n5. Google[easypermissions](https://github.com/googlesamples/easypermissions)demo[demo](https://github.com/googlesamples/easypermissions)\n\n\n##  ##\n","slug":"Android-Premission-Manger","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdvq0006hnnfhmy18k07","content":"<p>Google<a href=\"https://developer.android.google.cn/index.html\" target=\"_blank\" rel=\"noopener\">Android</a><br><a href=\"http://developers.googleblog.cn/\" target=\"_blank\" rel=\"noopener\"></a><br><br>Android API236.0<strong><code>build.gradle</code><code>targetSdkVersion</code>23<code>targetSdkVersion</code>23</strong></p>\n<h2 id=\"targetSdkVersion-lt-23\"><a href=\"#targetSdkVersion-lt-23\" class=\"headerlink\" title=\"targetSdkVersion &lt; 23\"></a>targetSdkVersion &lt; 23</h2><p><code>targetSdkVersion</code>23</p>\n<ol>\n<li></li>\n<li><code>-App</code>Crash<code>try-catch</code></li>\n<li>App</li>\n<li><code>targetSdkVersion</code>23<code>try-catch</code></li>\n</ol>\n<h2 id=\"targetSdkVersion-gt-23\"><a href=\"#targetSdkVersion-gt-23\" class=\"headerlink\" title=\"targetSdkVersion &gt;= 23\"></a>targetSdkVersion &gt;= 23</h2><ol>\n<li><code></code><code></code>Crash</li>\n<li></li>\n<li></li>\n<li></li>\n<li>Google<a href=\"https://github.com/googlesamples/easypermissions\" target=\"_blank\" rel=\"noopener\">easypermissions</a>demo<a href=\"https://github.com/googlesamples/easypermissions\" target=\"_blank\" rel=\"noopener\">demo</a></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Google<a href=\"https://developer.android.google.cn/index.html\" target=\"_blank\" rel=\"noopener\">Android</a><br><a href=\"http://developers.googleblog.cn/\" target=\"_blank\" rel=\"noopener\"></a><br><br>Android API236.0<strong><code>build.gradle</code><code>targetSdkVersion</code>23<code>targetSdkVersion</code>23</strong></p>\n<h2 id=\"targetSdkVersion-lt-23\"><a href=\"#targetSdkVersion-lt-23\" class=\"headerlink\" title=\"targetSdkVersion &lt; 23\"></a>targetSdkVersion &lt; 23</h2><p><code>targetSdkVersion</code>23</p>\n<ol>\n<li></li>\n<li><code>-App</code>Crash<code>try-catch</code></li>\n<li>App</li>\n<li><code>targetSdkVersion</code>23<code>try-catch</code></li>\n</ol>\n<h2 id=\"targetSdkVersion-gt-23\"><a href=\"#targetSdkVersion-gt-23\" class=\"headerlink\" title=\"targetSdkVersion &gt;= 23\"></a>targetSdkVersion &gt;= 23</h2><ol>\n<li><code></code><code></code>Crash</li>\n<li></li>\n<li></li>\n<li></li>\n<li>Google<a href=\"https://github.com/googlesamples/easypermissions\" target=\"_blank\" rel=\"noopener\">easypermissions</a>demo<a href=\"https://github.com/googlesamples/easypermissions\" target=\"_blank\" rel=\"noopener\">demo</a></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n"},{"title":"Android","date":"2017-05-03T08:43:57.000Z","_content":"## .\nAndroid    \n\nAndroidAndroidAndroid    \n\n    \n\n:     \n\n`down-->move move move.....-->up`      \n\ndownup        \n\n        \n\n\n\n## . \n         \n\n<font color='red'></font>     \n       \n\n|                     | Activity   |  ViewGroup |  View     |\n| ----------------------    | :----:     | :----:     | :----:   |\n|  dispatchTouEvent         | true       |   true     |  true    |\n| onInterceptTouchEvent     |   false    |   true     |  false   |\n| onTouchEvent              |   true     |   true     |  true    |\n       \n\ntruefalse     \n\nAndroid      \n\n\n- `dispatchTouEvent()`      \n\n\tActivityViewGroupView\n- `onInterceptTouchEvent()`       \n\n\tViewGroup\n- `onTouchEvent()`      \n\n\t,truefalse\n\neasy       \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/back_I_begin_zb.jpg)\n## . \n             \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_0.png)              \n        \n\n,FrameLayout1FrameLayout2FrameLayout2Button       \n\nButton      \n\n      \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_1.png)     \n\nActivity,F1,F2,ButtononTouchEvent****        \n \n         \n\n\n### 1Activity\n#### (1) `dispatchTouchEvent()`\ndebug      \n\nAndroid23        \n\nacitivityActivity`dispatchTouchEvent()`       \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_2.png)      \n\ndebugActivity`dispatchTouchEvent()`      \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_3.png)      \n\n       \n\n**Activity**       \n\nActivitytruefalse        \n\n**Activity`dispatchTouchEvent()`**         \n\ndown`onUserInteraction()`       \n\nActivitydown`onUserInteraction()`          \n\nWindow`superDispatchTouchEvent()`,WindowPhoneWindowPhoneWindow  \n     \n`superDispatchTouchEvent()`\n```\n@Override\npublic boolean superDispatchTouchEvent(MotionEvent event) {\n    return mDecor.superDispatchTouchEvent(event);\n}\n```\nDecor`superDispatchTouchEvent()`       \n\n!But!But,oh no!What's Decor?          \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png)       \n\n[Decor](http://www.jianshu.com/p/687010ccad66)       \n\nActivity`setContentView()`         \n\nDecorDecorPhoneWindowFrameLayout         \n\nFrameLayout`setContentView()``Decor.addView()`      \n\n        \n\n       \n\n![](http://upload-images.jianshu.io/upload_images/1734948-cd6dd09d50cb0bb5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)      \n\ntitleBarmain.xmlDecor      \n\nAndroid[Decor](http://www.jianshu.com/p/687010ccad66)        \n\n`mDecor.superDispatchTouchEvent(event)`ViewGroup`dispatchTouchEvent()`\n\n```\n/**\n    DecorsuperDispatchTouchEvent\n    DecorFrameLayout\n    superFrameLayout\n    FrameLayoutViewGroup\n**/\npublic boolean superDispatchTouchEvent(MotionEvent event) {\n    return super.dispatchTouchEvent(event);\n}\n```\nActivityViewGroupViewGroup\n\n#### (2) `onTouchEvent()`\nActivity`dispatchTouchEvent()`\n`return onTouchEvent(ev)`\n\n`getWindow.superDispatchTouchEvent()`falseActivity`onTouchEvent()`Activity`onTouchEvent()`ViewGroup\nActivityViewViewGroup`onTouchEvent()`Activity`onTouchEvent()`\n### 2ViewGroup\nViewGroup`dispatchTouchEvent()`\nViewGroup`dispatchTouchEvent()`FrameLayou_ONE\n:\"484Activity`mDecor.superDispatchTouchEvent(event)`ActivityDecor`dispatchTouchEvent()`ViewGroupDecor!        \n\n.....    \n      \n      \n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg)         \nlayoutaddlayout             \nViewGroup`dispatchTouchEvent()`thisthis\n```\ncom.android.internal.policy.PhoneWindow$DecorView{b9a23df V.E...... R....... 0,0-1080,1920}\n```\nViewGroup!\n#### (1)`dispatchTouchEvent()`\nViewGroup`dispatchTouchEvent()`210ViewGroup\nfalse`dispatchTouchEvent()`\n```\nif (onFilterTouchEventForSecurity(ev)){}\n```\n`onFilterTouchEventForSecurity(ev)`\ntrue\n```\n    /**\n     * Filter the touch event to apply security policies.\n     *\n     * @param event The motion event to be filtered.\n     * @return True if the event should be dispatched, false if the event should be dropped.\n     *\n     * @see #getFilterTouchesWhenObscured\n     */\npublic boolean onFilterTouchEventForSecurity(MotionEvent event) {\n    //noinspection RedundantIfStatement\n    if ((mViewFlags & FILTER_TOUCHES_WHEN_OBSCURED) != 0&& (event.getFlags() & MotionEvent.FLAG_WINDOW_IS_OBSCURED) != 0) {\n        // Window is obscured, drop this touch.\n            return false;\n    }\n    return true;\n}\n```\ndowndown\n```\n// Handle an initial down.\nif (actionMasked == MotionEvent.ACTION_DOWN) {\n    // Throw away all previous state when starting a new touch gesture.\n    // The framework may have dropped the up or cancel event for the previous gesture\n    // due to an app switch, ANR, or some other state change.\n    cancelAndClearTouchTargets(ev);\n    resetTouchState();\n}\n```\n\n```\n// Check for interception.\nfinal boolean intercepted;\nif (actionMasked == MotionEvent.ACTION_DOWN|| mFirstTouchTarget != null) {\n    final boolean disallowIntercept = (mGroupFlags &FLAG_DISALLOW_INTERCEPT) != 0;\n    if (!disallowIntercept) {\n          intercepted = onInterceptTouchEvent(ev);\n          ev.setAction(action); // restore action in case it was changed\n    } else {\n    intercepted = false;\n    }\n} else {\n    // There are no touch targets and this action is not an initial down\n    // so this view group continues to intercept touches.\n    intercepted = true;\n}\n```\n\n```\n// Check for cancelation.\nfinal boolean canceled = resetCancelNextUpFlag(this)|| actionMasked == MotionEvent.ACTION_CANCEL;\n```\n\nViewGroupView\n[](http://wangkuiwu.github.io/2015/01/04/TouchEvent-ViewGroup/)\n```\nif (!canceled && !intercepted) {}\n```\n:\n```\n// Update list of touch targets for pointer up or cancel, if needed.\nif (canceled|| actionMasked == MotionEvent.ACTION_UP|| actionMasked == MotionEvent.ACTION_HOVER_MOVE) {\n    resetTouchState();\n} \nelse if (split && actionMasked == MotionEvent.ACTION_POINTER_UP) {\n    final int actionIndex = ev.getActionIndex();\n    final int idBitsToRemove = 1 << ev.getPointerId(actionIndex);\n    removePointersFromTouchTargets(idBitsToRemove);\n}\n```\n\n\n#### (2) `onInterceptTouchEvent()`\nbuttonbuttonbuttonbutton\n\n```\npublic boolean onInterceptTouchEvent(MotionEvent ev) {\n   return false;\n}\n```\ntrueViewGroup`onTouchEvent()`\nViewGroupActivityView\nActivity`dispatchTouchEvent()`ActivityActivityActivity`dispatchTouchEvent()`Activity\nViewViewView\n#### (3) `onTouchEvent()`\nViewGroup`onTouchEvent()`ViewGroupViewViewViewGroup`onTouchEvent()`\ndebugdemo\nView`onTouchEvent()`buttonthisButtonViewGroup`onTouchEvent()``onTouchEvent()`View\n       \n\n**Activity`dispatchTouchEvent()`ViewGroupDecorViewLayout`dispatchTouchEvent()``onInterceptTouchEvent()`ViewGroup`onTouchEvent()``onInterceptTouchEvent()`ViewViewonTouchEvent()**    \n    \n\nViewGroup`onTouchEvent()``onTouchEvenet()`falseViewGroup`onTouchEvent()`false`onTouchEvnet()``onTouchEvent()`falseActivity`onTouchEvent()`Activity`onTouchEvent()`\n### 3View\n#### (1)`dispatchTouchEvent()`\n```\npublic boolean dispatchTouchEvent(MotionEvent event) {\n       boolean result = false;\n        if (mInputEventConsistencyVerifier != null) {\n            mInputEventConsistencyVerifier.onTouchEvent(event, 0);\n        }\n\n        final int actionMasked = event.getActionMasked();\n        if (actionMasked == MotionEvent.ACTION_DOWN) {\n            // Defensive cleanup for new gesture\n            stopNestedScroll();\n        }\n\n        if (onFilterTouchEventForSecurity(event)) {\n            //noinspection SimplifiableIfStatement\n            ListenerInfo li = mListenerInfo;\n            if (li != null && li.mOnTouchListener != null\n                    && (mViewFlags & ENABLED_MASK) == ENABLED\n                    && li.mOnTouchListener.onTouch(this, event)) {\n                result = true;\n            }\n\n            if (!result && onTouchEvent(event)) {\n                result = true;\n            }\n        }\n\n        if (!result && mInputEventConsistencyVerifier != null) {\n            mInputEventConsistencyVerifier.onUnhandledEvent(event, 0);\n        }\n\n        // Clean up after nested scrolls if this is the end of a gesture;\n        // also cancel it if we tried an ACTION_DOWN but we didn't want the rest\n        // of the gesture.\n        if (actionMasked == MotionEvent.ACTION_UP ||\n                actionMasked == MotionEvent.ACTION_CANCEL ||\n                (actionMasked == MotionEvent.ACTION_DOWN && !result)) {\n            stopNestedScroll();\n        }\n\n        return result;\n}\n```\nViewView`dispatchTouchEvent()``onTouchEvent()`View`onTouchEvenet()`true\n#### (2)`onTouchEvent()`\n`onTouchEvent`ActivityViewGroupViewView`onTouchEvent()`trueViewGroupView`onTouchEvent()`ViewGroupfalse\n`onTouchEvent()`\nView(ViewGroup)`onTouchEvent()`View`onToucEvent()`\n## .\n               \n\n1Activity`dispatchTouchEvent()`Activitytruefalse    \n\n2Activity`onUserInteraction()`    \n\n3Activity`dispatchTouchEvent()`View`onTouchEvent()`     \n\n4ViewGroup`onTouchEvent()``onTouchEvent()`falseActivity`onTouchEvent()`      \n\n5ViewGroup`onInterceptTouchEvent()`down       \n\n6`onTouchEvent()`View`onTouchEvent()`       \n\n\n------------\nAndroid\n\n>mengyuanzz@126.com\n\n","source":"_posts/Android_even_distribution.md","raw":"---\ntitle: Android\ndate: 2017-05-03 16:43:57\ntags:\n   - Android\n---\n## .\nAndroid    \n\nAndroidAndroidAndroid    \n\n    \n\n:     \n\n`down-->move move move.....-->up`      \n\ndownup        \n\n        \n\n\n\n## . \n         \n\n<font color='red'></font>     \n       \n\n|                     | Activity   |  ViewGroup |  View     |\n| ----------------------    | :----:     | :----:     | :----:   |\n|  dispatchTouEvent         | true       |   true     |  true    |\n| onInterceptTouchEvent     |   false    |   true     |  false   |\n| onTouchEvent              |   true     |   true     |  true    |\n       \n\ntruefalse     \n\nAndroid      \n\n\n- `dispatchTouEvent()`      \n\n\tActivityViewGroupView\n- `onInterceptTouchEvent()`       \n\n\tViewGroup\n- `onTouchEvent()`      \n\n\t,truefalse\n\neasy       \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/back_I_begin_zb.jpg)\n## . \n             \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_0.png)              \n        \n\n,FrameLayout1FrameLayout2FrameLayout2Button       \n\nButton      \n\n      \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_1.png)     \n\nActivity,F1,F2,ButtononTouchEvent****        \n \n         \n\n\n### 1Activity\n#### (1) `dispatchTouchEvent()`\ndebug      \n\nAndroid23        \n\nacitivityActivity`dispatchTouchEvent()`       \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_2.png)      \n\ndebugActivity`dispatchTouchEvent()`      \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_3.png)      \n\n       \n\n**Activity**       \n\nActivitytruefalse        \n\n**Activity`dispatchTouchEvent()`**         \n\ndown`onUserInteraction()`       \n\nActivitydown`onUserInteraction()`          \n\nWindow`superDispatchTouchEvent()`,WindowPhoneWindowPhoneWindow  \n     \n`superDispatchTouchEvent()`\n```\n@Override\npublic boolean superDispatchTouchEvent(MotionEvent event) {\n    return mDecor.superDispatchTouchEvent(event);\n}\n```\nDecor`superDispatchTouchEvent()`       \n\n!But!But,oh no!What's Decor?          \n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png)       \n\n[Decor](http://www.jianshu.com/p/687010ccad66)       \n\nActivity`setContentView()`         \n\nDecorDecorPhoneWindowFrameLayout         \n\nFrameLayout`setContentView()``Decor.addView()`      \n\n        \n\n       \n\n![](http://upload-images.jianshu.io/upload_images/1734948-cd6dd09d50cb0bb5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)      \n\ntitleBarmain.xmlDecor      \n\nAndroid[Decor](http://www.jianshu.com/p/687010ccad66)        \n\n`mDecor.superDispatchTouchEvent(event)`ViewGroup`dispatchTouchEvent()`\n\n```\n/**\n    DecorsuperDispatchTouchEvent\n    DecorFrameLayout\n    superFrameLayout\n    FrameLayoutViewGroup\n**/\npublic boolean superDispatchTouchEvent(MotionEvent event) {\n    return super.dispatchTouchEvent(event);\n}\n```\nActivityViewGroupViewGroup\n\n#### (2) `onTouchEvent()`\nActivity`dispatchTouchEvent()`\n`return onTouchEvent(ev)`\n\n`getWindow.superDispatchTouchEvent()`falseActivity`onTouchEvent()`Activity`onTouchEvent()`ViewGroup\nActivityViewViewGroup`onTouchEvent()`Activity`onTouchEvent()`\n### 2ViewGroup\nViewGroup`dispatchTouchEvent()`\nViewGroup`dispatchTouchEvent()`FrameLayou_ONE\n:\"484Activity`mDecor.superDispatchTouchEvent(event)`ActivityDecor`dispatchTouchEvent()`ViewGroupDecor!        \n\n.....    \n      \n      \n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg)         \nlayoutaddlayout             \nViewGroup`dispatchTouchEvent()`thisthis\n```\ncom.android.internal.policy.PhoneWindow$DecorView{b9a23df V.E...... R....... 0,0-1080,1920}\n```\nViewGroup!\n#### (1)`dispatchTouchEvent()`\nViewGroup`dispatchTouchEvent()`210ViewGroup\nfalse`dispatchTouchEvent()`\n```\nif (onFilterTouchEventForSecurity(ev)){}\n```\n`onFilterTouchEventForSecurity(ev)`\ntrue\n```\n    /**\n     * Filter the touch event to apply security policies.\n     *\n     * @param event The motion event to be filtered.\n     * @return True if the event should be dispatched, false if the event should be dropped.\n     *\n     * @see #getFilterTouchesWhenObscured\n     */\npublic boolean onFilterTouchEventForSecurity(MotionEvent event) {\n    //noinspection RedundantIfStatement\n    if ((mViewFlags & FILTER_TOUCHES_WHEN_OBSCURED) != 0&& (event.getFlags() & MotionEvent.FLAG_WINDOW_IS_OBSCURED) != 0) {\n        // Window is obscured, drop this touch.\n            return false;\n    }\n    return true;\n}\n```\ndowndown\n```\n// Handle an initial down.\nif (actionMasked == MotionEvent.ACTION_DOWN) {\n    // Throw away all previous state when starting a new touch gesture.\n    // The framework may have dropped the up or cancel event for the previous gesture\n    // due to an app switch, ANR, or some other state change.\n    cancelAndClearTouchTargets(ev);\n    resetTouchState();\n}\n```\n\n```\n// Check for interception.\nfinal boolean intercepted;\nif (actionMasked == MotionEvent.ACTION_DOWN|| mFirstTouchTarget != null) {\n    final boolean disallowIntercept = (mGroupFlags &FLAG_DISALLOW_INTERCEPT) != 0;\n    if (!disallowIntercept) {\n          intercepted = onInterceptTouchEvent(ev);\n          ev.setAction(action); // restore action in case it was changed\n    } else {\n    intercepted = false;\n    }\n} else {\n    // There are no touch targets and this action is not an initial down\n    // so this view group continues to intercept touches.\n    intercepted = true;\n}\n```\n\n```\n// Check for cancelation.\nfinal boolean canceled = resetCancelNextUpFlag(this)|| actionMasked == MotionEvent.ACTION_CANCEL;\n```\n\nViewGroupView\n[](http://wangkuiwu.github.io/2015/01/04/TouchEvent-ViewGroup/)\n```\nif (!canceled && !intercepted) {}\n```\n:\n```\n// Update list of touch targets for pointer up or cancel, if needed.\nif (canceled|| actionMasked == MotionEvent.ACTION_UP|| actionMasked == MotionEvent.ACTION_HOVER_MOVE) {\n    resetTouchState();\n} \nelse if (split && actionMasked == MotionEvent.ACTION_POINTER_UP) {\n    final int actionIndex = ev.getActionIndex();\n    final int idBitsToRemove = 1 << ev.getPointerId(actionIndex);\n    removePointersFromTouchTargets(idBitsToRemove);\n}\n```\n\n\n#### (2) `onInterceptTouchEvent()`\nbuttonbuttonbuttonbutton\n\n```\npublic boolean onInterceptTouchEvent(MotionEvent ev) {\n   return false;\n}\n```\ntrueViewGroup`onTouchEvent()`\nViewGroupActivityView\nActivity`dispatchTouchEvent()`ActivityActivityActivity`dispatchTouchEvent()`Activity\nViewViewView\n#### (3) `onTouchEvent()`\nViewGroup`onTouchEvent()`ViewGroupViewViewViewGroup`onTouchEvent()`\ndebugdemo\nView`onTouchEvent()`buttonthisButtonViewGroup`onTouchEvent()``onTouchEvent()`View\n       \n\n**Activity`dispatchTouchEvent()`ViewGroupDecorViewLayout`dispatchTouchEvent()``onInterceptTouchEvent()`ViewGroup`onTouchEvent()``onInterceptTouchEvent()`ViewViewonTouchEvent()**    \n    \n\nViewGroup`onTouchEvent()``onTouchEvenet()`falseViewGroup`onTouchEvent()`false`onTouchEvnet()``onTouchEvent()`falseActivity`onTouchEvent()`Activity`onTouchEvent()`\n### 3View\n#### (1)`dispatchTouchEvent()`\n```\npublic boolean dispatchTouchEvent(MotionEvent event) {\n       boolean result = false;\n        if (mInputEventConsistencyVerifier != null) {\n            mInputEventConsistencyVerifier.onTouchEvent(event, 0);\n        }\n\n        final int actionMasked = event.getActionMasked();\n        if (actionMasked == MotionEvent.ACTION_DOWN) {\n            // Defensive cleanup for new gesture\n            stopNestedScroll();\n        }\n\n        if (onFilterTouchEventForSecurity(event)) {\n            //noinspection SimplifiableIfStatement\n            ListenerInfo li = mListenerInfo;\n            if (li != null && li.mOnTouchListener != null\n                    && (mViewFlags & ENABLED_MASK) == ENABLED\n                    && li.mOnTouchListener.onTouch(this, event)) {\n                result = true;\n            }\n\n            if (!result && onTouchEvent(event)) {\n                result = true;\n            }\n        }\n\n        if (!result && mInputEventConsistencyVerifier != null) {\n            mInputEventConsistencyVerifier.onUnhandledEvent(event, 0);\n        }\n\n        // Clean up after nested scrolls if this is the end of a gesture;\n        // also cancel it if we tried an ACTION_DOWN but we didn't want the rest\n        // of the gesture.\n        if (actionMasked == MotionEvent.ACTION_UP ||\n                actionMasked == MotionEvent.ACTION_CANCEL ||\n                (actionMasked == MotionEvent.ACTION_DOWN && !result)) {\n            stopNestedScroll();\n        }\n\n        return result;\n}\n```\nViewView`dispatchTouchEvent()``onTouchEvent()`View`onTouchEvenet()`true\n#### (2)`onTouchEvent()`\n`onTouchEvent`ActivityViewGroupViewView`onTouchEvent()`trueViewGroupView`onTouchEvent()`ViewGroupfalse\n`onTouchEvent()`\nView(ViewGroup)`onTouchEvent()`View`onToucEvent()`\n## .\n               \n\n1Activity`dispatchTouchEvent()`Activitytruefalse    \n\n2Activity`onUserInteraction()`    \n\n3Activity`dispatchTouchEvent()`View`onTouchEvent()`     \n\n4ViewGroup`onTouchEvent()``onTouchEvent()`falseActivity`onTouchEvent()`      \n\n5ViewGroup`onInterceptTouchEvent()`down       \n\n6`onTouchEvent()`View`onTouchEvent()`       \n\n\n------------\nAndroid\n\n>mengyuanzz@126.com\n\n","slug":"Android_even_distribution","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdvu0008hnnfbnm19g9c","content":"<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\".\"></a>.</h2><p>Android    </p>\n<p>AndroidAndroidAndroid    </p>\n<p>    </p>\n<p>:     </p>\n<p><code>down--&gt;move move move.....--&gt;up</code>      </p>\n<p>downup        </p>\n<p>        </p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\". \"></a>. </h2><p>         </p>\n<font color=\"red\"></font>     \n\n\n<table>\n<thead>\n<tr>\n<th></th>\n<th style=\"text-align:center\">Activity</th>\n<th style=\"text-align:center\">ViewGroup</th>\n<th style=\"text-align:center\">View</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>dispatchTouEvent</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">true</td>\n</tr>\n<tr>\n<td>onInterceptTouchEvent</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td>onTouchEvent</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">true</td>\n</tr>\n</tbody>\n</table>\n<p>truefalse     </p>\n<p>Android      </p>\n<ul>\n<li><p><code>dispatchTouEvent()</code>      </p>\n<p>  ActivityViewGroupView</p>\n</li>\n<li><p><code>onInterceptTouchEvent()</code>       </p>\n<p>  ViewGroup</p>\n</li>\n<li><p><code>onTouchEvent()</code>      </p>\n<p>  ,truefalse</p>\n</li>\n</ul>\n<p>easy       </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/back_I_begin_zb.jpg\" alt=\"\"></p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\". \"></a>. </h2><p>             </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_0.png\" alt=\"\">              </p>\n<p>,FrameLayout1FrameLayout2FrameLayout2Button       </p>\n<p>Button      </p>\n<p>      </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_1.png\" alt=\"\">     </p>\n<p>Activity,F1,F2,ButtononTouchEvent<strong></strong>        </p>\n<p>         </p>\n<h3 id=\"1Activity\"><a href=\"#1Activity\" class=\"headerlink\" title=\"1Activity\"></a>1Activity</h3><h4 id=\"1-dispatchTouchEvent\"><a href=\"#1-dispatchTouchEvent\" class=\"headerlink\" title=\"(1) dispatchTouchEvent()\"></a>(1) <code>dispatchTouchEvent()</code></h4><p>debug      </p>\n<p>Android23        </p>\n<p>acitivityActivity<code>dispatchTouchEvent()</code>       </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_2.png\" alt=\"\">      </p>\n<p>debugActivity<code>dispatchTouchEvent()</code>      </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_3.png\" alt=\"\">      </p>\n<p>       </p>\n<p><strong>Activity</strong>       </p>\n<p>Activitytruefalse        </p>\n<p><strong>Activity<code>dispatchTouchEvent()</code></strong>         </p>\n<p>down<code>onUserInteraction()</code>       </p>\n<p>Activitydown<code>onUserInteraction()</code>          </p>\n<p>Window<code>superDispatchTouchEvent()</code>,WindowPhoneWindowPhoneWindow  </p>\n<p><code>superDispatchTouchEvent()</code><br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">superDispatchTouchEvent</span><span class=\"params\">(MotionEvent event)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">return</span> mDecor.<span class=\"title\">superDispatchTouchEvent</span><span class=\"params\">(event)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Decor<code>superDispatchTouchEvent()</code>       </p>\n<p>!But!But,oh no!Whats Decor?          </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png\" alt=\"\">       </p>\n<p><a href=\"http://www.jianshu.com/p/687010ccad66\" target=\"_blank\" rel=\"noopener\">Decor</a>       </p>\n<p>Activity<code>setContentView()</code>         </p>\n<p>DecorDecorPhoneWindowFrameLayout         </p>\n<p>FrameLayout<code>setContentView()</code><code>Decor.addView()</code>      </p>\n<p>        </p>\n<p>       </p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1734948-cd6dd09d50cb0bb5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"\">      </p>\n<p>titleBarmain.xmlDecor      </p>\n<p>Android<a href=\"http://www.jianshu.com/p/687010ccad66\" target=\"_blank\" rel=\"noopener\">Decor</a>        </p>\n<p><code>mDecor.superDispatchTouchEvent(event)</code>ViewGroup<code>dispatchTouchEvent()</code></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    DecorsuperDispatchTouchEvent</span></span><br><span class=\"line\"><span class=\"comment\">    DecorFrameLayout</span></span><br><span class=\"line\"><span class=\"comment\">    superFrameLayout</span></span><br><span class=\"line\"><span class=\"comment\">    FrameLayoutViewGroup</span></span><br><span class=\"line\"><span class=\"comment\">**/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">superDispatchTouchEvent</span><span class=\"params\">(MotionEvent event)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">return</span> <span class=\"keyword\">super</span>.<span class=\"title\">dispatchTouchEvent</span><span class=\"params\">(event)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ActivityViewGroupViewGroup</p>\n<h4 id=\"2-onTouchEvent\"><a href=\"#2-onTouchEvent\" class=\"headerlink\" title=\"(2) onTouchEvent()\"></a>(2) <code>onTouchEvent()</code></h4><p>Activity<code>dispatchTouchEvent()</code><br><code>return onTouchEvent(ev)</code><br><br><code>getWindow.superDispatchTouchEvent()</code>falseActivity<code>onTouchEvent()</code>Activity<code>onTouchEvent()</code>ViewGroup<br>ActivityViewViewGroup<code>onTouchEvent()</code>Activity<code>onTouchEvent()</code></p>\n<h3 id=\"2ViewGroup\"><a href=\"#2ViewGroup\" class=\"headerlink\" title=\"2ViewGroup\"></a>2ViewGroup</h3><p>ViewGroup<code>dispatchTouchEvent()</code><br>ViewGroup<code>dispatchTouchEvent()</code>FrameLayou_ONE<br>:484Activity<code>mDecor.superDispatchTouchEvent(event)</code>ActivityDecor<code>dispatchTouchEvent()</code>ViewGroupDecor!        </p>\n<p>..    </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg\" alt=\"\"><br>layoutaddlayout<br>ViewGroup<code>dispatchTouchEvent()</code>thisthis<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">com<span class=\"selector-class\">.android</span><span class=\"selector-class\">.internal</span><span class=\"selector-class\">.policy</span><span class=\"selector-class\">.PhoneWindow</span><span class=\"variable\">$DecorView</span>&#123;b9a23df V<span class=\"selector-class\">.E</span>...... R....... <span class=\"number\">0</span>,<span class=\"number\">0</span>-<span class=\"number\">1080</span>,<span class=\"number\">1920</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ViewGroup!</p>\n<h4 id=\"1-dispatchTouchEvent-1\"><a href=\"#1-dispatchTouchEvent-1\" class=\"headerlink\" title=\"(1)dispatchTouchEvent()\"></a>(1)<code>dispatchTouchEvent()</code></h4><p>ViewGroup<code>dispatchTouchEvent()</code>210ViewGroup<br>false<code>dispatchTouchEvent()</code><br><figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"comment\">(onFilterTouchEventForSecurity(ev)</span>)&#123;&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>onFilterTouchEventForSecurity(ev)</code><br>true<br><figure class=\"highlight zephir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Filter the touch event to apply security policies.</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> event The motion event to be filtered.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> True if the event should be dispatched, false if the event should be dropped.</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@see</span> #getFilterTouchesWhenObscured</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> onFilterTouchEventForSecurity(MotionEvent event) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//noinspection RedundantIfStatement</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> ((mViewFlags &amp; FILTER_TOUCHES_WHEN_OBSCURED) != <span class=\"number\">0</span>&amp;&amp; (event.getFlags() &amp; MotionEvent.FLAG_WINDOW_IS_OBSCURED) != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Window is obscured, drop this touch.</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>downdown<br><figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// Handle an initial down.</span><br><span class=\"line\">if (actionMasked == MotionEvent.ACTION_DOWN) &#123;</span><br><span class=\"line\">    // Throw away <span class=\"literal\">all</span> previous <span class=\"keyword\">state</span> when starting a new touch gesture.</span><br><span class=\"line\">    // The framework may have dropped the up or cancel event <span class=\"keyword\">for</span> the previous gesture</span><br><span class=\"line\">    // due <span class=\"keyword\">to</span> an app switch, ANR, or some other <span class=\"keyword\">state</span> change.</span><br><span class=\"line\">    cancelAndClearTouchTargets(ev);</span><br><span class=\"line\">    resetTouchState();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Check for interception.</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"keyword\">boolean</span> intercepted;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (actionMasked == MotionEvent.ACTION_DOWN|| mFirstTouchTarget != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">boolean</span> disallowIntercept = (mGroupFlags &amp;FLAG_DISALLOW_INTERCEPT) != <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!disallowIntercept) &#123;</span><br><span class=\"line\">          intercepted = onInterceptTouchEvent(ev);</span><br><span class=\"line\">          ev.setAction(action); <span class=\"comment\">// restore action in case it was changed</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    intercepted = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// There are no touch targets and this action is not an initial down</span></span><br><span class=\"line\">    <span class=\"comment\">// so this view group continues to intercept touches.</span></span><br><span class=\"line\">    intercepted = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// <span class=\"keyword\">Check</span> <span class=\"keyword\">for</span> cancelation.</span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"built_in\">boolean</span> canceled = resetCancelNextUpFlag(this)|| actionMasked == MotionEvent.ACTION_CANCEL;</span><br></pre></td></tr></table></figure></p>\n<p>ViewGroupView<br><a href=\"http://wangkuiwu.github.io/2015/01/04/TouchEvent-ViewGroup/\" target=\"_blank\" rel=\"noopener\"></a><br><figure class=\"highlight erlang-repl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (!canceled &amp;&amp; !intercepted) &#123;&#125;</span><br></pre></td></tr></table></figure></p>\n<p>:<br><figure class=\"highlight irpf90\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// Update list of <span class=\"keyword\">touch</span> targets for <span class=\"keyword\">pointer</span> up or cancel, <span class=\"keyword\">if</span> needed.</span><br><span class=\"line\"><span class=\"keyword\">if</span> (canceled|| actionMasked == MotionEvent.ACTION_UP|| actionMasked == MotionEvent.ACTION_HOVER_MOVE) &#123;</span><br><span class=\"line\">    resetTouchState();</span><br><span class=\"line\">&#125; </span><br><span class=\"line\"><span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (split &amp;&amp; actionMasked == MotionEvent.ACTION_POINTER_UP) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"built_in\">int</span> actionIndex = ev.getActionIndex();</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"built_in\">int</span> idBitsToRemove = <span class=\"number\">1</span> &lt;&lt; ev.getPointerId(actionIndex);</span><br><span class=\"line\">    removePointersFromTouchTargets(idBitsToRemove);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h4 id=\"2-onInterceptTouchEvent\"><a href=\"#2-onInterceptTouchEvent\" class=\"headerlink\" title=\"(2) onInterceptTouchEvent()\"></a>(2) <code>onInterceptTouchEvent()</code></h4><p>buttonbuttonbuttonbutton<br><br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">onInterceptTouchEvent</span><span class=\"params\">(MotionEvent ev)</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>trueViewGroup<code>onTouchEvent()</code><br>ViewGroupActivityView<br>Activity<code>dispatchTouchEvent()</code>ActivityActivityActivity<code>dispatchTouchEvent()</code>Activity<br>ViewViewView</p>\n<h4 id=\"3-onTouchEvent\"><a href=\"#3-onTouchEvent\" class=\"headerlink\" title=\"(3) onTouchEvent()\"></a>(3) <code>onTouchEvent()</code></h4><p>ViewGroup<code>onTouchEvent()</code>ViewGroupViewViewViewGroup<code>onTouchEvent()</code><br>debugdemo<br>View<code>onTouchEvent()</code>buttonthisButtonViewGroup<code>onTouchEvent()</code><code>onTouchEvent()</code>View<br>       </p>\n<p><strong>Activity<code>dispatchTouchEvent()</code>ViewGroupDecorViewLayout<code>dispatchTouchEvent()</code><code>onInterceptTouchEvent()</code>ViewGroup<code>onTouchEvent()</code><code>onInterceptTouchEvent()</code>ViewViewonTouchEvent()</strong>    </p>\n<p>ViewGroup<code>onTouchEvent()</code><code>onTouchEvenet()</code>falseViewGroup<code>onTouchEvent()</code>false<code>onTouchEvnet()</code><code>onTouchEvent()</code>falseActivity<code>onTouchEvent()</code>Activity<code>onTouchEvent()</code></p>\n<h3 id=\"3View\"><a href=\"#3View\" class=\"headerlink\" title=\"3View\"></a>3View</h3><h4 id=\"1-dispatchTouchEvent-2\"><a href=\"#1-dispatchTouchEvent-2\" class=\"headerlink\" title=\"(1)dispatchTouchEvent()\"></a>(1)<code>dispatchTouchEvent()</code></h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">dispatchTouchEvent</span>(<span class=\"params\">MotionEvent <span class=\"keyword\">event</span></span>) </span>&#123;</span><br><span class=\"line\">       boolean result = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mInputEventConsistencyVerifier != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            mInputEventConsistencyVerifier.onTouchEvent(<span class=\"keyword\">event</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        final <span class=\"keyword\">int</span> actionMasked = <span class=\"keyword\">event</span>.getActionMasked();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (actionMasked == MotionEvent.ACTION_DOWN) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Defensive cleanup for new gesture</span></span><br><span class=\"line\">            stopNestedScroll();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (onFilterTouchEventForSecurity(<span class=\"keyword\">event</span>)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//noinspection SimplifiableIfStatement</span></span><br><span class=\"line\">            ListenerInfo li = mListenerInfo;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (li != <span class=\"literal\">null</span> &amp;&amp; li.mOnTouchListener != <span class=\"literal\">null</span></span><br><span class=\"line\">                    &amp;&amp; (mViewFlags &amp; ENABLED_MASK) == ENABLED</span><br><span class=\"line\">                    &amp;&amp; li.mOnTouchListener.onTouch(<span class=\"keyword\">this</span>, <span class=\"keyword\">event</span>)) &#123;</span><br><span class=\"line\">                result = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!result &amp;&amp; onTouchEvent(<span class=\"keyword\">event</span>)) &#123;</span><br><span class=\"line\">                result = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!result &amp;&amp; mInputEventConsistencyVerifier != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            mInputEventConsistencyVerifier.onUnhandledEvent(<span class=\"keyword\">event</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Clean up after nested scrolls if this is the end of a gesture;</span></span><br><span class=\"line\">        <span class=\"comment\">// also cancel it if we tried an ACTION_DOWN but we didn't want the rest</span></span><br><span class=\"line\">        <span class=\"comment\">// of the gesture.</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (actionMasked == MotionEvent.ACTION_UP ||</span><br><span class=\"line\">                actionMasked == MotionEvent.ACTION_CANCEL ||</span><br><span class=\"line\">                (actionMasked == MotionEvent.ACTION_DOWN &amp;&amp; !result)) &#123;</span><br><span class=\"line\">            stopNestedScroll();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ViewView<code>dispatchTouchEvent()</code><code>onTouchEvent()</code>View<code>onTouchEvenet()</code>true</p>\n<h4 id=\"2-onTouchEvent-1\"><a href=\"#2-onTouchEvent-1\" class=\"headerlink\" title=\"(2)onTouchEvent()\"></a>(2)<code>onTouchEvent()</code></h4><p><code>onTouchEvent</code>ActivityViewGroupViewView<code>onTouchEvent()</code>trueViewGroupView<code>onTouchEvent()</code>ViewGroupfalse<br><code>onTouchEvent()</code><br>View(ViewGroup)<code>onTouchEvent()</code>View<code>onToucEvent()</code></p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\".\"></a>.</h2><p>               </p>\n<p>1Activity<code>dispatchTouchEvent()</code>Activitytruefalse    </p>\n<p>2Activity<code>onUserInteraction()</code>    </p>\n<p>3Activity<code>dispatchTouchEvent()</code>View<code>onTouchEvent()</code>     </p>\n<p>4ViewGroup<code>onTouchEvent()</code><code>onTouchEvent()</code>falseActivity<code>onTouchEvent()</code>      </p>\n<p>5ViewGroup<code>onInterceptTouchEvent()</code>down       </p>\n<p>6<code>onTouchEvent()</code>View<code>onTouchEvent()</code>       </p>\n<hr>\n<p>Android</p>\n<blockquote>\n<p><a href=\"mailto:mengyuanzz@126.com\" target=\"_blank\" rel=\"noopener\">mengyuanzz@126.com</a></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\".\"></a>.</h2><p>Android    </p>\n<p>AndroidAndroidAndroid    </p>\n<p>    </p>\n<p>:     </p>\n<p><code>down--&gt;move move move.....--&gt;up</code>      </p>\n<p>downup        </p>\n<p>        </p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\". \"></a>. </h2><p>         </p>\n<font color=\"red\"></font>     \n\n\n<table>\n<thead>\n<tr>\n<th></th>\n<th style=\"text-align:center\">Activity</th>\n<th style=\"text-align:center\">ViewGroup</th>\n<th style=\"text-align:center\">View</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>dispatchTouEvent</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">true</td>\n</tr>\n<tr>\n<td>onInterceptTouchEvent</td>\n<td style=\"text-align:center\">false</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td>onTouchEvent</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">true</td>\n<td style=\"text-align:center\">true</td>\n</tr>\n</tbody>\n</table>\n<p>truefalse     </p>\n<p>Android      </p>\n<ul>\n<li><p><code>dispatchTouEvent()</code>      </p>\n<p>  ActivityViewGroupView</p>\n</li>\n<li><p><code>onInterceptTouchEvent()</code>       </p>\n<p>  ViewGroup</p>\n</li>\n<li><p><code>onTouchEvent()</code>      </p>\n<p>  ,truefalse</p>\n</li>\n</ul>\n<p>easy       </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/back_I_begin_zb.jpg\" alt=\"\"></p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\". \"></a>. </h2><p>             </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_0.png\" alt=\"\">              </p>\n<p>,FrameLayout1FrameLayout2FrameLayout2Button       </p>\n<p>Button      </p>\n<p>      </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_1.png\" alt=\"\">     </p>\n<p>Activity,F1,F2,ButtononTouchEvent<strong></strong>        </p>\n<p>         </p>\n<h3 id=\"1Activity\"><a href=\"#1Activity\" class=\"headerlink\" title=\"1Activity\"></a>1Activity</h3><h4 id=\"1-dispatchTouchEvent\"><a href=\"#1-dispatchTouchEvent\" class=\"headerlink\" title=\"(1) dispatchTouchEvent()\"></a>(1) <code>dispatchTouchEvent()</code></h4><p>debug      </p>\n<p>Android23        </p>\n<p>acitivityActivity<code>dispatchTouchEvent()</code>       </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_2.png\" alt=\"\">      </p>\n<p>debugActivity<code>dispatchTouchEvent()</code>      </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91_3.png\" alt=\"\">      </p>\n<p>       </p>\n<p><strong>Activity</strong>       </p>\n<p>Activitytruefalse        </p>\n<p><strong>Activity<code>dispatchTouchEvent()</code></strong>         </p>\n<p>down<code>onUserInteraction()</code>       </p>\n<p>Activitydown<code>onUserInteraction()</code>          </p>\n<p>Window<code>superDispatchTouchEvent()</code>,WindowPhoneWindowPhoneWindow  </p>\n<p><code>superDispatchTouchEvent()</code><br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">superDispatchTouchEvent</span><span class=\"params\">(MotionEvent event)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">return</span> mDecor.<span class=\"title\">superDispatchTouchEvent</span><span class=\"params\">(event)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Decor<code>superDispatchTouchEvent()</code>       </p>\n<p>!But!But,oh no!Whats Decor?          </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E6%83%A8%E4%B8%8D%E5%BF%8D%E7%9D%B9.png\" alt=\"\">       </p>\n<p><a href=\"http://www.jianshu.com/p/687010ccad66\" target=\"_blank\" rel=\"noopener\">Decor</a>       </p>\n<p>Activity<code>setContentView()</code>         </p>\n<p>DecorDecorPhoneWindowFrameLayout         </p>\n<p>FrameLayout<code>setContentView()</code><code>Decor.addView()</code>      </p>\n<p>        </p>\n<p>       </p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/1734948-cd6dd09d50cb0bb5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"\">      </p>\n<p>titleBarmain.xmlDecor      </p>\n<p>Android<a href=\"http://www.jianshu.com/p/687010ccad66\" target=\"_blank\" rel=\"noopener\">Decor</a>        </p>\n<p><code>mDecor.superDispatchTouchEvent(event)</code>ViewGroup<code>dispatchTouchEvent()</code></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    DecorsuperDispatchTouchEvent</span></span><br><span class=\"line\"><span class=\"comment\">    DecorFrameLayout</span></span><br><span class=\"line\"><span class=\"comment\">    superFrameLayout</span></span><br><span class=\"line\"><span class=\"comment\">    FrameLayoutViewGroup</span></span><br><span class=\"line\"><span class=\"comment\">**/</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">superDispatchTouchEvent</span><span class=\"params\">(MotionEvent event)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">return</span> <span class=\"keyword\">super</span>.<span class=\"title\">dispatchTouchEvent</span><span class=\"params\">(event)</span></span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ActivityViewGroupViewGroup</p>\n<h4 id=\"2-onTouchEvent\"><a href=\"#2-onTouchEvent\" class=\"headerlink\" title=\"(2) onTouchEvent()\"></a>(2) <code>onTouchEvent()</code></h4><p>Activity<code>dispatchTouchEvent()</code><br><code>return onTouchEvent(ev)</code><br><br><code>getWindow.superDispatchTouchEvent()</code>falseActivity<code>onTouchEvent()</code>Activity<code>onTouchEvent()</code>ViewGroup<br>ActivityViewViewGroup<code>onTouchEvent()</code>Activity<code>onTouchEvent()</code></p>\n<h3 id=\"2ViewGroup\"><a href=\"#2ViewGroup\" class=\"headerlink\" title=\"2ViewGroup\"></a>2ViewGroup</h3><p>ViewGroup<code>dispatchTouchEvent()</code><br>ViewGroup<code>dispatchTouchEvent()</code>FrameLayou_ONE<br>:484Activity<code>mDecor.superDispatchTouchEvent(event)</code>ActivityDecor<code>dispatchTouchEvent()</code>ViewGroupDecor!        </p>\n<p>..    </p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg\" alt=\"\"><br>layoutaddlayout<br>ViewGroup<code>dispatchTouchEvent()</code>thisthis<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">com<span class=\"selector-class\">.android</span><span class=\"selector-class\">.internal</span><span class=\"selector-class\">.policy</span><span class=\"selector-class\">.PhoneWindow</span><span class=\"variable\">$DecorView</span>&#123;b9a23df V<span class=\"selector-class\">.E</span>...... R....... <span class=\"number\">0</span>,<span class=\"number\">0</span>-<span class=\"number\">1080</span>,<span class=\"number\">1920</span>&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ViewGroup!</p>\n<h4 id=\"1-dispatchTouchEvent-1\"><a href=\"#1-dispatchTouchEvent-1\" class=\"headerlink\" title=\"(1)dispatchTouchEvent()\"></a>(1)<code>dispatchTouchEvent()</code></h4><p>ViewGroup<code>dispatchTouchEvent()</code>210ViewGroup<br>false<code>dispatchTouchEvent()</code><br><figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"comment\">(onFilterTouchEventForSecurity(ev)</span>)&#123;&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>onFilterTouchEventForSecurity(ev)</code><br>true<br><figure class=\"highlight zephir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Filter the touch event to apply security policies.</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> event The motion event to be filtered.</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> True if the event should be dispatched, false if the event should be dropped.</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@see</span> #getFilterTouchesWhenObscured</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> onFilterTouchEventForSecurity(MotionEvent event) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//noinspection RedundantIfStatement</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> ((mViewFlags &amp; FILTER_TOUCHES_WHEN_OBSCURED) != <span class=\"number\">0</span>&amp;&amp; (event.getFlags() &amp; MotionEvent.FLAG_WINDOW_IS_OBSCURED) != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// Window is obscured, drop this touch.</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>downdown<br><figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// Handle an initial down.</span><br><span class=\"line\">if (actionMasked == MotionEvent.ACTION_DOWN) &#123;</span><br><span class=\"line\">    // Throw away <span class=\"literal\">all</span> previous <span class=\"keyword\">state</span> when starting a new touch gesture.</span><br><span class=\"line\">    // The framework may have dropped the up or cancel event <span class=\"keyword\">for</span> the previous gesture</span><br><span class=\"line\">    // due <span class=\"keyword\">to</span> an app switch, ANR, or some other <span class=\"keyword\">state</span> change.</span><br><span class=\"line\">    cancelAndClearTouchTargets(ev);</span><br><span class=\"line\">    resetTouchState();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Check for interception.</span></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"keyword\">boolean</span> intercepted;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (actionMasked == MotionEvent.ACTION_DOWN|| mFirstTouchTarget != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"keyword\">boolean</span> disallowIntercept = (mGroupFlags &amp;FLAG_DISALLOW_INTERCEPT) != <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!disallowIntercept) &#123;</span><br><span class=\"line\">          intercepted = onInterceptTouchEvent(ev);</span><br><span class=\"line\">          ev.setAction(action); <span class=\"comment\">// restore action in case it was changed</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    intercepted = <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// There are no touch targets and this action is not an initial down</span></span><br><span class=\"line\">    <span class=\"comment\">// so this view group continues to intercept touches.</span></span><br><span class=\"line\">    intercepted = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// <span class=\"keyword\">Check</span> <span class=\"keyword\">for</span> cancelation.</span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"built_in\">boolean</span> canceled = resetCancelNextUpFlag(this)|| actionMasked == MotionEvent.ACTION_CANCEL;</span><br></pre></td></tr></table></figure></p>\n<p>ViewGroupView<br><a href=\"http://wangkuiwu.github.io/2015/01/04/TouchEvent-ViewGroup/\" target=\"_blank\" rel=\"noopener\"></a><br><figure class=\"highlight erlang-repl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (!canceled &amp;&amp; !intercepted) &#123;&#125;</span><br></pre></td></tr></table></figure></p>\n<p>:<br><figure class=\"highlight irpf90\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// Update list of <span class=\"keyword\">touch</span> targets for <span class=\"keyword\">pointer</span> up or cancel, <span class=\"keyword\">if</span> needed.</span><br><span class=\"line\"><span class=\"keyword\">if</span> (canceled|| actionMasked == MotionEvent.ACTION_UP|| actionMasked == MotionEvent.ACTION_HOVER_MOVE) &#123;</span><br><span class=\"line\">    resetTouchState();</span><br><span class=\"line\">&#125; </span><br><span class=\"line\"><span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (split &amp;&amp; actionMasked == MotionEvent.ACTION_POINTER_UP) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"built_in\">int</span> actionIndex = ev.getActionIndex();</span><br><span class=\"line\">    <span class=\"keyword\">final</span> <span class=\"built_in\">int</span> idBitsToRemove = <span class=\"number\">1</span> &lt;&lt; ev.getPointerId(actionIndex);</span><br><span class=\"line\">    removePointersFromTouchTargets(idBitsToRemove);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h4 id=\"2-onInterceptTouchEvent\"><a href=\"#2-onInterceptTouchEvent\" class=\"headerlink\" title=\"(2) onInterceptTouchEvent()\"></a>(2) <code>onInterceptTouchEvent()</code></h4><p>buttonbuttonbuttonbutton<br><br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">boolean</span> <span class=\"title\">onInterceptTouchEvent</span><span class=\"params\">(MotionEvent ev)</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>trueViewGroup<code>onTouchEvent()</code><br>ViewGroupActivityView<br>Activity<code>dispatchTouchEvent()</code>ActivityActivityActivity<code>dispatchTouchEvent()</code>Activity<br>ViewViewView</p>\n<h4 id=\"3-onTouchEvent\"><a href=\"#3-onTouchEvent\" class=\"headerlink\" title=\"(3) onTouchEvent()\"></a>(3) <code>onTouchEvent()</code></h4><p>ViewGroup<code>onTouchEvent()</code>ViewGroupViewViewViewGroup<code>onTouchEvent()</code><br>debugdemo<br>View<code>onTouchEvent()</code>buttonthisButtonViewGroup<code>onTouchEvent()</code><code>onTouchEvent()</code>View<br>       </p>\n<p><strong>Activity<code>dispatchTouchEvent()</code>ViewGroupDecorViewLayout<code>dispatchTouchEvent()</code><code>onInterceptTouchEvent()</code>ViewGroup<code>onTouchEvent()</code><code>onInterceptTouchEvent()</code>ViewViewonTouchEvent()</strong>    </p>\n<p>ViewGroup<code>onTouchEvent()</code><code>onTouchEvenet()</code>falseViewGroup<code>onTouchEvent()</code>false<code>onTouchEvnet()</code><code>onTouchEvent()</code>falseActivity<code>onTouchEvent()</code>Activity<code>onTouchEvent()</code></p>\n<h3 id=\"3View\"><a href=\"#3View\" class=\"headerlink\" title=\"3View\"></a>3View</h3><h4 id=\"1-dispatchTouchEvent-2\"><a href=\"#1-dispatchTouchEvent-2\" class=\"headerlink\" title=\"(1)dispatchTouchEvent()\"></a>(1)<code>dispatchTouchEvent()</code></h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> boolean <span class=\"title\">dispatchTouchEvent</span>(<span class=\"params\">MotionEvent <span class=\"keyword\">event</span></span>) </span>&#123;</span><br><span class=\"line\">       boolean result = <span class=\"literal\">false</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mInputEventConsistencyVerifier != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            mInputEventConsistencyVerifier.onTouchEvent(<span class=\"keyword\">event</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        final <span class=\"keyword\">int</span> actionMasked = <span class=\"keyword\">event</span>.getActionMasked();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (actionMasked == MotionEvent.ACTION_DOWN) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Defensive cleanup for new gesture</span></span><br><span class=\"line\">            stopNestedScroll();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (onFilterTouchEventForSecurity(<span class=\"keyword\">event</span>)) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//noinspection SimplifiableIfStatement</span></span><br><span class=\"line\">            ListenerInfo li = mListenerInfo;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (li != <span class=\"literal\">null</span> &amp;&amp; li.mOnTouchListener != <span class=\"literal\">null</span></span><br><span class=\"line\">                    &amp;&amp; (mViewFlags &amp; ENABLED_MASK) == ENABLED</span><br><span class=\"line\">                    &amp;&amp; li.mOnTouchListener.onTouch(<span class=\"keyword\">this</span>, <span class=\"keyword\">event</span>)) &#123;</span><br><span class=\"line\">                result = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!result &amp;&amp; onTouchEvent(<span class=\"keyword\">event</span>)) &#123;</span><br><span class=\"line\">                result = <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!result &amp;&amp; mInputEventConsistencyVerifier != <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            mInputEventConsistencyVerifier.onUnhandledEvent(<span class=\"keyword\">event</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Clean up after nested scrolls if this is the end of a gesture;</span></span><br><span class=\"line\">        <span class=\"comment\">// also cancel it if we tried an ACTION_DOWN but we didn't want the rest</span></span><br><span class=\"line\">        <span class=\"comment\">// of the gesture.</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (actionMasked == MotionEvent.ACTION_UP ||</span><br><span class=\"line\">                actionMasked == MotionEvent.ACTION_CANCEL ||</span><br><span class=\"line\">                (actionMasked == MotionEvent.ACTION_DOWN &amp;&amp; !result)) &#123;</span><br><span class=\"line\">            stopNestedScroll();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ViewView<code>dispatchTouchEvent()</code><code>onTouchEvent()</code>View<code>onTouchEvenet()</code>true</p>\n<h4 id=\"2-onTouchEvent-1\"><a href=\"#2-onTouchEvent-1\" class=\"headerlink\" title=\"(2)onTouchEvent()\"></a>(2)<code>onTouchEvent()</code></h4><p><code>onTouchEvent</code>ActivityViewGroupViewView<code>onTouchEvent()</code>trueViewGroupView<code>onTouchEvent()</code>ViewGroupfalse<br><code>onTouchEvent()</code><br>View(ViewGroup)<code>onTouchEvent()</code>View<code>onToucEvent()</code></p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\".\"></a>.</h2><p>               </p>\n<p>1Activity<code>dispatchTouchEvent()</code>Activitytruefalse    </p>\n<p>2Activity<code>onUserInteraction()</code>    </p>\n<p>3Activity<code>dispatchTouchEvent()</code>View<code>onTouchEvent()</code>     </p>\n<p>4ViewGroup<code>onTouchEvent()</code><code>onTouchEvent()</code>falseActivity<code>onTouchEvent()</code>      </p>\n<p>5ViewGroup<code>onInterceptTouchEvent()</code>down       </p>\n<p>6<code>onTouchEvent()</code>View<code>onTouchEvent()</code>       </p>\n<hr>\n<p>Android</p>\n<blockquote>\n<p><a href=\"mailto:mengyuanzz@126.com\" target=\"_blank\" rel=\"noopener\">mengyuanzz@126.com</a></p>\n</blockquote>\n"},{"title":"Dialog","date":"2017-07-11T08:46:12.000Z","_content":"****Dialog\n[](http://www.jianshu.com/p/07bed15cd13c)\n\n##  ##\nLoadingDialog\n\nAADialog\nA\nDialogADialogADialog\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/builder_dialog_0.png)\n\n\nDialog\n\nCDialog\nD++\n\n**new KLCustimDialog()**\n\nDialogDialog\n\n\n##  ##\n****\nADialog\nAndroid`AlertDialog`****\nDialog\n```\nDialog.Builder builder = new Dialog.Builder(context);\nbuilder.setTitle(\"\");\nbuilder.setMessage(\"\");\nbuilder.setLeftText(\"\");\nbuilder.setRightText(\"\");\nbuilder.setOnclickListener(listener);\nDialog dialog = builder.creater();\ndialog.show();\n```\n\nDialog\n\n\n\n\n\nBuilder\n```\nPicasso.with(context)\n    .load(url)\n    .fit()\n    .config(XXX)\n    .placeholder(xxx)\n    .error(xxx)\n    .into(imageView);\n```\n**Picasso**url\n\n\nDialog\n\n##  ##\nGitHub[GitHub](https://github.com/YuanTiger/Design-Pattern/blob/master/app/src/main/java/com/my/designdemo/builder/dialog/DialogProduct.java)\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/dialog_builder_gif.gif)\n****\n- Product\n- Builder\n- ConcreteBuilder\n- Director\n\nDialog\n- ProductDialog\n- BuilderDialog\n- ConcreteBuilderDialog\n- DirectorDialogDialog\n\nDialogDialog\n```\nprivate static class DialogParams {\n    private Context context;\n    //\n    private String title;\n    //\n    private int titleSizeSp;\n    //\n    private int imageResource;\n    //\n    private int imageWidth;\n    //\n    private int imageHeight;\n    //\n    private String message1;\n    //\n    private int message1Gravity = Gravity.CENTER;\n    //\n    private boolean isCanCancel = true;\n    //\n    private String leftButtonText;\n    //\n    private int leftBtColor;\n    //\n    private ConcreteBuilder.ButtonClickLister leftListener;\n    //\n    private String rightButtontText;\n    //\n    private int rightBtColor;\n    //\n    private ConcreteBuilder.ButtonClickLister rightListener;\n}\n```\nDialogDialogprivatesetget\nBuilderBuilder**ConcreteBuilder**\n```\n public static class ConcreteBuilder {\n     //Product\n     private DialogParams p;\n     \n     ConcreteBuilder(Context context) {\n         p = new DialogParams();\n         p.context = context;\n     }\n     public ConcreteBuilder title(String text) {\n         p.title = text;\n         return builder;\n     }\n     public ConcreteBuilder titleSize(int spSize) {\n         p.titleSizeSp = spSize;\n         return builder;\n     }\n     public ConcreteBuilder imageResource(int imageResource) {\n         p.imageResource = imageResource;\n         return builder;\n     }\n     public ConcreteBuilder imageWidth(int imageWidth) {\n         p.imageWidth = imageWidth;\n         return builder;\n     }\n     public ConcreteBuilder imageHeight(int imageHeight) {\n         p.imageHeight = imageHeight;\n         return builder;\n     }\n     public ConcreteBuilder message(String text) {\n         p.message1 = text;\n         return builder;\n     }\n     public ConcreteBuilder messageGravity(int gravity) {\n         p.message1Gravity = gravity;\n         return builder;\n     }\n     public ConcreteBuilder canCancel(boolean isCanCancel) {\n         p.isCanCancel = isCanCancel;\n         return builder;\n     }\n     public ConcreteBuilder leftBt(String text, ButtonClickLister lister) {\n         p.leftButtonText = text;\n         p.leftListener = lister;\n         return builder;\n     }\n     public ConcreteBuilder leftBtColor(int color) {\n         p.leftBtColor = color;\n         return builder;\n     }\n     public ConcreteBuilder rightBtColor(int color) {\n         p.rightBtColor = color;\n         return builder;\n     }\n     public ConcreteBuilder rightBt(String text, ButtonClickLister lister) {\n         p.rightButtontText = text;\n         p.rightListener = lister;\n         return builder;\n     }\n     void clear() {\n         p = null;\n     }\n     public DialogProduct create() {\n         return new DialogProduct(p);\n     }\n     //\n     public interface ButtonClickLister {\n         void onClick(DialogProduct dialog);\n     }\n }\n```\n**ConcreteBuilder**,Dialog\n**Picasso**new**with()****with()**\n**Picasso****ConcreteBuilder**Dialog\nDialog\n```\npublic class DialogProduct extends Dialog {\n\n    private TextView tvTitle;\n    private ImageView ivIcon;\n    private TextView tvMessage;\n    private TextView tvButtonLeft;\n    private TextView tvButtonRight;\n    private ImageView viewLine;\n\n    //Builder\n    private static ConcreteBuilder builder;\n\n    //Picasso\n    public static ConcreteBuilder with(Context context) {\n        if (builder == null) {\n            builder = new ConcreteBuilder(context);\n        }\n        return builder;\n    }\n\n\n    private DialogProduct(DialogParams p) {\n        //Dialog\n        super(p.context, R.style.NoTitleDialog);\n\n        View contentView = LayoutInflater.from(p.context).inflate(R.layout.dialog_build, null);\n        setContentView(contentView);\n\n        tvTitle = contentView.findViewById(R.id.tv_title);\n        ivIcon = contentView.findViewById(R.id.iv_icon);\n        tvMessage = contentView.findViewById(R.id.tv_message);\n        tvButtonLeft = contentView.findViewById(R.id.tv_button_left);\n        tvButtonRight = contentView.findViewById(R.id.tv_button_right);\n        viewLine = contentView.findViewById(R.id.view_line);\n\n        //\n        tvTitle.setVisibility(View.GONE);\n        viewLine.setVisibility(View.GONE);\n        ivIcon.setVisibility(View.GONE);\n        tvMessage.setVisibility(View.GONE);\n        tvButtonLeft.setVisibility(View.GONE);\n        tvButtonRight.setVisibility(View.GONE);\n        //Dialog\n        setTitlText(p.title);\n        setTitlTextSize(p.titleSizeSp);\n        setImageResource(p.imageResource);\n        setImageWidth(p.imageWidth);\n        setImageHeight(p.imageHeight);\n        setTvMessage(p.message1);\n        setTvMessageGravity(p.message1Gravity);\n        setCancelableFlag(p.isCanCancel);\n        setLeftText(p.leftButtonText, p.leftListener);\n        setLeftBtColor(p.leftBtColor);\n        setRightText(p.rightButtontText, p.rightListener);\n        setRightBtColor(p.rightBtColor);\n\n\n    }\n     /**\n     * \n     *\n     * @param title \n     */\n    private void setTitlText(String title) {\n        if (TextUtils.isEmpty(title)) {\n            return;\n        }\n        tvTitle.setVisibility(View.VISIBLE);\n        tvTitle.setText(title);\n    }\n    //......\n}\n```\n****Dialog\n```\nDialogProduct.with(this)\n        .title(\"\")\n        .message(\"\")\n        .canCancel(false)\n        .leftBtColor(getResources().getColor(R.color.color_0090ff))\n        .rightBtColor(getResources().getColor(R.color.color_f96c59))\n        .leftBt(\"\", new NormalDialog.ConcreteBuilder.ButtonClickLister() {\n            @Override\n            public void onClick(NormalDialog dialog) {\n                dialog.cancel();\n            }\n        })\n        .rightBt(\"\", new NormalDialog.ConcreteBuilder.ButtonClickLister() {\n            @Override\n            public void onClick(NormalDialog dialog) {\n                Toast.makeText(BuilderActivity.this, \"\", Toast.LENGTH_SHORT).show();\n                dialog.cancel();\n            }\n        })\n        .create()\n        .show();\n```\n\n##  ##\n[DialogProductGitHub](https://github.com/YuanTiger/Design-Pattern/blob/master/app/src/main/java/com/my/designdemo/builder/dialog/DialogProduct.java)\nDialogADialog\n\n\n **leftBt**\n\nDialog","source":"_posts/Builder-Dialog.md","raw":"---\ntitle: Dialog\ndate: 2017-07-11 16:46:12\ntags:\n   - \n   - Android\n   - \n---\n****Dialog\n[](http://www.jianshu.com/p/07bed15cd13c)\n\n##  ##\nLoadingDialog\n\nAADialog\nA\nDialogADialogADialog\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/builder_dialog_0.png)\n\n\nDialog\n\nCDialog\nD++\n\n**new KLCustimDialog()**\n\nDialogDialog\n\n\n##  ##\n****\nADialog\nAndroid`AlertDialog`****\nDialog\n```\nDialog.Builder builder = new Dialog.Builder(context);\nbuilder.setTitle(\"\");\nbuilder.setMessage(\"\");\nbuilder.setLeftText(\"\");\nbuilder.setRightText(\"\");\nbuilder.setOnclickListener(listener);\nDialog dialog = builder.creater();\ndialog.show();\n```\n\nDialog\n\n\n\n\n\nBuilder\n```\nPicasso.with(context)\n    .load(url)\n    .fit()\n    .config(XXX)\n    .placeholder(xxx)\n    .error(xxx)\n    .into(imageView);\n```\n**Picasso**url\n\n\nDialog\n\n##  ##\nGitHub[GitHub](https://github.com/YuanTiger/Design-Pattern/blob/master/app/src/main/java/com/my/designdemo/builder/dialog/DialogProduct.java)\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/dialog_builder_gif.gif)\n****\n- Product\n- Builder\n- ConcreteBuilder\n- Director\n\nDialog\n- ProductDialog\n- BuilderDialog\n- ConcreteBuilderDialog\n- DirectorDialogDialog\n\nDialogDialog\n```\nprivate static class DialogParams {\n    private Context context;\n    //\n    private String title;\n    //\n    private int titleSizeSp;\n    //\n    private int imageResource;\n    //\n    private int imageWidth;\n    //\n    private int imageHeight;\n    //\n    private String message1;\n    //\n    private int message1Gravity = Gravity.CENTER;\n    //\n    private boolean isCanCancel = true;\n    //\n    private String leftButtonText;\n    //\n    private int leftBtColor;\n    //\n    private ConcreteBuilder.ButtonClickLister leftListener;\n    //\n    private String rightButtontText;\n    //\n    private int rightBtColor;\n    //\n    private ConcreteBuilder.ButtonClickLister rightListener;\n}\n```\nDialogDialogprivatesetget\nBuilderBuilder**ConcreteBuilder**\n```\n public static class ConcreteBuilder {\n     //Product\n     private DialogParams p;\n     \n     ConcreteBuilder(Context context) {\n         p = new DialogParams();\n         p.context = context;\n     }\n     public ConcreteBuilder title(String text) {\n         p.title = text;\n         return builder;\n     }\n     public ConcreteBuilder titleSize(int spSize) {\n         p.titleSizeSp = spSize;\n         return builder;\n     }\n     public ConcreteBuilder imageResource(int imageResource) {\n         p.imageResource = imageResource;\n         return builder;\n     }\n     public ConcreteBuilder imageWidth(int imageWidth) {\n         p.imageWidth = imageWidth;\n         return builder;\n     }\n     public ConcreteBuilder imageHeight(int imageHeight) {\n         p.imageHeight = imageHeight;\n         return builder;\n     }\n     public ConcreteBuilder message(String text) {\n         p.message1 = text;\n         return builder;\n     }\n     public ConcreteBuilder messageGravity(int gravity) {\n         p.message1Gravity = gravity;\n         return builder;\n     }\n     public ConcreteBuilder canCancel(boolean isCanCancel) {\n         p.isCanCancel = isCanCancel;\n         return builder;\n     }\n     public ConcreteBuilder leftBt(String text, ButtonClickLister lister) {\n         p.leftButtonText = text;\n         p.leftListener = lister;\n         return builder;\n     }\n     public ConcreteBuilder leftBtColor(int color) {\n         p.leftBtColor = color;\n         return builder;\n     }\n     public ConcreteBuilder rightBtColor(int color) {\n         p.rightBtColor = color;\n         return builder;\n     }\n     public ConcreteBuilder rightBt(String text, ButtonClickLister lister) {\n         p.rightButtontText = text;\n         p.rightListener = lister;\n         return builder;\n     }\n     void clear() {\n         p = null;\n     }\n     public DialogProduct create() {\n         return new DialogProduct(p);\n     }\n     //\n     public interface ButtonClickLister {\n         void onClick(DialogProduct dialog);\n     }\n }\n```\n**ConcreteBuilder**,Dialog\n**Picasso**new**with()****with()**\n**Picasso****ConcreteBuilder**Dialog\nDialog\n```\npublic class DialogProduct extends Dialog {\n\n    private TextView tvTitle;\n    private ImageView ivIcon;\n    private TextView tvMessage;\n    private TextView tvButtonLeft;\n    private TextView tvButtonRight;\n    private ImageView viewLine;\n\n    //Builder\n    private static ConcreteBuilder builder;\n\n    //Picasso\n    public static ConcreteBuilder with(Context context) {\n        if (builder == null) {\n            builder = new ConcreteBuilder(context);\n        }\n        return builder;\n    }\n\n\n    private DialogProduct(DialogParams p) {\n        //Dialog\n        super(p.context, R.style.NoTitleDialog);\n\n        View contentView = LayoutInflater.from(p.context).inflate(R.layout.dialog_build, null);\n        setContentView(contentView);\n\n        tvTitle = contentView.findViewById(R.id.tv_title);\n        ivIcon = contentView.findViewById(R.id.iv_icon);\n        tvMessage = contentView.findViewById(R.id.tv_message);\n        tvButtonLeft = contentView.findViewById(R.id.tv_button_left);\n        tvButtonRight = contentView.findViewById(R.id.tv_button_right);\n        viewLine = contentView.findViewById(R.id.view_line);\n\n        //\n        tvTitle.setVisibility(View.GONE);\n        viewLine.setVisibility(View.GONE);\n        ivIcon.setVisibility(View.GONE);\n        tvMessage.setVisibility(View.GONE);\n        tvButtonLeft.setVisibility(View.GONE);\n        tvButtonRight.setVisibility(View.GONE);\n        //Dialog\n        setTitlText(p.title);\n        setTitlTextSize(p.titleSizeSp);\n        setImageResource(p.imageResource);\n        setImageWidth(p.imageWidth);\n        setImageHeight(p.imageHeight);\n        setTvMessage(p.message1);\n        setTvMessageGravity(p.message1Gravity);\n        setCancelableFlag(p.isCanCancel);\n        setLeftText(p.leftButtonText, p.leftListener);\n        setLeftBtColor(p.leftBtColor);\n        setRightText(p.rightButtontText, p.rightListener);\n        setRightBtColor(p.rightBtColor);\n\n\n    }\n     /**\n     * \n     *\n     * @param title \n     */\n    private void setTitlText(String title) {\n        if (TextUtils.isEmpty(title)) {\n            return;\n        }\n        tvTitle.setVisibility(View.VISIBLE);\n        tvTitle.setText(title);\n    }\n    //......\n}\n```\n****Dialog\n```\nDialogProduct.with(this)\n        .title(\"\")\n        .message(\"\")\n        .canCancel(false)\n        .leftBtColor(getResources().getColor(R.color.color_0090ff))\n        .rightBtColor(getResources().getColor(R.color.color_f96c59))\n        .leftBt(\"\", new NormalDialog.ConcreteBuilder.ButtonClickLister() {\n            @Override\n            public void onClick(NormalDialog dialog) {\n                dialog.cancel();\n            }\n        })\n        .rightBt(\"\", new NormalDialog.ConcreteBuilder.ButtonClickLister() {\n            @Override\n            public void onClick(NormalDialog dialog) {\n                Toast.makeText(BuilderActivity.this, \"\", Toast.LENGTH_SHORT).show();\n                dialog.cancel();\n            }\n        })\n        .create()\n        .show();\n```\n\n##  ##\n[DialogProductGitHub](https://github.com/YuanTiger/Design-Pattern/blob/master/app/src/main/java/com/my/designdemo/builder/dialog/DialogProduct.java)\nDialogADialog\n\n\n **leftBt**\n\nDialog","slug":"Builder-Dialog","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdvw000ahnnftw4roclh","content":"<p><strong></strong>Dialog<br><a href=\"http://www.jianshu.com/p/07bed15cd13c\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>LoadingDialog<br><br>AADialog<br>A<br>DialogADialogADialog</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/builder_dialog_0.png\" alt=\"\"><br><br><br>Dialog<br><br>CDialog<br>D++<br><br><strong>new KLCustimDialog()</strong><br><br>DialogDialog<br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br>ADialog<br>Android<code>AlertDialog</code><strong></strong><br>Dialog<br><figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Dialog.Builder builder = new Dialog.Builder(context)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setTitle(<span class=\"string\">\"\"</span>)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setMessage(<span class=\"string\">\"\"</span>)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setLeftText(<span class=\"string\">\"\"</span>)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setRightText(<span class=\"string\">\"\"</span>)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setOnclickListener(listener)<span class=\"comment\">;</span></span><br><span class=\"line\">Dialog dialog = builder.creater()<span class=\"comment\">;</span></span><br><span class=\"line\">dialog.show()<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure></p>\n<p><br>Dialog<br><br><br></p>\n<p>Builder<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">Picasso</span><span class=\"selector-class\">.with</span>(<span class=\"selector-tag\">context</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.load</span>(<span class=\"selector-tag\">url</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.fit</span>()</span><br><span class=\"line\">    <span class=\"selector-class\">.config</span>(<span class=\"selector-tag\">XXX</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.placeholder</span>(<span class=\"selector-tag\">xxx</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.error</span>(<span class=\"selector-tag\">xxx</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.into</span>(<span class=\"selector-tag\">imageView</span>);</span><br></pre></td></tr></table></figure></p>\n<p><strong>Picasso</strong>url<br><br><br>Dialog<br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>GitHub<a href=\"https://github.com/YuanTiger/Design-Pattern/blob/master/app/src/main/java/com/my/designdemo/builder/dialog/DialogProduct.java\" target=\"_blank\" rel=\"noopener\">GitHub</a><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/dialog_builder_gif.gif\" alt=\"\"><br><strong></strong></p>\n<ul>\n<li>Product</li>\n<li>Builder</li>\n<li>ConcreteBuilder</li>\n<li>Director</li>\n</ul>\n<p>Dialog</p>\n<ul>\n<li>ProductDialog</li>\n<li>BuilderDialog</li>\n<li>ConcreteBuilderDialog</li>\n<li>DirectorDialogDialog</li>\n</ul>\n<p>DialogDialog<br><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> class DialogParams &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Context context;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> title;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> titleSizeSp;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> imageResource;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> imageWidth;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> imageHeight;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> message1;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> message1Gravity = Gravity.CENTER;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">boolean</span> isCanCancel = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> leftButtonText;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> leftBtColor;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ConcreteBuilder.ButtonClickLister leftListener;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> rightButtontText;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> rightBtColor;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ConcreteBuilder.ButtonClickLister rightListener;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>DialogDialogprivatesetget<br>BuilderBuilder<strong>ConcreteBuilder</strong><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteBuilder</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//Product</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> DialogParams p;</span><br><span class=\"line\">    </span><br><span class=\"line\">    ConcreteBuilder(Context context) &#123;</span><br><span class=\"line\">        p = <span class=\"keyword\">new</span> DialogParams();</span><br><span class=\"line\">        p.context = context;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">title</span><span class=\"params\">(String text)</span> </span>&#123;</span><br><span class=\"line\">        p.title = text;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">titleSize</span><span class=\"params\">(<span class=\"keyword\">int</span> spSize)</span> </span>&#123;</span><br><span class=\"line\">        p.titleSizeSp = spSize;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">imageResource</span><span class=\"params\">(<span class=\"keyword\">int</span> imageResource)</span> </span>&#123;</span><br><span class=\"line\">        p.imageResource = imageResource;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">imageWidth</span><span class=\"params\">(<span class=\"keyword\">int</span> imageWidth)</span> </span>&#123;</span><br><span class=\"line\">        p.imageWidth = imageWidth;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">imageHeight</span><span class=\"params\">(<span class=\"keyword\">int</span> imageHeight)</span> </span>&#123;</span><br><span class=\"line\">        p.imageHeight = imageHeight;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">message</span><span class=\"params\">(String text)</span> </span>&#123;</span><br><span class=\"line\">        p.message1 = text;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">messageGravity</span><span class=\"params\">(<span class=\"keyword\">int</span> gravity)</span> </span>&#123;</span><br><span class=\"line\">        p.message1Gravity = gravity;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">canCancel</span><span class=\"params\">(<span class=\"keyword\">boolean</span> isCanCancel)</span> </span>&#123;</span><br><span class=\"line\">        p.isCanCancel = isCanCancel;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">leftBt</span><span class=\"params\">(String text, ButtonClickLister lister)</span> </span>&#123;</span><br><span class=\"line\">        p.leftButtonText = text;</span><br><span class=\"line\">        p.leftListener = lister;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">leftBtColor</span><span class=\"params\">(<span class=\"keyword\">int</span> color)</span> </span>&#123;</span><br><span class=\"line\">        p.leftBtColor = color;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">rightBtColor</span><span class=\"params\">(<span class=\"keyword\">int</span> color)</span> </span>&#123;</span><br><span class=\"line\">        p.rightBtColor = color;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">rightBt</span><span class=\"params\">(String text, ButtonClickLister lister)</span> </span>&#123;</span><br><span class=\"line\">        p.rightButtontText = text;</span><br><span class=\"line\">        p.rightListener = lister;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">clear</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        p = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> DialogProduct <span class=\"title\">create</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> DialogProduct(p);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">ButtonClickLister</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(DialogProduct dialog)</span></span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>ConcreteBuilder</strong>,Dialog<br><strong>Picasso</strong>new<strong>with()</strong><strong>with()</strong><br><strong>Picasso</strong><strong>ConcreteBuilder</strong>Dialog<br>Dialog<br><figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DialogProduct</span> <span class=\"title\">extends</span> <span class=\"title\">Dialog</span> &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    private <span class=\"type\">TextView</span> tvTitle;</span><br><span class=\"line\">    private <span class=\"type\">ImageView</span> ivIcon;</span><br><span class=\"line\">    private <span class=\"type\">TextView</span> tvMessage;</span><br><span class=\"line\">    private <span class=\"type\">TextView</span> tvButtonLeft;</span><br><span class=\"line\">    private <span class=\"type\">TextView</span> tvButtonRight;</span><br><span class=\"line\">    private <span class=\"type\">ImageView</span> viewLine;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Builder</span></span><br><span class=\"line\">    private static <span class=\"type\">ConcreteBuilder</span> builder;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Picasso</span></span><br><span class=\"line\">    public static <span class=\"type\">ConcreteBuilder</span> <span class=\"keyword\">with</span>(<span class=\"type\">Context</span> context) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (builder == null) &#123;</span><br><span class=\"line\">            builder = <span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">ConcreteBuilder</span>(context);</span></span><br><span class=\"line\"><span class=\"function\">        &#125;</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">return</span> <span class=\"title\">builder</span>;</span></span><br><span class=\"line\"><span class=\"function\">    &#125;</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"title\">private</span> <span class=\"title\">DialogProduct</span>(<span class=\"type\">DialogParams</span> p) &#123;</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">//Dialog</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">super</span>(p.context, <span class=\"type\">R</span>.style.<span class=\"type\">NoTitleDialog</span>);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">View</span> <span class=\"title\">contentView</span> = <span class=\"title\">LayoutInflater</span>.<span class=\"title\">from</span>(p.context).<span class=\"title\">inflate</span>(<span class=\"type\">R</span>.layout.dialog_build, null);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setContentView</span>(contentView);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvTitle</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.tv_title);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">ivIcon</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.iv_icon);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvMessage</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.tv_message);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvButtonLeft</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.tv_button_left);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvButtonRight</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.tv_button_right);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">viewLine</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.view_line);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvTitle</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">viewLine</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">ivIcon</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvMessage</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvButtonLeft</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvButtonRight</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">//Dialog</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setTitlText</span>(p.title);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setTitlTextSize</span>(p.titleSizeSp);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setImageResource</span>(p.imageResource);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setImageWidth</span>(p.imageWidth);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setImageHeight</span>(p.imageHeight);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setTvMessage</span>(p.message1);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setTvMessageGravity</span>(p.message1Gravity);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setCancelableFlag</span>(p.isCanCancel);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setLeftText</span>(p.leftButtonText, p.leftListener);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setLeftBtColor</span>(p.leftBtColor);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setRightText</span>(p.rightButtontText, p.rightListener);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setRightBtColor</span>(p.rightBtColor);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    &#125;</span></span><br><span class=\"line\"><span class=\"function\">     /**</span></span><br><span class=\"line\"><span class=\"function\">     * </span></span><br><span class=\"line\"><span class=\"function\">     *</span></span><br><span class=\"line\"><span class=\"function\">     * @<span class=\"title\">param</span> <span class=\"title\">title</span> </span></span><br><span class=\"line\"><span class=\"function\">     */</span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"title\">private</span> <span class=\"title\">void</span> <span class=\"title\">setTitlText</span>(<span class=\"type\">String</span> title) &#123;</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">if</span> (<span class=\"type\">TextUtils</span>.isEmpty(title)) &#123;</span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"title\">return</span>;</span></span><br><span class=\"line\"><span class=\"function\">        &#125;</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvTitle</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">VISIBLE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvTitle</span>.<span class=\"title\">setText</span>(title);</span></span><br><span class=\"line\"><span class=\"function\">    &#125;</span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"comment\">//......</span></span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p><strong></strong>Dialog<br><figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">DialogProduct</span><span class=\"selector-class\">.with</span>(this)</span><br><span class=\"line\">        <span class=\"selector-class\">.title</span>(<span class=\"string\">\"\"</span>)</span><br><span class=\"line\">        <span class=\"selector-class\">.message</span>(<span class=\"string\">\"\"</span>)</span><br><span class=\"line\">        <span class=\"selector-class\">.canCancel</span>(false)</span><br><span class=\"line\">        <span class=\"selector-class\">.leftBtColor</span>(getResources().getColor(R.color.color_0090ff))</span><br><span class=\"line\">        <span class=\"selector-class\">.rightBtColor</span>(getResources().getColor(R.color.color_f96c59))</span><br><span class=\"line\">        <span class=\"selector-class\">.leftBt</span>(<span class=\"string\">\"\"</span>, new NormalDialog.ConcreteBuilder.ButtonClickLister() &#123;</span><br><span class=\"line\">            <span class=\"variable\">@Override</span></span><br><span class=\"line\">            public void onClick(NormalDialog dialog) &#123;</span><br><span class=\"line\">                <span class=\"selector-tag\">dialog</span><span class=\"selector-class\">.cancel</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"selector-class\">.rightBt</span>(<span class=\"string\">\"\"</span>, new NormalDialog.ConcreteBuilder.ButtonClickLister() &#123;</span><br><span class=\"line\">            <span class=\"variable\">@Override</span></span><br><span class=\"line\">            public void onClick(NormalDialog dialog) &#123;</span><br><span class=\"line\">                <span class=\"selector-tag\">Toast</span><span class=\"selector-class\">.makeText</span>(BuilderActivity.this, <span class=\"string\">\"\"</span>, Toast.LENGTH_SHORT)<span class=\"selector-class\">.show</span>();</span><br><span class=\"line\">                <span class=\"selector-tag\">dialog</span><span class=\"selector-class\">.cancel</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"selector-class\">.create</span>()</span><br><span class=\"line\">        <span class=\"selector-class\">.show</span>();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/Design-Pattern/blob/master/app/src/main/java/com/my/designdemo/builder/dialog/DialogProduct.java\" target=\"_blank\" rel=\"noopener\">DialogProductGitHub</a><br>DialogADialog<br><br><br> <strong>leftBt</strong><br><br>Dialog</p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong></strong>Dialog<br><a href=\"http://www.jianshu.com/p/07bed15cd13c\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>LoadingDialog<br><br>AADialog<br>A<br>DialogADialogADialog</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/builder_dialog_0.png\" alt=\"\"><br><br><br>Dialog<br><br>CDialog<br>D++<br><br><strong>new KLCustimDialog()</strong><br><br>DialogDialog<br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br>ADialog<br>Android<code>AlertDialog</code><strong></strong><br>Dialog<br><figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Dialog.Builder builder = new Dialog.Builder(context)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setTitle(<span class=\"string\">\"\"</span>)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setMessage(<span class=\"string\">\"\"</span>)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setLeftText(<span class=\"string\">\"\"</span>)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setRightText(<span class=\"string\">\"\"</span>)<span class=\"comment\">;</span></span><br><span class=\"line\">builder.setOnclickListener(listener)<span class=\"comment\">;</span></span><br><span class=\"line\">Dialog dialog = builder.creater()<span class=\"comment\">;</span></span><br><span class=\"line\">dialog.show()<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure></p>\n<p><br>Dialog<br><br><br></p>\n<p>Builder<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">Picasso</span><span class=\"selector-class\">.with</span>(<span class=\"selector-tag\">context</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.load</span>(<span class=\"selector-tag\">url</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.fit</span>()</span><br><span class=\"line\">    <span class=\"selector-class\">.config</span>(<span class=\"selector-tag\">XXX</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.placeholder</span>(<span class=\"selector-tag\">xxx</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.error</span>(<span class=\"selector-tag\">xxx</span>)</span><br><span class=\"line\">    <span class=\"selector-class\">.into</span>(<span class=\"selector-tag\">imageView</span>);</span><br></pre></td></tr></table></figure></p>\n<p><strong>Picasso</strong>url<br><br><br>Dialog<br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>GitHub<a href=\"https://github.com/YuanTiger/Design-Pattern/blob/master/app/src/main/java/com/my/designdemo/builder/dialog/DialogProduct.java\" target=\"_blank\" rel=\"noopener\">GitHub</a><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/dialog_builder_gif.gif\" alt=\"\"><br><strong></strong></p>\n<ul>\n<li>Product</li>\n<li>Builder</li>\n<li>ConcreteBuilder</li>\n<li>Director</li>\n</ul>\n<p>Dialog</p>\n<ul>\n<li>ProductDialog</li>\n<li>BuilderDialog</li>\n<li>ConcreteBuilderDialog</li>\n<li>DirectorDialogDialog</li>\n</ul>\n<p>DialogDialog<br><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> class DialogParams &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Context context;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> title;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> titleSizeSp;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> imageResource;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> imageWidth;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> imageHeight;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> message1;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> message1Gravity = Gravity.CENTER;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">boolean</span> isCanCancel = <span class=\"keyword\">true</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> leftButtonText;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> leftBtColor;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ConcreteBuilder.ButtonClickLister leftListener;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> rightButtontText;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">int</span> rightBtColor;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ConcreteBuilder.ButtonClickLister rightListener;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>DialogDialogprivatesetget<br>BuilderBuilder<strong>ConcreteBuilder</strong><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ConcreteBuilder</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//Product</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> DialogParams p;</span><br><span class=\"line\">    </span><br><span class=\"line\">    ConcreteBuilder(Context context) &#123;</span><br><span class=\"line\">        p = <span class=\"keyword\">new</span> DialogParams();</span><br><span class=\"line\">        p.context = context;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">title</span><span class=\"params\">(String text)</span> </span>&#123;</span><br><span class=\"line\">        p.title = text;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">titleSize</span><span class=\"params\">(<span class=\"keyword\">int</span> spSize)</span> </span>&#123;</span><br><span class=\"line\">        p.titleSizeSp = spSize;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">imageResource</span><span class=\"params\">(<span class=\"keyword\">int</span> imageResource)</span> </span>&#123;</span><br><span class=\"line\">        p.imageResource = imageResource;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">imageWidth</span><span class=\"params\">(<span class=\"keyword\">int</span> imageWidth)</span> </span>&#123;</span><br><span class=\"line\">        p.imageWidth = imageWidth;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">imageHeight</span><span class=\"params\">(<span class=\"keyword\">int</span> imageHeight)</span> </span>&#123;</span><br><span class=\"line\">        p.imageHeight = imageHeight;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">message</span><span class=\"params\">(String text)</span> </span>&#123;</span><br><span class=\"line\">        p.message1 = text;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">messageGravity</span><span class=\"params\">(<span class=\"keyword\">int</span> gravity)</span> </span>&#123;</span><br><span class=\"line\">        p.message1Gravity = gravity;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">canCancel</span><span class=\"params\">(<span class=\"keyword\">boolean</span> isCanCancel)</span> </span>&#123;</span><br><span class=\"line\">        p.isCanCancel = isCanCancel;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">leftBt</span><span class=\"params\">(String text, ButtonClickLister lister)</span> </span>&#123;</span><br><span class=\"line\">        p.leftButtonText = text;</span><br><span class=\"line\">        p.leftListener = lister;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">leftBtColor</span><span class=\"params\">(<span class=\"keyword\">int</span> color)</span> </span>&#123;</span><br><span class=\"line\">        p.leftBtColor = color;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">rightBtColor</span><span class=\"params\">(<span class=\"keyword\">int</span> color)</span> </span>&#123;</span><br><span class=\"line\">        p.rightBtColor = color;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ConcreteBuilder <span class=\"title\">rightBt</span><span class=\"params\">(String text, ButtonClickLister lister)</span> </span>&#123;</span><br><span class=\"line\">        p.rightButtontText = text;</span><br><span class=\"line\">        p.rightListener = lister;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">clear</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        p = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> DialogProduct <span class=\"title\">create</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> DialogProduct(p);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">ButtonClickLister</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">onClick</span><span class=\"params\">(DialogProduct dialog)</span></span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>ConcreteBuilder</strong>,Dialog<br><strong>Picasso</strong>new<strong>with()</strong><strong>with()</strong><br><strong>Picasso</strong><strong>ConcreteBuilder</strong>Dialog<br>Dialog<br><figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">DialogProduct</span> <span class=\"title\">extends</span> <span class=\"title\">Dialog</span> &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    private <span class=\"type\">TextView</span> tvTitle;</span><br><span class=\"line\">    private <span class=\"type\">ImageView</span> ivIcon;</span><br><span class=\"line\">    private <span class=\"type\">TextView</span> tvMessage;</span><br><span class=\"line\">    private <span class=\"type\">TextView</span> tvButtonLeft;</span><br><span class=\"line\">    private <span class=\"type\">TextView</span> tvButtonRight;</span><br><span class=\"line\">    private <span class=\"type\">ImageView</span> viewLine;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Builder</span></span><br><span class=\"line\">    private static <span class=\"type\">ConcreteBuilder</span> builder;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Picasso</span></span><br><span class=\"line\">    public static <span class=\"type\">ConcreteBuilder</span> <span class=\"keyword\">with</span>(<span class=\"type\">Context</span> context) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (builder == null) &#123;</span><br><span class=\"line\">            builder = <span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">ConcreteBuilder</span>(context);</span></span><br><span class=\"line\"><span class=\"function\">        &#125;</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">return</span> <span class=\"title\">builder</span>;</span></span><br><span class=\"line\"><span class=\"function\">    &#125;</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"title\">private</span> <span class=\"title\">DialogProduct</span>(<span class=\"type\">DialogParams</span> p) &#123;</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">//Dialog</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">super</span>(p.context, <span class=\"type\">R</span>.style.<span class=\"type\">NoTitleDialog</span>);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">View</span> <span class=\"title\">contentView</span> = <span class=\"title\">LayoutInflater</span>.<span class=\"title\">from</span>(p.context).<span class=\"title\">inflate</span>(<span class=\"type\">R</span>.layout.dialog_build, null);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setContentView</span>(contentView);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvTitle</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.tv_title);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">ivIcon</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.iv_icon);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvMessage</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.tv_message);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvButtonLeft</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.tv_button_left);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvButtonRight</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.tv_button_right);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">viewLine</span> = <span class=\"title\">contentView</span>.<span class=\"title\">findViewById</span>(<span class=\"type\">R</span>.id.view_line);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvTitle</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">viewLine</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">ivIcon</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvMessage</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvButtonLeft</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvButtonRight</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">GONE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"comment\">//Dialog</span></span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setTitlText</span>(p.title);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setTitlTextSize</span>(p.titleSizeSp);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setImageResource</span>(p.imageResource);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setImageWidth</span>(p.imageWidth);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setImageHeight</span>(p.imageHeight);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setTvMessage</span>(p.message1);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setTvMessageGravity</span>(p.message1Gravity);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setCancelableFlag</span>(p.isCanCancel);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setLeftText</span>(p.leftButtonText, p.leftListener);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setLeftBtColor</span>(p.leftBtColor);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setRightText</span>(p.rightButtontText, p.rightListener);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">setRightBtColor</span>(p.rightBtColor);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">    &#125;</span></span><br><span class=\"line\"><span class=\"function\">     /**</span></span><br><span class=\"line\"><span class=\"function\">     * </span></span><br><span class=\"line\"><span class=\"function\">     *</span></span><br><span class=\"line\"><span class=\"function\">     * @<span class=\"title\">param</span> <span class=\"title\">title</span> </span></span><br><span class=\"line\"><span class=\"function\">     */</span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"title\">private</span> <span class=\"title\">void</span> <span class=\"title\">setTitlText</span>(<span class=\"type\">String</span> title) &#123;</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">if</span> (<span class=\"type\">TextUtils</span>.isEmpty(title)) &#123;</span></span><br><span class=\"line\"><span class=\"function\">            <span class=\"title\">return</span>;</span></span><br><span class=\"line\"><span class=\"function\">        &#125;</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvTitle</span>.<span class=\"title\">setVisibility</span>(<span class=\"type\">View</span>.<span class=\"type\">VISIBLE</span>);</span></span><br><span class=\"line\"><span class=\"function\">        <span class=\"title\">tvTitle</span>.<span class=\"title\">setText</span>(title);</span></span><br><span class=\"line\"><span class=\"function\">    &#125;</span></span><br><span class=\"line\"><span class=\"function\">    <span class=\"comment\">//......</span></span></span><br><span class=\"line\"><span class=\"function\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p><strong></strong>Dialog<br><figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">DialogProduct</span><span class=\"selector-class\">.with</span>(this)</span><br><span class=\"line\">        <span class=\"selector-class\">.title</span>(<span class=\"string\">\"\"</span>)</span><br><span class=\"line\">        <span class=\"selector-class\">.message</span>(<span class=\"string\">\"\"</span>)</span><br><span class=\"line\">        <span class=\"selector-class\">.canCancel</span>(false)</span><br><span class=\"line\">        <span class=\"selector-class\">.leftBtColor</span>(getResources().getColor(R.color.color_0090ff))</span><br><span class=\"line\">        <span class=\"selector-class\">.rightBtColor</span>(getResources().getColor(R.color.color_f96c59))</span><br><span class=\"line\">        <span class=\"selector-class\">.leftBt</span>(<span class=\"string\">\"\"</span>, new NormalDialog.ConcreteBuilder.ButtonClickLister() &#123;</span><br><span class=\"line\">            <span class=\"variable\">@Override</span></span><br><span class=\"line\">            public void onClick(NormalDialog dialog) &#123;</span><br><span class=\"line\">                <span class=\"selector-tag\">dialog</span><span class=\"selector-class\">.cancel</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"selector-class\">.rightBt</span>(<span class=\"string\">\"\"</span>, new NormalDialog.ConcreteBuilder.ButtonClickLister() &#123;</span><br><span class=\"line\">            <span class=\"variable\">@Override</span></span><br><span class=\"line\">            public void onClick(NormalDialog dialog) &#123;</span><br><span class=\"line\">                <span class=\"selector-tag\">Toast</span><span class=\"selector-class\">.makeText</span>(BuilderActivity.this, <span class=\"string\">\"\"</span>, Toast.LENGTH_SHORT)<span class=\"selector-class\">.show</span>();</span><br><span class=\"line\">                <span class=\"selector-tag\">dialog</span><span class=\"selector-class\">.cancel</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"selector-class\">.create</span>()</span><br><span class=\"line\">        <span class=\"selector-class\">.show</span>();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/Design-Pattern/blob/master/app/src/main/java/com/my/designdemo/builder/dialog/DialogProduct.java\" target=\"_blank\" rel=\"noopener\">DialogProductGitHub</a><br>DialogADialog<br><br><br> <strong>leftBt</strong><br><br>Dialog</p>\n"},{"title":"-","date":"2017-08-02T05:52:48.000Z","_content":"##  ##\n[](http://www.jianshu.com/p/cf3b3335af4b)\n[](http://www.jianshu.com/p/cf3b3335af4b)****\n\n\n****iOSButtonAndroidButtonWindowPhoneButtonButtonButton\n****\n****\n\n- [](http://www.jianshu.com/p/cf3b3335af4b)****[](http://www.jianshu.com/p/cf3b3335af4b)[](http://www.jianshu.com/p/07bed15cd13c)\n- ********AndroidiOSButtoniOSButtoniOS\n\n****\n****\n\n\n\n##  ##\n****4\n- AbstractFactory****\n- ConcreteFactory\n- AbstractProduct\n- ConcreteProduct\n\n##  ##\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_abs_factory_0.png)\n\n1. Button\n2. Button\n3. \n\n****\n**AbstractProduct**\nSystem\n```\npublic interface SystemAbsProduct {\n\n    //\n    String getSystem();\n\n}\n```\nButton\n```\npublic interface ButtonAbsProduct {\n\n    //\n    String getButtonName(SystemAbsProduct system);\n\n}\n```\nButton\n\nAbstractFactoryButton\n```\npublic interface AbsFactory {\n\n    //\n    SystemAbsProduct createSystem();\n\n    //Button\n    ButtonAbsProduct createButton();\n}\n```\n\nWindowPhoneAndroidiOSButton\n\n\n\n```\npublic interface SystemAbsProduct {\n\n    //\n    String getSystem();\n\n    public class WindowPhone implements SystemAbsProduct{\n\n        @Override\n        public String getSystem() {\n            return App.context.getString(R.string.window_phone);\n        }\n    }\n    public class iOS implements SystemAbsProduct{\n\n        @Override\n        public String getSystem() {\n            return App.context.getString(R.string.ios);\n        }\n    }\n\n    public class Android implements SystemAbsProduct{\n\n        @Override\n        public String getSystem() {\n            return App.context.getString(R.string.android);\n        }\n    }\n}\n```\nButton\n```\npublic interface ButtonAbsProduct {\n\n    //\n    String getButtonName(SystemAbsProduct system);\n    \n    public class WindowPhoneButton implements ButtonAbsProduct {\n\n        @Override\n        public String getButtonName(SystemAbsProduct system) {\n            if (system.getSystem().equals(App.context.getString(R.string.window_phone))) {\n                return \"WindowPhoneButton\";\n            }\n            return App.context.getString(R.string.system_error);\n        }\n    }\n\n    public class IOSButton implements ButtonAbsProduct {\n\n        @Override\n        public String getButtonName(SystemAbsProduct system) {\n            if (system.getSystem().equals(App.context.getString(R.string.ios))) {\n                return \"iOSButton\";\n            }\n            return App.context.getString(R.string.system_error);\n        }\n    }\n\n    public class AndroidButton implements ButtonAbsProduct {\n\n        @Override\n        public String getButtonName(SystemAbsProduct system) {\n            if (system.getSystem().equals(App.context.getString(R.string.android))) {\n                return \"AndroidButton\";\n            }\n            return App.context.getString(R.string.system_error);\n        }\n    }\n}\n```\nConcreteProduct\nButton\nConcreteFactory\n\nWindowPhoneFactory\n```\npublic class WindowPhoneFactory implements AbsFactory {\n    @Override\n    public SystemAbsProduct createSystem() {\n        return new SystemAbsProduct.WindowPhone();\n    }\n\n    @Override\n    public ButtonAbsProduct createButton() {\n        return new ButtonAbsProduct.WindowPhoneButton();\n    }\n}\n```\nIOSFactory\n```\npublic class IOSFactory implements AbsFactory {\n    @Override\n    public SystemAbsProduct createSystem() {\n        return new SystemAbsProduct.IOS();\n    }\n\n    @Override\n    public ButtonAbsProduct createButton() {\n        return new ButtonAbsProduct.IOSButton();\n    }\n}\n```\nAndroidFactory\n```\npublic class AndroidFactory implements AbsFactory {\n    @Override\n    public SystemAbsProduct createSystem() {\n        return new SystemAbsProduct.Android();\n    }\n\n    @Override\n    public ButtonAbsProduct createButton() {\n        return new ButtonAbsProduct.AndroidButton();\n    }\n}\n```\n\n****\n\n```\n//WindowPhone\nAbsFactory iOSFactory = new IOSFactory();\n//\nSystemAbsProduct iOSSystem = iOSFactory.createSystem();\n//\nButtonAbsProduct iOSButton = iOSFactory.createButton();\n//\nToast.makeText(this, iOSButton.getButtonName(iOSSystem), Toast.LENGTH_SHORT).show();\n```\niOSiOSButtonButton\n\n```\nAbsFactory androidFactory1 = new AndroidFactory();\nSystemAbsProduct androidSystem1 = androidFactory1.createSystem();\nButtonAbsProduct androidButton1 = androidFactory1.createButton();\nAbsFactory iOSFactory1 = new IOSFactory();\nSystemAbsProduct iOSSystem1 = iOSFactory1.createSystem();\nButtonAbsProduct iOSButton1 = iOSFactory1.createButton();\n//AndroidButtoniOS\nToast.makeText(this, androidButton1.getButtonName(iOSSystem1), Toast.LENGTH_SHORT).show();\n```\n\n\n##  ##\n****\n\n****[](http://www.jianshu.com/p/cf3b3335af4b)\n****\n[](http://www.jianshu.com/p/cf3b3335af4b)\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n\n##  ##\n\n[-caoglish](https://www.zhihu.com/question/20367734/answer/82361745?from=singlemessage&isappinstalled=0)\n\nAndroid  \n","source":"_posts/Design-Abs-Factory.md","raw":"---\ntitle: -\ndate: 2017-08-02 13:52:48\ntags:\n   - \n---\n##  ##\n[](http://www.jianshu.com/p/cf3b3335af4b)\n[](http://www.jianshu.com/p/cf3b3335af4b)****\n\n\n****iOSButtonAndroidButtonWindowPhoneButtonButtonButton\n****\n****\n\n- [](http://www.jianshu.com/p/cf3b3335af4b)****[](http://www.jianshu.com/p/cf3b3335af4b)[](http://www.jianshu.com/p/07bed15cd13c)\n- ********AndroidiOSButtoniOSButtoniOS\n\n****\n****\n\n\n\n##  ##\n****4\n- AbstractFactory****\n- ConcreteFactory\n- AbstractProduct\n- ConcreteProduct\n\n##  ##\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_abs_factory_0.png)\n\n1. Button\n2. Button\n3. \n\n****\n**AbstractProduct**\nSystem\n```\npublic interface SystemAbsProduct {\n\n    //\n    String getSystem();\n\n}\n```\nButton\n```\npublic interface ButtonAbsProduct {\n\n    //\n    String getButtonName(SystemAbsProduct system);\n\n}\n```\nButton\n\nAbstractFactoryButton\n```\npublic interface AbsFactory {\n\n    //\n    SystemAbsProduct createSystem();\n\n    //Button\n    ButtonAbsProduct createButton();\n}\n```\n\nWindowPhoneAndroidiOSButton\n\n\n\n```\npublic interface SystemAbsProduct {\n\n    //\n    String getSystem();\n\n    public class WindowPhone implements SystemAbsProduct{\n\n        @Override\n        public String getSystem() {\n            return App.context.getString(R.string.window_phone);\n        }\n    }\n    public class iOS implements SystemAbsProduct{\n\n        @Override\n        public String getSystem() {\n            return App.context.getString(R.string.ios);\n        }\n    }\n\n    public class Android implements SystemAbsProduct{\n\n        @Override\n        public String getSystem() {\n            return App.context.getString(R.string.android);\n        }\n    }\n}\n```\nButton\n```\npublic interface ButtonAbsProduct {\n\n    //\n    String getButtonName(SystemAbsProduct system);\n    \n    public class WindowPhoneButton implements ButtonAbsProduct {\n\n        @Override\n        public String getButtonName(SystemAbsProduct system) {\n            if (system.getSystem().equals(App.context.getString(R.string.window_phone))) {\n                return \"WindowPhoneButton\";\n            }\n            return App.context.getString(R.string.system_error);\n        }\n    }\n\n    public class IOSButton implements ButtonAbsProduct {\n\n        @Override\n        public String getButtonName(SystemAbsProduct system) {\n            if (system.getSystem().equals(App.context.getString(R.string.ios))) {\n                return \"iOSButton\";\n            }\n            return App.context.getString(R.string.system_error);\n        }\n    }\n\n    public class AndroidButton implements ButtonAbsProduct {\n\n        @Override\n        public String getButtonName(SystemAbsProduct system) {\n            if (system.getSystem().equals(App.context.getString(R.string.android))) {\n                return \"AndroidButton\";\n            }\n            return App.context.getString(R.string.system_error);\n        }\n    }\n}\n```\nConcreteProduct\nButton\nConcreteFactory\n\nWindowPhoneFactory\n```\npublic class WindowPhoneFactory implements AbsFactory {\n    @Override\n    public SystemAbsProduct createSystem() {\n        return new SystemAbsProduct.WindowPhone();\n    }\n\n    @Override\n    public ButtonAbsProduct createButton() {\n        return new ButtonAbsProduct.WindowPhoneButton();\n    }\n}\n```\nIOSFactory\n```\npublic class IOSFactory implements AbsFactory {\n    @Override\n    public SystemAbsProduct createSystem() {\n        return new SystemAbsProduct.IOS();\n    }\n\n    @Override\n    public ButtonAbsProduct createButton() {\n        return new ButtonAbsProduct.IOSButton();\n    }\n}\n```\nAndroidFactory\n```\npublic class AndroidFactory implements AbsFactory {\n    @Override\n    public SystemAbsProduct createSystem() {\n        return new SystemAbsProduct.Android();\n    }\n\n    @Override\n    public ButtonAbsProduct createButton() {\n        return new ButtonAbsProduct.AndroidButton();\n    }\n}\n```\n\n****\n\n```\n//WindowPhone\nAbsFactory iOSFactory = new IOSFactory();\n//\nSystemAbsProduct iOSSystem = iOSFactory.createSystem();\n//\nButtonAbsProduct iOSButton = iOSFactory.createButton();\n//\nToast.makeText(this, iOSButton.getButtonName(iOSSystem), Toast.LENGTH_SHORT).show();\n```\niOSiOSButtonButton\n\n```\nAbsFactory androidFactory1 = new AndroidFactory();\nSystemAbsProduct androidSystem1 = androidFactory1.createSystem();\nButtonAbsProduct androidButton1 = androidFactory1.createButton();\nAbsFactory iOSFactory1 = new IOSFactory();\nSystemAbsProduct iOSSystem1 = iOSFactory1.createSystem();\nButtonAbsProduct iOSButton1 = iOSFactory1.createButton();\n//AndroidButtoniOS\nToast.makeText(this, androidButton1.getButtonName(iOSSystem1), Toast.LENGTH_SHORT).show();\n```\n\n\n##  ##\n****\n\n****[](http://www.jianshu.com/p/cf3b3335af4b)\n****\n[](http://www.jianshu.com/p/cf3b3335af4b)\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n\n##  ##\n\n[-caoglish](https://www.zhihu.com/question/20367734/answer/82361745?from=singlemessage&isappinstalled=0)\n\nAndroid  \n","slug":"Design-Abs-Factory","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdw0000dhnnfkbec52g0","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><strong></strong><br><br><br><strong></strong>iOSButtonAndroidButtonWindowPhoneButtonButtonButton<br><strong></strong><br><strong></strong><br></p>\n<ul>\n<li><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><strong></strong><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><a href=\"http://www.jianshu.com/p/07bed15cd13c\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><strong></strong><strong></strong>AndroidiOSButtoniOSButtoniOS</li>\n</ul>\n<p><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>4</p>\n<ul>\n<li>AbstractFactory<strong></strong></li>\n<li>ConcreteFactory</li>\n<li>AbstractProduct</li>\n<li>ConcreteProduct</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_abs_factory_0.png\" alt=\"\"></p>\n<ol>\n<li>Button</li>\n<li>Button</li>\n<li></li>\n</ol>\n<p><strong></strong><br><strong>AbstractProduct</strong><br>System<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">SystemAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">String <span class=\"title\">getSystem</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Button<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Button<br><br>AbstractFactoryButton<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">AbsFactory</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">SystemAbsProduct <span class=\"title\">createSystem</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Button</span></span><br><span class=\"line\">    <span class=\"function\">ButtonAbsProduct <span class=\"title\">createButton</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br>WindowPhoneAndroidiOSButton<br><br><br><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">SystemAbsProduct</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">String <span class=\"title\">getSystem</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WindowPhone</span> <span class=\"keyword\">implements</span> <span class=\"title\">SystemAbsProduct</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.string.window_phone);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">iOS</span> <span class=\"keyword\">implements</span> <span class=\"title\">SystemAbsProduct</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.string.ios);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Android</span> <span class=\"keyword\">implements</span> <span class=\"title\">SystemAbsProduct</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.string.android);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Button<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>)</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">WindowPhoneButton</span> <span class=\"title\">implements</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (system.getSystem().<span class=\"keyword\">equals</span>(App.context.getString(R.<span class=\"keyword\">string</span>.window_phone))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">\"WindowPhoneButton\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.<span class=\"keyword\">string</span>.system_error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">IOSButton</span> <span class=\"title\">implements</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (system.getSystem().<span class=\"keyword\">equals</span>(App.context.getString(R.<span class=\"keyword\">string</span>.ios))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">\"iOSButton\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.<span class=\"keyword\">string</span>.system_error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">AndroidButton</span> <span class=\"title\">implements</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (system.getSystem().<span class=\"keyword\">equals</span>(App.context.getString(R.<span class=\"keyword\">string</span>.android))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">\"AndroidButton\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.<span class=\"keyword\">string</span>.system_error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ConcreteProduct<br>Button<br>ConcreteFactory<br><br>WindowPhoneFactory<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WindowPhoneFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbsFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> SystemAbsProduct <span class=\"title\">createSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> SystemAbsProduct.WindowPhone();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ButtonAbsProduct <span class=\"title\">createButton</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ButtonAbsProduct.WindowPhoneButton();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>IOSFactory<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">IOSFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbsFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> SystemAbsProduct <span class=\"title\">createSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> SystemAbsProduct.IOS();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ButtonAbsProduct <span class=\"title\">createButton</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ButtonAbsProduct.IOSButton();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>AndroidFactory<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AndroidFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbsFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> SystemAbsProduct <span class=\"title\">createSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> SystemAbsProduct.Android();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ButtonAbsProduct <span class=\"title\">createButton</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ButtonAbsProduct.AndroidButton();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><strong></strong><br><br><figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//WindowPhone</span></span><br><span class=\"line\"><span class=\"type\">AbsFactory</span> iOSFactory = <span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">IOSFactory</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">SystemAbsProduct</span> <span class=\"title\">iOSSystem</span> = <span class=\"title\">iOSFactory</span>.<span class=\"title\">createSystem</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">ButtonAbsProduct</span> <span class=\"title\">iOSButton</span> = <span class=\"title\">iOSFactory</span>.<span class=\"title\">createButton</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">Toast</span>.<span class=\"title\">makeText</span>(this, iOSButton.getButtonName(iOSSystem), <span class=\"title\">Toast</span>.<span class=\"title\">LENGTH_SHORT</span>).<span class=\"title\">show</span>();</span></span><br></pre></td></tr></table></figure></p>\n<p>iOSiOSButtonButton<br><br><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">AbsFactory</span> <span class=\"keyword\">androidFactory1 </span>= new <span class=\"keyword\">AndroidFactory();</span></span><br><span class=\"line\"><span class=\"keyword\">SystemAbsProduct </span><span class=\"keyword\">androidSystem1 </span>= <span class=\"keyword\">androidFactory1.createSystem();</span></span><br><span class=\"line\"><span class=\"keyword\">ButtonAbsProduct </span><span class=\"keyword\">androidButton1 </span>= <span class=\"keyword\">androidFactory1.createButton();</span></span><br><span class=\"line\"><span class=\"keyword\">AbsFactory </span>iOSFactory1 = new IOSFactory()<span class=\"comment\">;</span></span><br><span class=\"line\"><span class=\"symbol\">SystemAbsProduct</span> iOSSystem1 = iOSFactory1.createSystem()<span class=\"comment\">;</span></span><br><span class=\"line\"><span class=\"keyword\">ButtonAbsProduct </span>iOSButton1 = iOSFactory1.createButton()<span class=\"comment\">;</span></span><br><span class=\"line\">//<span class=\"keyword\">AndroidButtoniOS</span></span><br><span class=\"line\"><span class=\"keyword\">Toast.makeText(this, </span><span class=\"keyword\">androidButton1.getButtonName(iOSSystem1), </span>Toast.LENGTH_SHORT).show()<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br><br><strong></strong><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><br><strong></strong><br><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://www.zhihu.com/question/20367734/answer/82361745?from=singlemessage&amp;isappinstalled=0\" target=\"_blank\" rel=\"noopener\">-caoglish</a></p>\n<p>Android  </p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><strong></strong><br><br><br><strong></strong>iOSButtonAndroidButtonWindowPhoneButtonButtonButton<br><strong></strong><br><strong></strong><br></p>\n<ul>\n<li><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><strong></strong><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><a href=\"http://www.jianshu.com/p/07bed15cd13c\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><strong></strong><strong></strong>AndroidiOSButtoniOSButtoniOS</li>\n</ul>\n<p><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>4</p>\n<ul>\n<li>AbstractFactory<strong></strong></li>\n<li>ConcreteFactory</li>\n<li>AbstractProduct</li>\n<li>ConcreteProduct</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_abs_factory_0.png\" alt=\"\"></p>\n<ol>\n<li>Button</li>\n<li>Button</li>\n<li></li>\n</ol>\n<p><strong></strong><br><strong>AbstractProduct</strong><br>System<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">SystemAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">String <span class=\"title\">getSystem</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Button<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Button<br><br>AbstractFactoryButton<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">AbsFactory</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">SystemAbsProduct <span class=\"title\">createSystem</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//Button</span></span><br><span class=\"line\">    <span class=\"function\">ButtonAbsProduct <span class=\"title\">createButton</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br>WindowPhoneAndroidiOSButton<br><br><br><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">SystemAbsProduct</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">String <span class=\"title\">getSystem</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WindowPhone</span> <span class=\"keyword\">implements</span> <span class=\"title\">SystemAbsProduct</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.string.window_phone);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">iOS</span> <span class=\"keyword\">implements</span> <span class=\"title\">SystemAbsProduct</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.string.ios);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Android</span> <span class=\"keyword\">implements</span> <span class=\"title\">SystemAbsProduct</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@Override</span></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.string.android);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Button<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\">String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>)</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">WindowPhoneButton</span> <span class=\"title\">implements</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (system.getSystem().<span class=\"keyword\">equals</span>(App.context.getString(R.<span class=\"keyword\">string</span>.window_phone))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">\"WindowPhoneButton\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.<span class=\"keyword\">string</span>.system_error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">IOSButton</span> <span class=\"title\">implements</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (system.getSystem().<span class=\"keyword\">equals</span>(App.context.getString(R.<span class=\"keyword\">string</span>.ios))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">\"iOSButton\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.<span class=\"keyword\">string</span>.system_error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">AndroidButton</span> <span class=\"title\">implements</span> <span class=\"title\">ButtonAbsProduct</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getButtonName</span>(<span class=\"params\">SystemAbsProduct system</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (system.getSystem().<span class=\"keyword\">equals</span>(App.context.getString(R.<span class=\"keyword\">string</span>.android))) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"string\">\"AndroidButton\"</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> App.context.getString(R.<span class=\"keyword\">string</span>.system_error);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ConcreteProduct<br>Button<br>ConcreteFactory<br><br>WindowPhoneFactory<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WindowPhoneFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbsFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> SystemAbsProduct <span class=\"title\">createSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> SystemAbsProduct.WindowPhone();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ButtonAbsProduct <span class=\"title\">createButton</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ButtonAbsProduct.WindowPhoneButton();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>IOSFactory<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">IOSFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbsFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> SystemAbsProduct <span class=\"title\">createSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> SystemAbsProduct.IOS();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ButtonAbsProduct <span class=\"title\">createButton</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ButtonAbsProduct.IOSButton();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>AndroidFactory<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AndroidFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbsFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> SystemAbsProduct <span class=\"title\">createSystem</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> SystemAbsProduct.Android();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ButtonAbsProduct <span class=\"title\">createButton</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ButtonAbsProduct.AndroidButton();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><strong></strong><br><br><figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//WindowPhone</span></span><br><span class=\"line\"><span class=\"type\">AbsFactory</span> iOSFactory = <span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">IOSFactory</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">SystemAbsProduct</span> <span class=\"title\">iOSSystem</span> = <span class=\"title\">iOSFactory</span>.<span class=\"title\">createSystem</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">ButtonAbsProduct</span> <span class=\"title\">iOSButton</span> = <span class=\"title\">iOSFactory</span>.<span class=\"title\">createButton</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">Toast</span>.<span class=\"title\">makeText</span>(this, iOSButton.getButtonName(iOSSystem), <span class=\"title\">Toast</span>.<span class=\"title\">LENGTH_SHORT</span>).<span class=\"title\">show</span>();</span></span><br></pre></td></tr></table></figure></p>\n<p>iOSiOSButtonButton<br><br><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">AbsFactory</span> <span class=\"keyword\">androidFactory1 </span>= new <span class=\"keyword\">AndroidFactory();</span></span><br><span class=\"line\"><span class=\"keyword\">SystemAbsProduct </span><span class=\"keyword\">androidSystem1 </span>= <span class=\"keyword\">androidFactory1.createSystem();</span></span><br><span class=\"line\"><span class=\"keyword\">ButtonAbsProduct </span><span class=\"keyword\">androidButton1 </span>= <span class=\"keyword\">androidFactory1.createButton();</span></span><br><span class=\"line\"><span class=\"keyword\">AbsFactory </span>iOSFactory1 = new IOSFactory()<span class=\"comment\">;</span></span><br><span class=\"line\"><span class=\"symbol\">SystemAbsProduct</span> iOSSystem1 = iOSFactory1.createSystem()<span class=\"comment\">;</span></span><br><span class=\"line\"><span class=\"keyword\">ButtonAbsProduct </span>iOSButton1 = iOSFactory1.createButton()<span class=\"comment\">;</span></span><br><span class=\"line\">//<span class=\"keyword\">AndroidButtoniOS</span></span><br><span class=\"line\"><span class=\"keyword\">Toast.makeText(this, </span><span class=\"keyword\">androidButton1.getButtonName(iOSSystem1), </span>Toast.LENGTH_SHORT).show()<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br><br><strong></strong><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><br><strong></strong><br><a href=\"http://www.jianshu.com/p/cf3b3335af4b\" target=\"_blank\" rel=\"noopener\"></a><br><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://www.zhihu.com/question/20367734/answer/82361745?from=singlemessage&amp;isappinstalled=0\" target=\"_blank\" rel=\"noopener\">-caoglish</a></p>\n<p>Android  </p>\n"},{"title":"-","date":"2017-07-05T07:47:53.000Z","_content":"##  ##\nBuilder\n\n\n\n##  ##\n****\n- Product\n- Builder****\n- ConcreteBuilder\n- Director\n\n##  ##\n****\nCPU\n****\n- ProductProduct\n- BuilderBuilderConcreteBuilder\n- ConcreteBuilderBuilder\n- Director\n\n\nProduct\n```\npublic class PhoneProduct {\n\n    private String brand;//\n    private String CPU;//CPU\n    private String memorySize;//\n    private String pixel;//\n\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public void setCPU(String CPU) {\n        this.CPU = CPU;\n    }\n\n    public void setMemorySize(String memorySize) {\n        this.memorySize = memorySize;\n    }\n\n    public void setPixel(String pixel) {\n        this.pixel = pixel;\n    }\n\n    @Override\n    public String toString() {\n        return \"\" + brand +\n                \"\\nCPU\" + CPU +\n                \"\\n\" + memorySize +\n                \"\\n\" + pixel;\n    }\n\n```\nCPU\nBuilder\n```\npublic abstract class PhoneBuilder {\n    //\n    public abstract void buildBrand(String brand);\n    //CPU\n    public abstract void buildCPU(String cpu);\n    //\n    public abstract void buildMemorySize(String memorySize);\n    //\n    public abstract void buildPixel(String pixel);\n    //\n    public abstract PhoneProduct create();\n}\n```\nBuilder`create()`\n**ConcreteBuilder****Builder**\n```\npublic class ConcretePhoneBuilder extends PhoneBuilder {\n    //\n    private PhoneProduct product = new PhoneProduct();\n    \n    @Override\n    public void buildBrand(String brand) {\n        product.setBrand(brand);\n    }\n\n    @Override\n    public void buildCPU(String cpu) {\n        product.setCPU(cpu);\n    }\n\n    @Override\n    public void buildMemorySize(String memorySize) {\n        product.setMemorySize(memorySize);\n    }\n\n    @Override\n    public void buildPixel(String pixel) {\n        product.setPixel(pixel);\n    }\n\n    @Override\n    public PhoneProduct create() {\n        return product;\n    }\n}\n\n```\n**ConcreteBuilder****create()**\n\n\n**Director**\n```\npublic class PhoneDirector {\n\n    private PhoneBuilder builder;\n\n    public PhoneDirector(PhoneBuilder builder) {\n        this.builder = builder;\n    }\n\n    public PhoneProduct constuct(String brand, String cpu, String memorySize, String pixel) {\n\n\n        builder.buildBrand(brand);\n        builder.buildCPU(cpu);\n        builder.buildMemorySize(memorySize);\n        builder.buildPixel(pixel);\n\n        return builder.create();\n    }\n}\n```\n**Director**PhoneBuilder**constuct(,,,,)****ConcreteBuilder**\n****\n```\n//Builder\nPhoneBuilder miBuilder = new ConcretePhoneBuilder();\n//\nPhoneDirector director = new PhoneDirector(miBuilder);\n//\nPhoneProduct product = director.constuct(\"\", \"825\", \"4GB\", \"1500\");\n//\ntextView.setText(product.toString());\n```\n**Builder****Director****Director**\n**Director**\n\n##  ##\nBuilder\n[](https://YuanTiger.github.io/2017/07/11/Builder-Dialog/)\n##  ##\n[DemoGitHub](https://github.com/YuanTiger/Design-Pattern)\n\n****\n********\n************\n\n##  ##\n\nAndroid  ","source":"_posts/Design-Builder.md","raw":"---\ntitle: -\ndate: 2017-07-05 15:47:53\ntags:\n   - \n---\n##  ##\nBuilder\n\n\n\n##  ##\n****\n- Product\n- Builder****\n- ConcreteBuilder\n- Director\n\n##  ##\n****\nCPU\n****\n- ProductProduct\n- BuilderBuilderConcreteBuilder\n- ConcreteBuilderBuilder\n- Director\n\n\nProduct\n```\npublic class PhoneProduct {\n\n    private String brand;//\n    private String CPU;//CPU\n    private String memorySize;//\n    private String pixel;//\n\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public void setCPU(String CPU) {\n        this.CPU = CPU;\n    }\n\n    public void setMemorySize(String memorySize) {\n        this.memorySize = memorySize;\n    }\n\n    public void setPixel(String pixel) {\n        this.pixel = pixel;\n    }\n\n    @Override\n    public String toString() {\n        return \"\" + brand +\n                \"\\nCPU\" + CPU +\n                \"\\n\" + memorySize +\n                \"\\n\" + pixel;\n    }\n\n```\nCPU\nBuilder\n```\npublic abstract class PhoneBuilder {\n    //\n    public abstract void buildBrand(String brand);\n    //CPU\n    public abstract void buildCPU(String cpu);\n    //\n    public abstract void buildMemorySize(String memorySize);\n    //\n    public abstract void buildPixel(String pixel);\n    //\n    public abstract PhoneProduct create();\n}\n```\nBuilder`create()`\n**ConcreteBuilder****Builder**\n```\npublic class ConcretePhoneBuilder extends PhoneBuilder {\n    //\n    private PhoneProduct product = new PhoneProduct();\n    \n    @Override\n    public void buildBrand(String brand) {\n        product.setBrand(brand);\n    }\n\n    @Override\n    public void buildCPU(String cpu) {\n        product.setCPU(cpu);\n    }\n\n    @Override\n    public void buildMemorySize(String memorySize) {\n        product.setMemorySize(memorySize);\n    }\n\n    @Override\n    public void buildPixel(String pixel) {\n        product.setPixel(pixel);\n    }\n\n    @Override\n    public PhoneProduct create() {\n        return product;\n    }\n}\n\n```\n**ConcreteBuilder****create()**\n\n\n**Director**\n```\npublic class PhoneDirector {\n\n    private PhoneBuilder builder;\n\n    public PhoneDirector(PhoneBuilder builder) {\n        this.builder = builder;\n    }\n\n    public PhoneProduct constuct(String brand, String cpu, String memorySize, String pixel) {\n\n\n        builder.buildBrand(brand);\n        builder.buildCPU(cpu);\n        builder.buildMemorySize(memorySize);\n        builder.buildPixel(pixel);\n\n        return builder.create();\n    }\n}\n```\n**Director**PhoneBuilder**constuct(,,,,)****ConcreteBuilder**\n****\n```\n//Builder\nPhoneBuilder miBuilder = new ConcretePhoneBuilder();\n//\nPhoneDirector director = new PhoneDirector(miBuilder);\n//\nPhoneProduct product = director.constuct(\"\", \"825\", \"4GB\", \"1500\");\n//\ntextView.setText(product.toString());\n```\n**Builder****Director****Director**\n**Director**\n\n##  ##\nBuilder\n[](https://YuanTiger.github.io/2017/07/11/Builder-Dialog/)\n##  ##\n[DemoGitHub](https://github.com/YuanTiger/Design-Pattern)\n\n****\n********\n************\n\n##  ##\n\nAndroid  ","slug":"Design-Builder","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdw3000fhnnfgorpk301","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Builder<br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<ul>\n<li>Product</li>\n<li>Builder<strong></strong></li>\n<li>ConcreteBuilder</li>\n<li>Director</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br>CPU<br><strong></strong></p>\n<ul>\n<li>ProductProduct</li>\n<li>BuilderBuilderConcreteBuilder</li>\n<li>ConcreteBuilderBuilder</li>\n<li>Director</li>\n</ul>\n<p><br>Product<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> PhoneProduct &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> brand;<span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> CPU;<span class=\"comment\">//CPU</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> memorySize;<span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> pixel;<span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">void</span> setBrand(<span class=\"built_in\">String</span> brand) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.brand = brand;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">void</span> setCPU(<span class=\"built_in\">String</span> CPU) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.CPU = CPU;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">void</span> setMemorySize(<span class=\"built_in\">String</span> memorySize) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.memorySize = memorySize;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">void</span> setPixel(<span class=\"built_in\">String</span> pixel) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.pixel = pixel;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">String</span> toString() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span> + brand +</span><br><span class=\"line\">                <span class=\"string\">\"\\nCPU\"</span> + CPU +</span><br><span class=\"line\">                <span class=\"string\">\"\\n\"</span> + memorySize +</span><br><span class=\"line\">                <span class=\"string\">\"\\n\"</span> + pixel;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>CPU<br>Builder<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">PhoneBuilder</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildBrand</span>(<span class=\"params\">String brand</span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">//CPU</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildCPU</span>(<span class=\"params\">String cpu</span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildMemorySize</span>(<span class=\"params\">String memorySize</span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildPixel</span>(<span class=\"params\">String pixel</span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> PhoneProduct <span class=\"title\">create</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Builder<code>create()</code><br><strong>ConcreteBuilder</strong><strong>Builder</strong><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ConcretePhoneBuilder</span> <span class=\"keyword\">extends</span> <span class=\"title\">PhoneBuilder</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> PhoneProduct product = <span class=\"keyword\">new</span> PhoneProduct();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">buildBrand</span><span class=\"params\">(String brand)</span> </span>&#123;</span><br><span class=\"line\">        product.setBrand(brand);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">buildCPU</span><span class=\"params\">(String cpu)</span> </span>&#123;</span><br><span class=\"line\">        product.setCPU(cpu);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">buildMemorySize</span><span class=\"params\">(String memorySize)</span> </span>&#123;</span><br><span class=\"line\">        product.setMemorySize(memorySize);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">buildPixel</span><span class=\"params\">(String pixel)</span> </span>&#123;</span><br><span class=\"line\">        product.setPixel(pixel);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> PhoneProduct <span class=\"title\">create</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> product;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>ConcreteBuilder</strong><strong>create()</strong><br><br><br><strong>Director</strong><br><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">public</span> class PhoneDirector &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    private PhoneBuilder <span class=\"keyword\">builder;</span></span><br><span class=\"line\"><span class=\"keyword\"></span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   public PhoneDirector(PhoneBuilder <span class=\"keyword\">builder) </span>&#123;</span><br><span class=\"line\">        this.<span class=\"keyword\">builder </span>= <span class=\"keyword\">builder;</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public PhoneProduct constuct(<span class=\"keyword\">String </span><span class=\"keyword\">brand, </span><span class=\"keyword\">String </span>cpu, <span class=\"keyword\">String </span>memorySize, <span class=\"keyword\">String </span>pixel) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">builder.buildBrand(brand);</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">builder.buildCPU(cpu);</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">builder.buildMemorySize(memorySize);</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">builder.buildPixel(pixel);</span></span><br><span class=\"line\"><span class=\"keyword\"></span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       return <span class=\"keyword\">builder.create();</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>Director</strong>PhoneBuilder<strong>constuct(,,,,)</strong><strong>ConcreteBuilder</strong><br><strong></strong><br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Builder</span></span><br><span class=\"line\">PhoneBuilder miBuilder = <span class=\"keyword\">new</span> <span class=\"type\">ConcretePhoneBuilder</span>();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">PhoneDirector director = <span class=\"keyword\">new</span> <span class=\"type\">PhoneDirector</span>(miBuilder);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">PhoneProduct product = director.constuct(<span class=\"string\">\"\"</span>, <span class=\"string\">\"825\"</span>, <span class=\"string\">\"4GB\"</span>, <span class=\"string\">\"1500\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">textView.setText(product.toString());</span><br></pre></td></tr></table></figure></p>\n<p><strong>Builder</strong><strong>Director</strong><strong>Director</strong><br><strong>Director</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Builder<br><a href=\"https://YuanTiger.github.io/2017/07/11/Builder-Dialog/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">DemoGitHub</a><br><br><strong></strong><br><strong></strong><strong></strong><br><strong></strong><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Builder<br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<ul>\n<li>Product</li>\n<li>Builder<strong></strong></li>\n<li>ConcreteBuilder</li>\n<li>Director</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br>CPU<br><strong></strong></p>\n<ul>\n<li>ProductProduct</li>\n<li>BuilderBuilderConcreteBuilder</li>\n<li>ConcreteBuilderBuilder</li>\n<li>Director</li>\n</ul>\n<p><br>Product<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> PhoneProduct &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> brand;<span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> CPU;<span class=\"comment\">//CPU</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> memorySize;<span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> pixel;<span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">void</span> setBrand(<span class=\"built_in\">String</span> brand) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.brand = brand;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">void</span> setCPU(<span class=\"built_in\">String</span> CPU) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.CPU = CPU;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">void</span> setMemorySize(<span class=\"built_in\">String</span> memorySize) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.memorySize = memorySize;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">void</span> setPixel(<span class=\"built_in\">String</span> pixel) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.pixel = pixel;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"built_in\">String</span> toString() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span> + brand +</span><br><span class=\"line\">                <span class=\"string\">\"\\nCPU\"</span> + CPU +</span><br><span class=\"line\">                <span class=\"string\">\"\\n\"</span> + memorySize +</span><br><span class=\"line\">                <span class=\"string\">\"\\n\"</span> + pixel;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>CPU<br>Builder<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">PhoneBuilder</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildBrand</span>(<span class=\"params\">String brand</span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">//CPU</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildCPU</span>(<span class=\"params\">String cpu</span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildMemorySize</span>(<span class=\"params\">String memorySize</span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">buildPixel</span>(<span class=\"params\">String pixel</span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> PhoneProduct <span class=\"title\">create</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>Builder<code>create()</code><br><strong>ConcreteBuilder</strong><strong>Builder</strong><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ConcretePhoneBuilder</span> <span class=\"keyword\">extends</span> <span class=\"title\">PhoneBuilder</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> PhoneProduct product = <span class=\"keyword\">new</span> PhoneProduct();</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">buildBrand</span><span class=\"params\">(String brand)</span> </span>&#123;</span><br><span class=\"line\">        product.setBrand(brand);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">buildCPU</span><span class=\"params\">(String cpu)</span> </span>&#123;</span><br><span class=\"line\">        product.setCPU(cpu);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">buildMemorySize</span><span class=\"params\">(String memorySize)</span> </span>&#123;</span><br><span class=\"line\">        product.setMemorySize(memorySize);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">buildPixel</span><span class=\"params\">(String pixel)</span> </span>&#123;</span><br><span class=\"line\">        product.setPixel(pixel);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> PhoneProduct <span class=\"title\">create</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> product;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>ConcreteBuilder</strong><strong>create()</strong><br><br><br><strong>Director</strong><br><figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">public</span> class PhoneDirector &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    private PhoneBuilder <span class=\"keyword\">builder;</span></span><br><span class=\"line\"><span class=\"keyword\"></span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   public PhoneDirector(PhoneBuilder <span class=\"keyword\">builder) </span>&#123;</span><br><span class=\"line\">        this.<span class=\"keyword\">builder </span>= <span class=\"keyword\">builder;</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public PhoneProduct constuct(<span class=\"keyword\">String </span><span class=\"keyword\">brand, </span><span class=\"keyword\">String </span>cpu, <span class=\"keyword\">String </span>memorySize, <span class=\"keyword\">String </span>pixel) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">builder.buildBrand(brand);</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">builder.buildCPU(cpu);</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">builder.buildMemorySize(memorySize);</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       <span class=\"keyword\">builder.buildPixel(pixel);</span></span><br><span class=\"line\"><span class=\"keyword\"></span></span><br><span class=\"line\"><span class=\"keyword\"> </span>       return <span class=\"keyword\">builder.create();</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>Director</strong>PhoneBuilder<strong>constuct(,,,,)</strong><strong>ConcreteBuilder</strong><br><strong></strong><br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Builder</span></span><br><span class=\"line\">PhoneBuilder miBuilder = <span class=\"keyword\">new</span> <span class=\"type\">ConcretePhoneBuilder</span>();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">PhoneDirector director = <span class=\"keyword\">new</span> <span class=\"type\">PhoneDirector</span>(miBuilder);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">PhoneProduct product = director.constuct(<span class=\"string\">\"\"</span>, <span class=\"string\">\"825\"</span>, <span class=\"string\">\"4GB\"</span>, <span class=\"string\">\"1500\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">textView.setText(product.toString());</span><br></pre></td></tr></table></figure></p>\n<p><strong>Builder</strong><strong>Director</strong><strong>Director</strong><br><strong>Director</strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Builder<br><a href=\"https://YuanTiger.github.io/2017/07/11/Builder-Dialog/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">DemoGitHub</a><br><br><strong></strong><br><strong></strong><strong></strong><br><strong></strong><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n"},{"title":"23","date":"2017-05-31T06:52:23.000Z","_content":"1. [](https://YuanTiger.github.io/2017/05/27/Design-Single/)\n2. [](https://YuanTiger.github.io/2017/07/05/Design-Builder/)\n3. [](https://YuanTiger.github.io/2017/07/15/Design-Clone/)\n4. [](https://YuanTiger.github.io/2017/07/24/Design-Factory/)\n5. [](https://YuanTiger.github.io/2017/08/02/Design-Abs-Factory/)\n6. [](https://YuanTiger.github.io/2017/08/02/Design-Strategy/)\n7. [](https://yuantiger.github.io/2017/11/14/Design-State/)\n8. [](https://yuantiger.github.io/2017/11/16/Design-Responsibility/)\n9. []()\n10. []()\n11. []()\n12. []()\n13. []()\n14. []()\n15. []()\n16. []()\n17. []()\n18. []()\n19. []()\n20. []()\n21. []()\n22. []()\n23. []()\n\nAndroid  ","source":"_posts/Design-Catalog.md","raw":"---\ntitle: 23\ndate: 2017-05-31 14:52:23\ntags:\n   - \n---\n1. [](https://YuanTiger.github.io/2017/05/27/Design-Single/)\n2. [](https://YuanTiger.github.io/2017/07/05/Design-Builder/)\n3. [](https://YuanTiger.github.io/2017/07/15/Design-Clone/)\n4. [](https://YuanTiger.github.io/2017/07/24/Design-Factory/)\n5. [](https://YuanTiger.github.io/2017/08/02/Design-Abs-Factory/)\n6. [](https://YuanTiger.github.io/2017/08/02/Design-Strategy/)\n7. [](https://yuantiger.github.io/2017/11/14/Design-State/)\n8. [](https://yuantiger.github.io/2017/11/16/Design-Responsibility/)\n9. []()\n10. []()\n11. []()\n12. []()\n13. []()\n14. []()\n15. []()\n16. []()\n17. []()\n18. []()\n19. []()\n20. []()\n21. []()\n22. []()\n23. []()\n\nAndroid  ","slug":"Design-Catalog","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdw6000ihnnfck4kl042","content":"<ol>\n<li><a href=\"https://YuanTiger.github.io/2017/05/27/Design-Single/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/07/05/Design-Builder/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/07/15/Design-Clone/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/07/24/Design-Factory/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/08/02/Design-Abs-Factory/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/08/02/Design-Strategy/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://yuantiger.github.io/2017/11/14/Design-State/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://yuantiger.github.io/2017/11/16/Design-Responsibility/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n</ol>\n<p>Android  </p>\n","site":{"data":{}},"excerpt":"","more":"<ol>\n<li><a href=\"https://YuanTiger.github.io/2017/05/27/Design-Single/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/07/05/Design-Builder/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/07/15/Design-Clone/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/07/24/Design-Factory/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/08/02/Design-Abs-Factory/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://YuanTiger.github.io/2017/08/02/Design-Strategy/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://yuantiger.github.io/2017/11/14/Design-State/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"https://yuantiger.github.io/2017/11/16/Design-Responsibility/\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n<li><a href=\"\"></a></li>\n</ol>\n<p>Android  </p>\n"},{"title":"-","date":"2017-07-15T06:52:23.000Z","_content":"##  ##\n****\n\n\n********\n##  ##\n- \n- \n\nnewnew\n****\n##  ##\n\nJava**Cloneable**`clone()`\n****\n\n```\npublic class WordDocument{\n    //\n    private String text;\n    //\n    private String author;\n    //\n    private ArrayList<String> imageList;\n\n    //....getset\n}\n```\n\n```\npublic class WordDocument implements Cloneable {\n    //\n    private String text;\n    //\n    private String author;\n    //\n    private ArrayList<String> imageList;\n    \n    @Override\n    protected WordDocument clone() {\n        WordDocument document = null;\n        try {\n            document = (WordDocument) super.clone();\n            document.text = this.text;\n            document.author = this.author;\n            document.imageList = this.imageList;\n            return document;\n        } catch (CloneNotSupportedException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n    \n    //....getset\n}\n```\n**WordDocument****Cloneable**`clone()``clone()`\n\n```\n//\nWordDocument document = new WordDocument();\ndocument.setAuthor(\"\");\ndocument.setText(\"\");\ndocument.addImage(\"0\");\ndocument.addImage(\"1\");\n//\ntv_clone_0.append(\":\\n\" + document.toString());\n//\nWordDocument cloneBean = document.clone();\n//\ntv_clone_0.append(\":\\n\" + cloneBean.toString());\n//\ncloneBean.setAuthor(\"\");\ncloneBean.addImage(\"2\");\n//2\ntv_clone_0.append(\":\\n\" + cloneBean.toString());\ntv_clone_0.append(\":\\n\" + document.toString());\n```\n\n4`toString`\n1. \n2. \n3. \n4. \n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/design_clone_0.png)\n\n********\n\n##  ##\n********\n****\n```\nBean a = new Bean(\"\",\"23\",\"\");\nBean b = a;\n```\nbaabba\n**WordDocument**`clone()`\n```\n @Override\n protected WordDocument clone() {\n     WordDocument document = null;\n     try {\n         document = (WordDocument) super.clone();\n         document.text = this.text;\n         document.author = this.author;\n         //List\n         document.imageList = this.imageList;\n         return document;\n     } catch (CloneNotSupportedException e) {\n         e.printStackTrace();\n     }\n     return null;\n }\n```\nListList\n****\n\n******`clone()`**\n```\n@Override\nprotected WordDocument clone() {\n    WordDocument document = null;\n    try {\n        document = (WordDocument) super.clone();\n        document.text = this.text;\n        document.author = this.author;\n        //\n        document.imageList = (ArrayList<String>) imageList.clone();\n        return document;\n    } catch (CloneNotSupportedException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n```\nArrayListArrayList**Cloneable**ArrayList`clone()`\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/design_clone_1.png)\n\n##  ##\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n****\n****\n\n##  ##\nAndroid  ","source":"_posts/Design-Clone.md","raw":"---\ntitle: -\ndate: 2017-07-15 14:52:23\ntags:\n   - \n---\n##  ##\n****\n\n\n********\n##  ##\n- \n- \n\nnewnew\n****\n##  ##\n\nJava**Cloneable**`clone()`\n****\n\n```\npublic class WordDocument{\n    //\n    private String text;\n    //\n    private String author;\n    //\n    private ArrayList<String> imageList;\n\n    //....getset\n}\n```\n\n```\npublic class WordDocument implements Cloneable {\n    //\n    private String text;\n    //\n    private String author;\n    //\n    private ArrayList<String> imageList;\n    \n    @Override\n    protected WordDocument clone() {\n        WordDocument document = null;\n        try {\n            document = (WordDocument) super.clone();\n            document.text = this.text;\n            document.author = this.author;\n            document.imageList = this.imageList;\n            return document;\n        } catch (CloneNotSupportedException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n    \n    //....getset\n}\n```\n**WordDocument****Cloneable**`clone()``clone()`\n\n```\n//\nWordDocument document = new WordDocument();\ndocument.setAuthor(\"\");\ndocument.setText(\"\");\ndocument.addImage(\"0\");\ndocument.addImage(\"1\");\n//\ntv_clone_0.append(\":\\n\" + document.toString());\n//\nWordDocument cloneBean = document.clone();\n//\ntv_clone_0.append(\":\\n\" + cloneBean.toString());\n//\ncloneBean.setAuthor(\"\");\ncloneBean.addImage(\"2\");\n//2\ntv_clone_0.append(\":\\n\" + cloneBean.toString());\ntv_clone_0.append(\":\\n\" + document.toString());\n```\n\n4`toString`\n1. \n2. \n3. \n4. \n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/design_clone_0.png)\n\n********\n\n##  ##\n********\n****\n```\nBean a = new Bean(\"\",\"23\",\"\");\nBean b = a;\n```\nbaabba\n**WordDocument**`clone()`\n```\n @Override\n protected WordDocument clone() {\n     WordDocument document = null;\n     try {\n         document = (WordDocument) super.clone();\n         document.text = this.text;\n         document.author = this.author;\n         //List\n         document.imageList = this.imageList;\n         return document;\n     } catch (CloneNotSupportedException e) {\n         e.printStackTrace();\n     }\n     return null;\n }\n```\nListList\n****\n\n******`clone()`**\n```\n@Override\nprotected WordDocument clone() {\n    WordDocument document = null;\n    try {\n        document = (WordDocument) super.clone();\n        document.text = this.text;\n        document.author = this.author;\n        //\n        document.imageList = (ArrayList<String>) imageList.clone();\n        return document;\n    } catch (CloneNotSupportedException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n```\nArrayListArrayList**Cloneable**ArrayList`clone()`\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/design_clone_1.png)\n\n##  ##\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n****\n****\n\n##  ##\nAndroid  ","slug":"Design-Clone","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdw9000khnnfv88hdwh8","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br><br><br><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n</ul>\n<p>newnew<br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>Java<strong>Cloneable</strong><code>clone()</code><br><strong></strong><br><br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WordDocument</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> text;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> author;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;<span class=\"keyword\">String</span>&gt; imageList;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//....getset</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> WordDocument <span class=\"keyword\">implements</span> Cloneable &#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> text;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> author;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;<span class=\"built_in\">String</span>&gt; imageList;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> WordDocument clone() &#123;</span><br><span class=\"line\">        WordDocument <span class=\"built_in\">document</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">document</span> = (WordDocument) <span class=\"keyword\">super</span>.clone();</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.text = <span class=\"keyword\">this</span>.text;</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.author = <span class=\"keyword\">this</span>.author;</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.imageList = <span class=\"keyword\">this</span>.imageList;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">document</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//....getset</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>WordDocument</strong><strong>Cloneable</strong><code>clone()</code><code>clone()</code><br><br><figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">WordDocument <span class=\"built_in\">document</span> = <span class=\"keyword\">new</span> WordDocument();</span><br><span class=\"line\"><span class=\"built_in\">document</span>.setAuthor(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.setText(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.addImage(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.addImage(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">tv_clone_0.append(<span class=\"string\">\":\\n\"</span> + <span class=\"built_in\">document</span>.toString());</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">WordDocument cloneBean = <span class=\"built_in\">document</span>.clone();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">tv_clone_0.append(<span class=\"string\">\":\\n\"</span> + cloneBean.toString());</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">cloneBean.setAuthor(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">cloneBean.addImage(<span class=\"string\">\"2\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//2</span></span><br><span class=\"line\">tv_clone_0.append(<span class=\"string\">\":\\n\"</span> + cloneBean.toString());</span><br><span class=\"line\">tv_clone_0.append(<span class=\"string\">\":\\n\"</span> + <span class=\"built_in\">document</span>.toString());</span><br></pre></td></tr></table></figure></p>\n<p><br>4<code>toString</code></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/design_clone_0.png\" alt=\"\"><br><br><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><br><strong></strong><br><figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Bean a</span> = new Bean(<span class=\"string\">\"\"</span>,<span class=\"string\">\"23\"</span>,<span class=\"string\">\"\"</span>);</span><br><span class=\"line\"><span class=\"attribute\">Bean b</span> = a;</span><br></pre></td></tr></table></figure></p>\n<p>baabba<br><strong>WordDocument</strong><code>clone()</code><br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> WordDocument clone() &#123;</span><br><span class=\"line\">    WordDocument <span class=\"built_in\">document</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">document</span> = (WordDocument) <span class=\"keyword\">super</span>.clone();</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.text = <span class=\"keyword\">this</span>.text;</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.author = <span class=\"keyword\">this</span>.author;</span><br><span class=\"line\">        <span class=\"comment\">//List</span></span><br><span class=\"line\">        <span class=\"built_in\">document</span>.imageList = <span class=\"keyword\">this</span>.imageList;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">document</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ListList<br><strong></strong><br><br><strong></strong><strong><code>clone()</code></strong><br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> WordDocument clone() &#123;</span><br><span class=\"line\">    WordDocument <span class=\"built_in\">document</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">document</span> = (WordDocument) <span class=\"keyword\">super</span>.clone();</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.text = <span class=\"keyword\">this</span>.text;</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.author = <span class=\"keyword\">this</span>.author;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">document</span>.imageList = (ArrayList&lt;<span class=\"built_in\">String</span>&gt;) imageList.clone();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">document</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ArrayListArrayList<strong>Cloneable</strong>ArrayList<code>clone()</code><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/design_clone_1.png\" alt=\"\"><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a><br><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br><br><br><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n</ul>\n<p>newnew<br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>Java<strong>Cloneable</strong><code>clone()</code><br><strong></strong><br><br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WordDocument</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> text;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> author;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;<span class=\"keyword\">String</span>&gt; imageList;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//....getset</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> WordDocument <span class=\"keyword\">implements</span> Cloneable &#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> text;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"built_in\">String</span> author;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ArrayList&lt;<span class=\"built_in\">String</span>&gt; imageList;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">protected</span> WordDocument clone() &#123;</span><br><span class=\"line\">        WordDocument <span class=\"built_in\">document</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">document</span> = (WordDocument) <span class=\"keyword\">super</span>.clone();</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.text = <span class=\"keyword\">this</span>.text;</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.author = <span class=\"keyword\">this</span>.author;</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.imageList = <span class=\"keyword\">this</span>.imageList;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">document</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//....getset</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong>WordDocument</strong><strong>Cloneable</strong><code>clone()</code><code>clone()</code><br><br><figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">WordDocument <span class=\"built_in\">document</span> = <span class=\"keyword\">new</span> WordDocument();</span><br><span class=\"line\"><span class=\"built_in\">document</span>.setAuthor(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.setText(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.addImage(<span class=\"string\">\"0\"</span>);</span><br><span class=\"line\"><span class=\"built_in\">document</span>.addImage(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">tv_clone_0.append(<span class=\"string\">\":\\n\"</span> + <span class=\"built_in\">document</span>.toString());</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">WordDocument cloneBean = <span class=\"built_in\">document</span>.clone();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">tv_clone_0.append(<span class=\"string\">\":\\n\"</span> + cloneBean.toString());</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">cloneBean.setAuthor(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">cloneBean.addImage(<span class=\"string\">\"2\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//2</span></span><br><span class=\"line\">tv_clone_0.append(<span class=\"string\">\":\\n\"</span> + cloneBean.toString());</span><br><span class=\"line\">tv_clone_0.append(<span class=\"string\">\":\\n\"</span> + <span class=\"built_in\">document</span>.toString());</span><br></pre></td></tr></table></figure></p>\n<p><br>4<code>toString</code></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/design_clone_0.png\" alt=\"\"><br><br><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><br><strong></strong><br><figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Bean a</span> = new Bean(<span class=\"string\">\"\"</span>,<span class=\"string\">\"23\"</span>,<span class=\"string\">\"\"</span>);</span><br><span class=\"line\"><span class=\"attribute\">Bean b</span> = a;</span><br></pre></td></tr></table></figure></p>\n<p>baabba<br><strong>WordDocument</strong><code>clone()</code><br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> WordDocument clone() &#123;</span><br><span class=\"line\">    WordDocument <span class=\"built_in\">document</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">document</span> = (WordDocument) <span class=\"keyword\">super</span>.clone();</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.text = <span class=\"keyword\">this</span>.text;</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.author = <span class=\"keyword\">this</span>.author;</span><br><span class=\"line\">        <span class=\"comment\">//List</span></span><br><span class=\"line\">        <span class=\"built_in\">document</span>.imageList = <span class=\"keyword\">this</span>.imageList;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">document</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ListList<br><strong></strong><br><br><strong></strong><strong><code>clone()</code></strong><br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">protected</span> WordDocument clone() &#123;</span><br><span class=\"line\">    WordDocument <span class=\"built_in\">document</span> = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">document</span> = (WordDocument) <span class=\"keyword\">super</span>.clone();</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.text = <span class=\"keyword\">this</span>.text;</span><br><span class=\"line\">        <span class=\"built_in\">document</span>.author = <span class=\"keyword\">this</span>.author;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"built_in\">document</span>.imageList = (ArrayList&lt;<span class=\"built_in\">String</span>&gt;) imageList.clone();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">document</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (CloneNotSupportedException e) &#123;</span><br><span class=\"line\">        e.printStackTrace();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>ArrayListArrayList<strong>Cloneable</strong>ArrayList<code>clone()</code><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/design_clone_1.png\" alt=\"\"><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a><br><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n"},{"title":"-","date":"2017-07-24T05:57:55.000Z","_content":"##  ##\n****\n****\n****\n\n##  ##\n********[****](http://www.jianshu.com/p/07bed15cd13c)\n\n##  ##\n****\n- Product\n- ConcreteProduct\n- Factory\n- ConcreteFactory\n\n****Product[****](http://www.jianshu.com/p/07bed15cd13c)Product\nProduct********\nProduct\n\n##  ##\n\n\n\n****\nProduct\n```\npublic interface CarProduct {\n    /**\n     * -\n     * \n     */\n    void drive();\n    /**\n     * -\n     * \n     */\n    void openHeadlamps();\n    \n    //....\n\n}\n```\n\n\nA6L\n```\npublic class AudiA6L implements CarProduct{\n    @Override\n    public void drive() {\n        Log.i(\"factory\",\"A6L\");\n    }\n\n    @Override\n    public void openHeadlamps() {\n        Log.i(\"factory\",\"A6L\");\n    }\n}\n```\nE260L\n```\npublic class BenzE260L implements CarProduct {\n    @Override\n    public void drive() {\n        Log.i(\"factory\",\"E260L\");\n    }\n\n    @Override\n    public void openHeadlamps() {\n        Log.i(\"factory\",\"E260L\");\n    }\n}\n```\n`CarProduct`\nE260L\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg)\n`CarProduct`\n\n```\npublic abstract class CarFactory {\n\n    /**\n     * CarProduct\n     *\n     * @return CarProduct\n     */\n    public abstract CarProduct createProduct();\n}\n```\n****\n\nA6L\n```\npublic class AudiA6LFactory extends CarFactory {\n    @Override\n    public CarProduct createProduct() {\n        return new AudiA6L();\n    }\n}\n```\nE260L\n```\npublic class BenzE260LFactory extends CarFactory {\n    @Override\n    public CarProduct createProduct() {\n        return new BenzE260L();\n    }\n}\n```\nnew\n\n```\n//\nCarFactory carFactory1 = new BenzE260LFactory();\nBenzE260L product1 = (BenzE260L) carFactory1.createProduct();\nproduct1.drive();\nproduct1.openHeadlamps();\n//\nCarFactory carFactory2 = new AudiA6LFactory();\nAudiA6L product2 = (AudiA6L) carFactory2.createProduct();\nproduct2.drive();\nproduct2.openHeadlamps();\n```\n****\nLog\n```\nfactory: E260L\nfactory: E260L\nfactory: A6L\nfactory: A6L\n```\n****\n****\n\n************\n```\npublic abstract class NewCarFactory {\n    /**\n     * \n     *\n     * @param clz class\n     * @param <T> \n     * @return \n     */\n    public abstract <T extends CarProduct> T createProduct(Class<T> clz);\n}\n```\n\n\n```\npublic class CarConcreteFactory extends NewCarFactory {\n\n    @Override\n    public <T extends CarProduct> T createProduct(Class<T> clz) {\n        CarProduct product = null;\n        try {\n            product = (CarProduct) Class.forName(clz.getName()).newInstance();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return (T) product;\n    }\n}\n```\n\n\n\n```\n//\nNewCarFactory carFactory = new CarConcreteFactory();\n//E260L\nBenzE260L benzE260L = carFactory.createProduct(BenzE260L.class);\n//A6L\nAudiA6L audiA6L = carFactory.createProduct(AudiA6L.class);\n//\nbenzE260L.drive();\naudiA6L.drive();\nbenzE260L.openHeadlamps();\naudiA6L.openHeadlamps();\n```\n\n```\nfactory: E260L\nfactory: A6L\nfactory: E260L\nfactory: A6L\n```\n\n****\n****\n\n##  ##\n****Java\n****\n****\n****\n##  ##\n\nAndroid  ","source":"_posts/Design-Factory.md","raw":"---\ntitle: -\ndate: 2017-07-24 13:57:55\ntags:\n   - \n---\n##  ##\n****\n****\n****\n\n##  ##\n********[****](http://www.jianshu.com/p/07bed15cd13c)\n\n##  ##\n****\n- Product\n- ConcreteProduct\n- Factory\n- ConcreteFactory\n\n****Product[****](http://www.jianshu.com/p/07bed15cd13c)Product\nProduct********\nProduct\n\n##  ##\n\n\n\n****\nProduct\n```\npublic interface CarProduct {\n    /**\n     * -\n     * \n     */\n    void drive();\n    /**\n     * -\n     * \n     */\n    void openHeadlamps();\n    \n    //....\n\n}\n```\n\n\nA6L\n```\npublic class AudiA6L implements CarProduct{\n    @Override\n    public void drive() {\n        Log.i(\"factory\",\"A6L\");\n    }\n\n    @Override\n    public void openHeadlamps() {\n        Log.i(\"factory\",\"A6L\");\n    }\n}\n```\nE260L\n```\npublic class BenzE260L implements CarProduct {\n    @Override\n    public void drive() {\n        Log.i(\"factory\",\"E260L\");\n    }\n\n    @Override\n    public void openHeadlamps() {\n        Log.i(\"factory\",\"E260L\");\n    }\n}\n```\n`CarProduct`\nE260L\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg)\n`CarProduct`\n\n```\npublic abstract class CarFactory {\n\n    /**\n     * CarProduct\n     *\n     * @return CarProduct\n     */\n    public abstract CarProduct createProduct();\n}\n```\n****\n\nA6L\n```\npublic class AudiA6LFactory extends CarFactory {\n    @Override\n    public CarProduct createProduct() {\n        return new AudiA6L();\n    }\n}\n```\nE260L\n```\npublic class BenzE260LFactory extends CarFactory {\n    @Override\n    public CarProduct createProduct() {\n        return new BenzE260L();\n    }\n}\n```\nnew\n\n```\n//\nCarFactory carFactory1 = new BenzE260LFactory();\nBenzE260L product1 = (BenzE260L) carFactory1.createProduct();\nproduct1.drive();\nproduct1.openHeadlamps();\n//\nCarFactory carFactory2 = new AudiA6LFactory();\nAudiA6L product2 = (AudiA6L) carFactory2.createProduct();\nproduct2.drive();\nproduct2.openHeadlamps();\n```\n****\nLog\n```\nfactory: E260L\nfactory: E260L\nfactory: A6L\nfactory: A6L\n```\n****\n****\n\n************\n```\npublic abstract class NewCarFactory {\n    /**\n     * \n     *\n     * @param clz class\n     * @param <T> \n     * @return \n     */\n    public abstract <T extends CarProduct> T createProduct(Class<T> clz);\n}\n```\n\n\n```\npublic class CarConcreteFactory extends NewCarFactory {\n\n    @Override\n    public <T extends CarProduct> T createProduct(Class<T> clz) {\n        CarProduct product = null;\n        try {\n            product = (CarProduct) Class.forName(clz.getName()).newInstance();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return (T) product;\n    }\n}\n```\n\n\n\n```\n//\nNewCarFactory carFactory = new CarConcreteFactory();\n//E260L\nBenzE260L benzE260L = carFactory.createProduct(BenzE260L.class);\n//A6L\nAudiA6L audiA6L = carFactory.createProduct(AudiA6L.class);\n//\nbenzE260L.drive();\naudiA6L.drive();\nbenzE260L.openHeadlamps();\naudiA6L.openHeadlamps();\n```\n\n```\nfactory: E260L\nfactory: A6L\nfactory: E260L\nfactory: A6L\n```\n\n****\n****\n\n##  ##\n****Java\n****\n****\n****\n##  ##\n\nAndroid  ","slug":"Design-Factory","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdwd000mhnnft658asyb","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><a href=\"http://www.jianshu.com/p/07bed15cd13c\" target=\"_blank\" rel=\"noopener\"><strong></strong></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<ul>\n<li>Product</li>\n<li>ConcreteProduct</li>\n<li>Factory</li>\n<li>ConcreteFactory</li>\n</ul>\n<p><strong></strong>Product<a href=\"http://www.jianshu.com/p/07bed15cd13c\" target=\"_blank\" rel=\"noopener\"><strong></strong></a>Product<br>Product<strong></strong><strong></strong><br>Product</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><br><strong></strong><br>Product<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">CarProduct</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * -</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drive</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * -</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">openHeadlamps</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//....</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><br>A6L<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AudiA6L</span> <span class=\"keyword\">implements</span> <span class=\"title\">CarProduct</span></span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drive</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Log.i(<span class=\"string\">\"factory\"</span>,<span class=\"string\">\"A6L\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openHeadlamps</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Log.i(<span class=\"string\">\"factory\"</span>,<span class=\"string\">\"A6L\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>E260L<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BenzE260L</span> <span class=\"keyword\">implements</span> <span class=\"title\">CarProduct</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drive</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Log.i(<span class=\"string\">\"factory\"</span>,<span class=\"string\">\"E260L\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openHeadlamps</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Log.i(<span class=\"string\">\"factory\"</span>,<span class=\"string\">\"E260L\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>CarProduct</code><br>E260L<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg\" alt=\"\"><br><code>CarProduct</code><br><br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">CarFactory</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * CarProduct</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @return CarProduct</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> CarProduct <span class=\"title\">createProduct</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong></strong><br><br>A6L<br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AudiA6LFactory</span> <span class=\"keyword\">extends</span> <span class=\"title\">CarFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public <span class=\"type\">CarProduct</span> createProduct() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"type\">AudiA6L</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>E260L<br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BenzE260LFactory</span> <span class=\"keyword\">extends</span> <span class=\"title\">CarFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public <span class=\"type\">CarProduct</span> createProduct() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"type\">BenzE260L</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>new<br><br><figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"type\">CarFactory</span> carFactory1 = <span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">BenzE260LFactory</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">BenzE260L</span> <span class=\"title\">product1</span> = (<span class=\"type\">BenzE260L</span>) <span class=\"title\">carFactory1</span>.<span class=\"title\">createProduct</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">product1</span>.<span class=\"title\">drive</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">product1</span>.<span class=\"title\">openHeadlamps</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">CarFactory</span> <span class=\"title\">carFactory2</span> = <span class=\"title\">new</span> <span class=\"title\">AudiA6LFactory</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">AudiA6L</span> <span class=\"title\">product2</span> = (<span class=\"type\">AudiA6L</span>) <span class=\"title\">carFactory2</span>.<span class=\"title\">createProduct</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">product2</span>.<span class=\"title\">drive</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">product2</span>.<span class=\"title\">openHeadlamps</span>();</span></span><br></pre></td></tr></table></figure></p>\n<p><strong></strong><br>Log<br><figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">factory:</span> E260L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> E260L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> A6L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> A6L</span><br></pre></td></tr></table></figure></p>\n<p><strong></strong><br><strong></strong><br><br><strong></strong><strong></strong><strong></strong><br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">NewCarFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> clz class</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &lt;T&gt; </span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> &lt;T extends CarProduct&gt; T createProduct(<span class=\"class\"><span class=\"keyword\">Class</span>&lt;<span class=\"title\">T</span>&gt; <span class=\"title\">clz</span>);</span></span><br><span class=\"line\"><span class=\"class\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p><br><br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CarConcreteFactory</span> <span class=\"keyword\">extends</span> <span class=\"title\">NewCarFactory</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public &lt;<span class=\"type\">T</span> <span class=\"keyword\">extends</span> <span class=\"type\">CarProduct</span>&gt; <span class=\"type\">T</span> createProduct(<span class=\"type\">Class</span>&lt;<span class=\"type\">T</span>&gt; clz) &#123;</span><br><span class=\"line\">        <span class=\"type\">CarProduct</span> product = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            product = (<span class=\"type\">CarProduct</span>) <span class=\"type\">Class</span>.forName(clz.getName()).newInstance();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (<span class=\"type\">Exception</span> e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"type\">T</span>) product;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><br><br><figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"type\">NewCarFactory</span> carFactory = <span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">CarConcreteFactory</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//E260L</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">BenzE260L</span> <span class=\"title\">benzE260L</span> = <span class=\"title\">carFactory</span>.<span class=\"title\">createProduct</span>(<span class=\"type\">BenzE260L</span>.class);</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//A6L</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">AudiA6L</span> <span class=\"title\">audiA6L</span> = <span class=\"title\">carFactory</span>.<span class=\"title\">createProduct</span>(<span class=\"type\">AudiA6L</span>.class);</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">benzE260L</span>.<span class=\"title\">drive</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">audiA6L</span>.<span class=\"title\">drive</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">benzE260L</span>.<span class=\"title\">openHeadlamps</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">audiA6L</span>.<span class=\"title\">openHeadlamps</span>();</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">factory:</span> E260L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> A6L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> E260L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> A6L</span><br></pre></td></tr></table></figure></p>\n<p><br><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>Java<br><strong></strong><br><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><br><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><strong></strong><a href=\"http://www.jianshu.com/p/07bed15cd13c\" target=\"_blank\" rel=\"noopener\"><strong></strong></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<ul>\n<li>Product</li>\n<li>ConcreteProduct</li>\n<li>Factory</li>\n<li>ConcreteFactory</li>\n</ul>\n<p><strong></strong>Product<a href=\"http://www.jianshu.com/p/07bed15cd13c\" target=\"_blank\" rel=\"noopener\"><strong></strong></a>Product<br>Product<strong></strong><strong></strong><br>Product</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><br><strong></strong><br>Product<br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">CarProduct</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * -</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">drive</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * -</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">openHeadlamps</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//....</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><br>A6L<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AudiA6L</span> <span class=\"keyword\">implements</span> <span class=\"title\">CarProduct</span></span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drive</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Log.i(<span class=\"string\">\"factory\"</span>,<span class=\"string\">\"A6L\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openHeadlamps</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Log.i(<span class=\"string\">\"factory\"</span>,<span class=\"string\">\"A6L\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>E260L<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BenzE260L</span> <span class=\"keyword\">implements</span> <span class=\"title\">CarProduct</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">drive</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Log.i(<span class=\"string\">\"factory\"</span>,<span class=\"string\">\"E260L\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openHeadlamps</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Log.i(<span class=\"string\">\"factory\"</span>,<span class=\"string\">\"E260L\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>CarProduct</code><br>E260L<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/%E9%80%80%E5%87%BA%E8%A3%85%E9%80%BC%E7%95%8C.jpg\" alt=\"\"><br><code>CarProduct</code><br><br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title\">CarFactory</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * CarProduct</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @return CarProduct</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> CarProduct <span class=\"title\">createProduct</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><strong></strong><br><br>A6L<br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AudiA6LFactory</span> <span class=\"keyword\">extends</span> <span class=\"title\">CarFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public <span class=\"type\">CarProduct</span> createProduct() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"type\">AudiA6L</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>E260L<br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BenzE260LFactory</span> <span class=\"keyword\">extends</span> <span class=\"title\">CarFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public <span class=\"type\">CarProduct</span> createProduct() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"type\">BenzE260L</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>new<br><br><figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"type\">CarFactory</span> carFactory1 = <span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">BenzE260LFactory</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">BenzE260L</span> <span class=\"title\">product1</span> = (<span class=\"type\">BenzE260L</span>) <span class=\"title\">carFactory1</span>.<span class=\"title\">createProduct</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">product1</span>.<span class=\"title\">drive</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">product1</span>.<span class=\"title\">openHeadlamps</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">CarFactory</span> <span class=\"title\">carFactory2</span> = <span class=\"title\">new</span> <span class=\"title\">AudiA6LFactory</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">AudiA6L</span> <span class=\"title\">product2</span> = (<span class=\"type\">AudiA6L</span>) <span class=\"title\">carFactory2</span>.<span class=\"title\">createProduct</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">product2</span>.<span class=\"title\">drive</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">product2</span>.<span class=\"title\">openHeadlamps</span>();</span></span><br></pre></td></tr></table></figure></p>\n<p><strong></strong><br>Log<br><figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">factory:</span> E260L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> E260L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> A6L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> A6L</span><br></pre></td></tr></table></figure></p>\n<p><strong></strong><br><strong></strong><br><br><strong></strong><strong></strong><strong></strong><br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">NewCarFactory</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> clz class</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> &lt;T&gt; </span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> &lt;T extends CarProduct&gt; T createProduct(<span class=\"class\"><span class=\"keyword\">Class</span>&lt;<span class=\"title\">T</span>&gt; <span class=\"title\">clz</span>);</span></span><br><span class=\"line\"><span class=\"class\">&#125;</span></span><br></pre></td></tr></table></figure></p>\n<p><br><br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CarConcreteFactory</span> <span class=\"keyword\">extends</span> <span class=\"title\">NewCarFactory</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public &lt;<span class=\"type\">T</span> <span class=\"keyword\">extends</span> <span class=\"type\">CarProduct</span>&gt; <span class=\"type\">T</span> createProduct(<span class=\"type\">Class</span>&lt;<span class=\"type\">T</span>&gt; clz) &#123;</span><br><span class=\"line\">        <span class=\"type\">CarProduct</span> product = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            product = (<span class=\"type\">CarProduct</span>) <span class=\"type\">Class</span>.forName(clz.getName()).newInstance();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (<span class=\"type\">Exception</span> e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"type\">T</span>) product;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><br><br><figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"type\">NewCarFactory</span> carFactory = <span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">CarConcreteFactory</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//E260L</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">BenzE260L</span> <span class=\"title\">benzE260L</span> = <span class=\"title\">carFactory</span>.<span class=\"title\">createProduct</span>(<span class=\"type\">BenzE260L</span>.class);</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//A6L</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">AudiA6L</span> <span class=\"title\">audiA6L</span> = <span class=\"title\">carFactory</span>.<span class=\"title\">createProduct</span>(<span class=\"type\">AudiA6L</span>.class);</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"comment\">//</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">benzE260L</span>.<span class=\"title\">drive</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">audiA6L</span>.<span class=\"title\">drive</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">benzE260L</span>.<span class=\"title\">openHeadlamps</span>();</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">audiA6L</span>.<span class=\"title\">openHeadlamps</span>();</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">factory:</span> E260L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> A6L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> E260L</span><br><span class=\"line\"><span class=\"symbol\">factory:</span> A6L</span><br></pre></td></tr></table></figure></p>\n<p><br><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>Java<br><strong></strong><br><strong></strong><br><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n"},{"title":"-","date":"2017-11-16T07:54:00.000Z","_content":"##  ##\n****\n\n****\n\n\n\n************\n\n##  ##\n\n\n2450\n\n500\n\n24502000\n\n\n\n##  ##\n****\n\n\n\n\n\n****\n\n****\n- \n- \n\n##  ##\n****\n- (Handler)\n- (HandlerImpl)\n\n##  ##\n\n\n\n```\npublic abstract class Leader {\n    //\n    private Leader nextLeader;\n\n    /**\n     * \n     *\n     * @param money \n     */\n    public final void handlerRequest(int money) {\n        if (money <= getSelfLimit()) {\n            //<=,\n            handler(money);\n        } else {\n            //\n            if (nextLeader != null) {\n                nextLeader.handlerRequest(money);\n            }\n        }\n\n    }\n\n    /**\n     * \n     *\n     * @return \n     */\n    public abstract int getSelfLimit();\n\n    /**\n     * \n     *\n     * @param money \n     */\n    public abstract void handler(int money);\n\n\n    public void setNextLeader(Leader nextLeader) {\n        this.nextLeader = nextLeader;\n    }\n\n    public Leader getNextLeader() {\n        return nextLeader;\n    }\n}\n```\n\n- nextLeader****setget\n- handlerRequest(int money)finalmoney\n- getSelfLimit()\n- handler(int money)\n\n\n\n```\npublic class LeaderGroup extends Leader {\n\n    /**\n     * @return \n     */\n    @Override\n    public int getSelfLimit() {\n        return 500;\n    }\n\n    /**\n     *  <= getSelfLimit() \n     *\n     * @param money \n     */\n    @Override\n    public void handler(int money) {\n        Toast.makeText(App.context, \":\" + money, Toast.LENGTH_SHORT).show();\n    }\n}\n```\n\n\n\n```\npublic class LeaderGeneral extends Leader {\n\n    /**\n     * @return \n     */\n    @Override\n    public int getSelfLimit() {\n        return 2000;\n    }\n\n\n    /**\n     *  <= getSelfLimit() \n     *\n     * @param money \n     */\n    @Override\n    public void handler(int money) {\n        Toast.makeText(App.context, \":\" + money, Toast.LENGTH_SHORT).show();\n    }\n}\n```\n\n```\npublic class LeaderCEO extends Leader {\n\n    /**\n     * @return \n     */\n    @Override\n    public int getSelfLimit() {\n        return Integer.MAX_VALUE;\n    }\n\n\n    /**\n     *  <= getSelfLimit() \n     *\n     * @param money \n     */\n    @Override\n    public void handler(int money) {\n        Toast.makeText(App.context, \":\" + money, Toast.LENGTH_SHORT).show();\n    }\n}\n```\n\n```\n//\nString money = et_money.getText().toString();\nif (TextUtils.isEmpty(money)) {\n    Toast.makeText(this, \"\", Toast.LENGTH_SHORT).show();\n    return;\n}\n//\nLeader group = new LeaderGroup();\n//\nLeader general = new LeaderGeneral();\n//CEO\nLeader CEO = new LeaderCEO();\n//\ngroup.setNextLeader(general);\n//CEO\ngeneral.setNextLeader(CEO);\n//\ngroup.handlerRequest(Integer.valueOf(money));\n```\n\n1. \n2. CEO\n3.  ->  ->  \n4. \n\n1000\n\nCEO\n```\nLeader group = new LeaderGroup();\nLeader CEO = new LeaderCEO();\n\ngroup.setNextLeader(CEO);\n\ngroup.handlerRequest(Integer.valueOf(money));\n```\n\n\n\n\n##  ##\n****\n\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n\n****\n\n\n\n##  ##\n\nAndroid  \n\n\n\n\n","source":"_posts/Design-Responsibility.md","raw":"---\ntitle: -\ndate: 2017-11-16 15:54:00\ntags:\n   - \n---\n##  ##\n****\n\n****\n\n\n\n************\n\n##  ##\n\n\n2450\n\n500\n\n24502000\n\n\n\n##  ##\n****\n\n\n\n\n\n****\n\n****\n- \n- \n\n##  ##\n****\n- (Handler)\n- (HandlerImpl)\n\n##  ##\n\n\n\n```\npublic abstract class Leader {\n    //\n    private Leader nextLeader;\n\n    /**\n     * \n     *\n     * @param money \n     */\n    public final void handlerRequest(int money) {\n        if (money <= getSelfLimit()) {\n            //<=,\n            handler(money);\n        } else {\n            //\n            if (nextLeader != null) {\n                nextLeader.handlerRequest(money);\n            }\n        }\n\n    }\n\n    /**\n     * \n     *\n     * @return \n     */\n    public abstract int getSelfLimit();\n\n    /**\n     * \n     *\n     * @param money \n     */\n    public abstract void handler(int money);\n\n\n    public void setNextLeader(Leader nextLeader) {\n        this.nextLeader = nextLeader;\n    }\n\n    public Leader getNextLeader() {\n        return nextLeader;\n    }\n}\n```\n\n- nextLeader****setget\n- handlerRequest(int money)finalmoney\n- getSelfLimit()\n- handler(int money)\n\n\n\n```\npublic class LeaderGroup extends Leader {\n\n    /**\n     * @return \n     */\n    @Override\n    public int getSelfLimit() {\n        return 500;\n    }\n\n    /**\n     *  <= getSelfLimit() \n     *\n     * @param money \n     */\n    @Override\n    public void handler(int money) {\n        Toast.makeText(App.context, \":\" + money, Toast.LENGTH_SHORT).show();\n    }\n}\n```\n\n\n\n```\npublic class LeaderGeneral extends Leader {\n\n    /**\n     * @return \n     */\n    @Override\n    public int getSelfLimit() {\n        return 2000;\n    }\n\n\n    /**\n     *  <= getSelfLimit() \n     *\n     * @param money \n     */\n    @Override\n    public void handler(int money) {\n        Toast.makeText(App.context, \":\" + money, Toast.LENGTH_SHORT).show();\n    }\n}\n```\n\n```\npublic class LeaderCEO extends Leader {\n\n    /**\n     * @return \n     */\n    @Override\n    public int getSelfLimit() {\n        return Integer.MAX_VALUE;\n    }\n\n\n    /**\n     *  <= getSelfLimit() \n     *\n     * @param money \n     */\n    @Override\n    public void handler(int money) {\n        Toast.makeText(App.context, \":\" + money, Toast.LENGTH_SHORT).show();\n    }\n}\n```\n\n```\n//\nString money = et_money.getText().toString();\nif (TextUtils.isEmpty(money)) {\n    Toast.makeText(this, \"\", Toast.LENGTH_SHORT).show();\n    return;\n}\n//\nLeader group = new LeaderGroup();\n//\nLeader general = new LeaderGeneral();\n//CEO\nLeader CEO = new LeaderCEO();\n//\ngroup.setNextLeader(general);\n//CEO\ngeneral.setNextLeader(CEO);\n//\ngroup.handlerRequest(Integer.valueOf(money));\n```\n\n1. \n2. CEO\n3.  ->  ->  \n4. \n\n1000\n\nCEO\n```\nLeader group = new LeaderGroup();\nLeader CEO = new LeaderCEO();\n\ngroup.setNextLeader(CEO);\n\ngroup.handlerRequest(Integer.valueOf(money));\n```\n\n\n\n\n##  ##\n****\n\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n\n****\n\n\n\n##  ##\n\nAndroid  \n\n\n\n\n","slug":"Design-Responsibility","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdwg000nhnnf99tj4x84","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<p><strong></strong><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>2450</p>\n<p>500</p>\n<p>24502000</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<p></p>\n<p></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<ul>\n<li>(Handler)</li>\n<li>(HandlerImpl)</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Leader</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Leader nextLeader;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handlerRequest</span><span class=\"params\">(<span class=\"keyword\">int</span> money)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (money &lt;= getSelfLimit()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//&lt;=,</span></span><br><span class=\"line\">            <span class=\"keyword\">handler</span>(money);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nextLeader != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                nextLeader.handlerRequest(money);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">getSelfLimit</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handler</span><span class=\"params\">(<span class=\"keyword\">int</span> money)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setNextLeader</span><span class=\"params\">(Leader nextLeader)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.nextLeader = nextLeader;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\">Leader <span class=\"title\">getNextLeader</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nextLeader;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ul>\n<li>nextLeader<strong></strong>setget</li>\n<li>handlerRequest(int money)finalmoney</li>\n<li>getSelfLimit()</li>\n<li>handler(int money)</li>\n</ul>\n<p><br><br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LeaderGroup</span> <span class=\"keyword\">extends</span> <span class=\"title\">Leader</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * @return </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public int getSelfLimit() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">500</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  &lt;= getSelfLimit() </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @param money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public void handler(int money) &#123;</span><br><span class=\"line\">        <span class=\"type\">Toast</span>.makeText(<span class=\"type\">App</span>.context, <span class=\"string\">\":\"</span> + money, <span class=\"type\">Toast</span>.<span class=\"type\">LENGTH_SHORT</span>).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><br><br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LeaderGeneral</span> <span class=\"keyword\">extends</span> <span class=\"title\">Leader</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * @return </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public int getSelfLimit() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2000</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  &lt;= getSelfLimit() </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @param money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public void handler(int money) &#123;</span><br><span class=\"line\">        <span class=\"type\">Toast</span>.makeText(<span class=\"type\">App</span>.context, <span class=\"string\">\":\"</span> + money, <span class=\"type\">Toast</span>.<span class=\"type\">LENGTH_SHORT</span>).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LeaderCEO</span> <span class=\"keyword\">extends</span> <span class=\"title\">Leader</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * @return </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public int getSelfLimit() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"type\">Integer</span>.<span class=\"type\">MAX_VALUE</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  &lt;= getSelfLimit() </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @param money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public void handler(int money) &#123;</span><br><span class=\"line\">        <span class=\"type\">Toast</span>.makeText(<span class=\"type\">App</span>.context, <span class=\"string\">\":\"</span> + money, <span class=\"type\">Toast</span>.<span class=\"type\">LENGTH_SHORT</span>).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">String money = et_money.<span class=\"keyword\">getText</span>().toString();</span><br><span class=\"line\"><span class=\"keyword\">if</span> (TextUtils.isEmpty(money)) &#123;</span><br><span class=\"line\">    Toast.makeText(<span class=\"keyword\">this</span>, <span class=\"string\">\"\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">Leader <span class=\"keyword\">group</span> = <span class=\"keyword\">new</span> LeaderGroup();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">Leader general = <span class=\"keyword\">new</span> LeaderGeneral();</span><br><span class=\"line\"><span class=\"comment\">//CEO</span></span><br><span class=\"line\">Leader CEO = <span class=\"keyword\">new</span> LeaderCEO();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">group</span>.setNextLeader(general);</span><br><span class=\"line\"><span class=\"comment\">//CEO</span></span><br><span class=\"line\">general.setNextLeader(CEO);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">group</span>.handlerRequest(Integer.valueOf(money));</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ol>\n<li></li>\n<li>CEO</li>\n<li> -&gt;  -&gt;  </li>\n<li></li>\n</ol>\n<p>1000</p>\n<p>CEO<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Leader<span class=\"built_in\"> group </span>= new LeaderGroup();</span><br><span class=\"line\">Leader CEO = new LeaderCEO();</span><br><span class=\"line\"></span><br><span class=\"line\">group.setNextLeader(CEO);</span><br><span class=\"line\"></span><br><span class=\"line\">group.handlerRequest(Integer.valueOf(money));</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<p><strong></strong></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<p><strong></strong><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>2450</p>\n<p>500</p>\n<p>24502000</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<p></p>\n<p></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<ul>\n<li>(Handler)</li>\n<li>(HandlerImpl)</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><br><figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Leader</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Leader nextLeader;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">final</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handlerRequest</span><span class=\"params\">(<span class=\"keyword\">int</span> money)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (money &lt;= getSelfLimit()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//&lt;=,</span></span><br><span class=\"line\">            <span class=\"keyword\">handler</span>(money);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (nextLeader != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                nextLeader.handlerRequest(money);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@return</span> </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">getSelfLimit</span><span class=\"params\">()</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param</span> money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">handler</span><span class=\"params\">(<span class=\"keyword\">int</span> money)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setNextLeader</span><span class=\"params\">(Leader nextLeader)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.nextLeader = nextLeader;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\">Leader <span class=\"title\">getNextLeader</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> nextLeader;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ul>\n<li>nextLeader<strong></strong>setget</li>\n<li>handlerRequest(int money)finalmoney</li>\n<li>getSelfLimit()</li>\n<li>handler(int money)</li>\n</ul>\n<p><br><br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LeaderGroup</span> <span class=\"keyword\">extends</span> <span class=\"title\">Leader</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * @return </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public int getSelfLimit() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">500</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  &lt;= getSelfLimit() </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @param money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public void handler(int money) &#123;</span><br><span class=\"line\">        <span class=\"type\">Toast</span>.makeText(<span class=\"type\">App</span>.context, <span class=\"string\">\":\"</span> + money, <span class=\"type\">Toast</span>.<span class=\"type\">LENGTH_SHORT</span>).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><br><br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LeaderGeneral</span> <span class=\"keyword\">extends</span> <span class=\"title\">Leader</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * @return </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public int getSelfLimit() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">2000</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  &lt;= getSelfLimit() </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @param money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public void handler(int money) &#123;</span><br><span class=\"line\">        <span class=\"type\">Toast</span>.makeText(<span class=\"type\">App</span>.context, <span class=\"string\">\":\"</span> + money, <span class=\"type\">Toast</span>.<span class=\"type\">LENGTH_SHORT</span>).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LeaderCEO</span> <span class=\"keyword\">extends</span> <span class=\"title\">Leader</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * @return </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public int getSelfLimit() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"type\">Integer</span>.<span class=\"type\">MAX_VALUE</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     *  &lt;= getSelfLimit() </span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @param money </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    public void handler(int money) &#123;</span><br><span class=\"line\">        <span class=\"type\">Toast</span>.makeText(<span class=\"type\">App</span>.context, <span class=\"string\">\":\"</span> + money, <span class=\"type\">Toast</span>.<span class=\"type\">LENGTH_SHORT</span>).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">String money = et_money.<span class=\"keyword\">getText</span>().toString();</span><br><span class=\"line\"><span class=\"keyword\">if</span> (TextUtils.isEmpty(money)) &#123;</span><br><span class=\"line\">    Toast.makeText(<span class=\"keyword\">this</span>, <span class=\"string\">\"\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    <span class=\"keyword\">return</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">Leader <span class=\"keyword\">group</span> = <span class=\"keyword\">new</span> LeaderGroup();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\">Leader general = <span class=\"keyword\">new</span> LeaderGeneral();</span><br><span class=\"line\"><span class=\"comment\">//CEO</span></span><br><span class=\"line\">Leader CEO = <span class=\"keyword\">new</span> LeaderCEO();</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">group</span>.setNextLeader(general);</span><br><span class=\"line\"><span class=\"comment\">//CEO</span></span><br><span class=\"line\">general.setNextLeader(CEO);</span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">group</span>.handlerRequest(Integer.valueOf(money));</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<ol>\n<li></li>\n<li>CEO</li>\n<li> -&gt;  -&gt;  </li>\n<li></li>\n</ol>\n<p>1000</p>\n<p>CEO<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Leader<span class=\"built_in\"> group </span>= new LeaderGroup();</span><br><span class=\"line\">Leader CEO = new LeaderCEO();</span><br><span class=\"line\"></span><br><span class=\"line\">group.setNextLeader(CEO);</span><br><span class=\"line\"></span><br><span class=\"line\">group.handlerRequest(Integer.valueOf(money));</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong></p>\n<p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<p><strong></strong></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n"},{"title":"-","date":"2017-05-27T02:45:14.000Z","_content":"##  ##\n\n\n****\nIO\n##  ##\n1. `private`\n2. \n3. \n\n##  ##\n\n\n1. \n\n    ```\npublic class  {\n    //\n    private static final  ourInstance = new ();\n    //\n    public static  getInstance() {\n        return ourInstance;\n    }\n    //new\n    private () {\n    }\n}\n    ```\n AndroidStudio\n![](http://7xvzby.com1.z0.glb.clouddn.com/design_single_01.png)\n \n\n\n\n2. \n    ```\npublic class  {\n    //\n    private static  ourInstance;\n\n    //\n    private () {\n\n    }\n\n    //\n    public static  getInstance() {\n        //null\n        if (ourInstance == null) {\n            ourInstance = new ();\n        }\n        return ourInstance;\n    }\n}\n    ```\n \n \n \n ****\n[Demo](https://github.com/YuanTiger/Design-Pattern)\n\n    ```\n//\npublic static synchronized  getInstance() {\n     //null\n        if (ourInstance == null) {\n            ourInstance = new ();\n        }\n         return ourInstance;\n}\n    ```\n `synchronized`\n10`.getInstance()`1212\n\n****\n    ```\npublic static  getInstance() {\n    if (ourInstance == null) {\n        synchronized (new Object()) {\n            if (ourInstance == null) {\n                ourInstance = new ()\n            }\n        }\n    }\n    return ourInstance;\n}\n    ```\n \n ****\n\t```\nourInstance == null\n\t```\n \n \n `synchronized`\n \t```\nourInstance = new ()\n\t```\n **if**\n****\n****\n****\n\nJVM****\n ![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/heirenwenhao_2.jpg)\n ****JVM\nJVM****\n****\n\t```\nourInstance = new ();\n\t```\n JVM\n  1`ourInstance`\n  2\n  3`ourInstance`JVM`ourInstance`null\nJVM****JVM\n1-2-31-3-2\n1-2-31-3-2\n\n\nx1-3-23`ourInstance`2yy`ourInstance`null`ourInstance`\n`volatile`\n    ```\npublic class  {\n    //\n    //volatile\n    private volatile  static  ourInstance;\n\n    //\n    private () {\n\n    }\n\n    //\n    public static  getInstance() {\n        //null\n        if (ourInstance == null) {\n            synchronized (new Object()) {\n                if (ourInstance == null) {\n                    ourInstance = new ();\n                }\n            }\n        }\n        return ourInstance;\n    }\n    ```\n `volatile`JVM****\n \n3. Enum\n    ```\n public enum  {\n\n    INSTANCE;\n    \n    public String getUrl(){\n        return \"http://www.baidu.com\";\n    }\n}\n    ```\n \n    ```\n    String url = .INSTANCE.getUrl();\n    ```\n \n\n\n \n##  ##\n\n\n\n\n- ****\n- ****\n- ****\n##\n##  ##\n[Jark's Blog-\n](http://wuchong.me/blog/2014/08/28/how-to-correctly-write-singleton-pattern/)\nAndroid  ","source":"_posts/Design-Single.md","raw":"---\ntitle: -\ndate: 2017-05-27 10:45:14\ntags:\n   - \n---\n##  ##\n\n\n****\nIO\n##  ##\n1. `private`\n2. \n3. \n\n##  ##\n\n\n1. \n\n    ```\npublic class  {\n    //\n    private static final  ourInstance = new ();\n    //\n    public static  getInstance() {\n        return ourInstance;\n    }\n    //new\n    private () {\n    }\n}\n    ```\n AndroidStudio\n![](http://7xvzby.com1.z0.glb.clouddn.com/design_single_01.png)\n \n\n\n\n2. \n    ```\npublic class  {\n    //\n    private static  ourInstance;\n\n    //\n    private () {\n\n    }\n\n    //\n    public static  getInstance() {\n        //null\n        if (ourInstance == null) {\n            ourInstance = new ();\n        }\n        return ourInstance;\n    }\n}\n    ```\n \n \n \n ****\n[Demo](https://github.com/YuanTiger/Design-Pattern)\n\n    ```\n//\npublic static synchronized  getInstance() {\n     //null\n        if (ourInstance == null) {\n            ourInstance = new ();\n        }\n         return ourInstance;\n}\n    ```\n `synchronized`\n10`.getInstance()`1212\n\n****\n    ```\npublic static  getInstance() {\n    if (ourInstance == null) {\n        synchronized (new Object()) {\n            if (ourInstance == null) {\n                ourInstance = new ()\n            }\n        }\n    }\n    return ourInstance;\n}\n    ```\n \n ****\n\t```\nourInstance == null\n\t```\n \n \n `synchronized`\n \t```\nourInstance = new ()\n\t```\n **if**\n****\n****\n****\n\nJVM****\n ![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/heirenwenhao_2.jpg)\n ****JVM\nJVM****\n****\n\t```\nourInstance = new ();\n\t```\n JVM\n  1`ourInstance`\n  2\n  3`ourInstance`JVM`ourInstance`null\nJVM****JVM\n1-2-31-3-2\n1-2-31-3-2\n\n\nx1-3-23`ourInstance`2yy`ourInstance`null`ourInstance`\n`volatile`\n    ```\npublic class  {\n    //\n    //volatile\n    private volatile  static  ourInstance;\n\n    //\n    private () {\n\n    }\n\n    //\n    public static  getInstance() {\n        //null\n        if (ourInstance == null) {\n            synchronized (new Object()) {\n                if (ourInstance == null) {\n                    ourInstance = new ();\n                }\n            }\n        }\n        return ourInstance;\n    }\n    ```\n `volatile`JVM****\n \n3. Enum\n    ```\n public enum  {\n\n    INSTANCE;\n    \n    public String getUrl(){\n        return \"http://www.baidu.com\";\n    }\n}\n    ```\n \n    ```\n    String url = .INSTANCE.getUrl();\n    ```\n \n\n\n \n##  ##\n\n\n\n\n- ****\n- ****\n- ****\n##\n##  ##\n[Jark's Blog-\n](http://wuchong.me/blog/2014/08/28/how-to-correctly-write-singleton-pattern/)\nAndroid  ","slug":"Design-Single","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdwj000phnnfsooinq9b","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><strong></strong><br>IO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><code>private</code></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<ol>\n<li><p></p>\n <figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span>  </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span>  ourInstance = <span class=\"keyword\">new</span> ();</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span>  getInstance() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//new</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> () &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>AndroidStudio<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/design_single_01.png\" alt=\"\"><br><br><br></p>\n</li>\n<li><p></p>\n <figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span>  </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span>  ourInstance;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span>  getInstance() &#123;</span><br><span class=\"line\">        <span class=\"comment\">//null</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            ourInstance = <span class=\"keyword\">new</span> <span class=\"type\"></span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><br><br><strong></strong><br><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">Demo</a><br></p>\n <figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">synchronized</span>  getInstance() &#123;</span><br><span class=\"line\">     <span class=\"comment\">//null</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ourInstance == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            ourInstance = <span class=\"keyword\">new</span> ();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>synchronized</code><br>10<code>.getInstance()</code>1212<br><br><strong></strong></p>\n <figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span>  getInstance() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        synchronized (<span class=\"keyword\">new</span> <span class=\"type\">Object</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                ourInstance = <span class=\"keyword\">new</span> <span class=\"type\"></span>()</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><strong></strong></p>\n <figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">ourInstance</span> == null</span><br></pre></td></tr></table></figure>\n<p><br><br><code>synchronized</code></p>\n  <figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ourInstance = <span class=\"keyword\">new</span> <span class=\"type\"></span>()</span><br></pre></td></tr></table></figure>\n<p><strong>if</strong><br><strong></strong><br><strong></strong><br><strong></strong><br><br>JVM<strong></strong><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/heirenwenhao_2.jpg\" alt=\"\"><br><strong></strong>JVM<br>JVM<strong></strong><br><strong></strong></p>\n <figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">ourInstance</span> = new ()<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure>\n<p>JVM<br>1<code>ourInstance</code><br>2<br>3<code>ourInstance</code>JVM<code>ourInstance</code>null<br>JVM<strong></strong>JVM<br>1-2-31-3-2<br>1-2-31-3-2<br><br><br>x1-3-23<code>ourInstance</code>2yy<code>ourInstance</code>null<code>ourInstance</code><br><code>volatile</code></p>\n <figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span>  &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">//volatile</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span>  <span class=\"keyword\">static</span>  ourInstance;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span>  getInstance() &#123;</span><br><span class=\"line\">        <span class=\"comment\">//null</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">synchronized</span> (<span class=\"keyword\">new</span> Object()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                    ourInstance = <span class=\"keyword\">new</span> ();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p><code>volatile</code>JVM<strong></strong></p>\n</li>\n<li><p>Enum</p>\n <figure class=\"highlight crystal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> public <span class=\"class\"><span class=\"keyword\">enum</span>  &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    INSTANCE;</span><br><span class=\"line\">    </span><br><span class=\"line\">    public String getUrl()&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"http://www.baidu.com\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n <figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">String url</span> = .INSTANCE.getUrl();</span><br></pre></td></tr></table></figure>\n<p><br><br></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><br></p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong><br>##<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><a href=\"http://wuchong.me/blog/2014/08/28/how-to-correctly-write-singleton-pattern/\" target=\"_blank\" rel=\"noopener\">Jarks Blog-\n</a><br>Android  </li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><strong></strong><br>IO</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><code>private</code></li>\n<li></li>\n<li></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<ol>\n<li><p></p>\n <figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span>  </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span>  ourInstance = <span class=\"keyword\">new</span> ();</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span>  getInstance() &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//new</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> () &#123;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>AndroidStudio<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/design_single_01.png\" alt=\"\"><br><br><br></p>\n</li>\n<li><p></p>\n <figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span>  </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span>  ourInstance;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span>  getInstance() &#123;</span><br><span class=\"line\">        <span class=\"comment\">//null</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            ourInstance = <span class=\"keyword\">new</span> <span class=\"type\"></span>();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><br><br><strong></strong><br><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">Demo</a><br></p>\n <figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">synchronized</span>  getInstance() &#123;</span><br><span class=\"line\">     <span class=\"comment\">//null</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ourInstance == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            ourInstance = <span class=\"keyword\">new</span> ();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>synchronized</code><br>10<code>.getInstance()</code>1212<br><br><strong></strong></p>\n <figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span>  getInstance() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        synchronized (<span class=\"keyword\">new</span> <span class=\"type\">Object</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                ourInstance = <span class=\"keyword\">new</span> <span class=\"type\"></span>()</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><strong></strong></p>\n <figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">ourInstance</span> == null</span><br></pre></td></tr></table></figure>\n<p><br><br><code>synchronized</code></p>\n  <figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ourInstance = <span class=\"keyword\">new</span> <span class=\"type\"></span>()</span><br></pre></td></tr></table></figure>\n<p><strong>if</strong><br><strong></strong><br><strong></strong><br><strong></strong><br><br>JVM<strong></strong><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/heirenwenhao_2.jpg\" alt=\"\"><br><strong></strong>JVM<br>JVM<strong></strong><br><strong></strong></p>\n <figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">ourInstance</span> = new ()<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure>\n<p>JVM<br>1<code>ourInstance</code><br>2<br>3<code>ourInstance</code>JVM<code>ourInstance</code>null<br>JVM<strong></strong>JVM<br>1-2-31-3-2<br>1-2-31-3-2<br><br><br>x1-3-23<code>ourInstance</code>2yy<code>ourInstance</code>null<code>ourInstance</code><br><code>volatile</code></p>\n <figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span>  &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"comment\">//volatile</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">volatile</span>  <span class=\"keyword\">static</span>  ourInstance;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span>  getInstance() &#123;</span><br><span class=\"line\">        <span class=\"comment\">//null</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">synchronized</span> (<span class=\"keyword\">new</span> Object()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (ourInstance == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">                    ourInstance = <span class=\"keyword\">new</span> ();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ourInstance;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p><code>volatile</code>JVM<strong></strong></p>\n</li>\n<li><p>Enum</p>\n <figure class=\"highlight crystal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> public <span class=\"class\"><span class=\"keyword\">enum</span>  &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    INSTANCE;</span><br><span class=\"line\">    </span><br><span class=\"line\">    public String getUrl()&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"http://www.baidu.com\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n <figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">String url</span> = .INSTANCE.getUrl();</span><br></pre></td></tr></table></figure>\n<p><br><br></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br><br></p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong><br>##<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><a href=\"http://wuchong.me/blog/2014/08/28/how-to-correctly-write-singleton-pattern/\" target=\"_blank\" rel=\"noopener\">Jarks Blog-\n</a><br>Android  </li>\n</ul>\n"},{"title":"-","date":"2017-11-14T08:39:52.000Z","_content":"##  ##\n****[](http://www.jianshu.com/p/5c1f67bc2d66)\n\n\n\n[](http://www.jianshu.com/p/5c1f67bc2d66)......\n\n********\n\n##  ##\n- \n- (ifswitch)\n\n##  ##\n- State\n- ConcreteStateAConcreteStateB\n\n##  ##\nApp()\n\n\n\n\n- \n- \n- \n- \n- \n\n\n1. \n   - \n   - \n   - \n   - \n   - \n2. \n   - \n   - \n   - \n   - ()\n   - \n\n****\n\n****\n\n****\n\n\n\n\n```\npublic interface UserState {\n\n    //\n    void login();\n\n    //\n    void logout();\n\n    //\n    void seeMoney();\n\n    //\n    void earnMoney();\n\n    //\n    void exchange();\n}\n\n```\n5\n\n\n\n\n\n\n```\npublic class LoginStateImpl implements UserState {\n    @Override\n    public void login() {\n        Toast.makeText(App.context, \"\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void logout() {\n\n        Toast.makeText(App.context, \"\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void seeMoney() {\n        Toast.makeText(App.context, \"100\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void earnMoney() {\n        Toast.makeText(App.context, \"-\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void exchange() {\n        Toast.makeText(App.context, \"-\", Toast.LENGTH_SHORT).show();\n    }\n}\n```\n5\n\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n\n\n```\n//\nprivate UserState userState = new LogutStateImpl();\n\n@Override\npublic void onClick(View view) {\n    switch (view.getId()) {\n        case R.id.bt_login://\n            userState.login();\n            //\n            userState = new LoginStateImpl();\n            break;\n        case R.id.bt_logout://\n            userState.logout();\n            userState = new LogutStateImpl();\n            break;\n        case R.id.bt_see_money://\n            userState.seeMoney();\n            break;\n        case R.id.bt_earn_money://\n            userState.earnMoney();\n            break;\n        case R.id.bt_exchange://\n            userState.exchange();\n            break;\n    }\n}\n```\n\n\n********\n\n##  ##\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n\n\n\n****\n\n****if-else\n\n****\n\nif-else****\n","source":"_posts/Design-State.md","raw":"---\ntitle: -\ndate: 2017-11-14 16:39:52\ntags:\n   - \n---\n##  ##\n****[](http://www.jianshu.com/p/5c1f67bc2d66)\n\n\n\n[](http://www.jianshu.com/p/5c1f67bc2d66)......\n\n********\n\n##  ##\n- \n- (ifswitch)\n\n##  ##\n- State\n- ConcreteStateAConcreteStateB\n\n##  ##\nApp()\n\n\n\n\n- \n- \n- \n- \n- \n\n\n1. \n   - \n   - \n   - \n   - \n   - \n2. \n   - \n   - \n   - \n   - ()\n   - \n\n****\n\n****\n\n****\n\n\n\n\n```\npublic interface UserState {\n\n    //\n    void login();\n\n    //\n    void logout();\n\n    //\n    void seeMoney();\n\n    //\n    void earnMoney();\n\n    //\n    void exchange();\n}\n\n```\n5\n\n\n\n\n\n\n```\npublic class LoginStateImpl implements UserState {\n    @Override\n    public void login() {\n        Toast.makeText(App.context, \"\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void logout() {\n\n        Toast.makeText(App.context, \"\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void seeMoney() {\n        Toast.makeText(App.context, \"100\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void earnMoney() {\n        Toast.makeText(App.context, \"-\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void exchange() {\n        Toast.makeText(App.context, \"-\", Toast.LENGTH_SHORT).show();\n    }\n}\n```\n5\n\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n\n\n```\n//\nprivate UserState userState = new LogutStateImpl();\n\n@Override\npublic void onClick(View view) {\n    switch (view.getId()) {\n        case R.id.bt_login://\n            userState.login();\n            //\n            userState = new LoginStateImpl();\n            break;\n        case R.id.bt_logout://\n            userState.logout();\n            userState = new LogutStateImpl();\n            break;\n        case R.id.bt_see_money://\n            userState.seeMoney();\n            break;\n        case R.id.bt_earn_money://\n            userState.earnMoney();\n            break;\n        case R.id.bt_exchange://\n            userState.exchange();\n            break;\n    }\n}\n```\n\n\n********\n\n##  ##\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n\n\n\n****\n\n****if-else\n\n****\n\nif-else****\n","slug":"Design-State","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdwl000rhnnfar9r8yga","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><a href=\"http://www.jianshu.com/p/5c1f67bc2d66\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p><a href=\"http://www.jianshu.com/p/5c1f67bc2d66\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li>(ifswitch)</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>State</li>\n<li>ConcreteStateAConcreteStateB</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>App()</p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ol>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li>()</li>\n<li></li>\n</ul>\n</li>\n</ol>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<p><br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">UserState</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">login</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">logout</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">seeMoney</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">earnMoney</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">exchange</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>5</p>\n<p></p>\n<p></p>\n<p><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LoginStateImpl</span> <span class=\"keyword\">implements</span> <span class=\"title\">UserState</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">login</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logout</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">seeMoney</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"100\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">earnMoney</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"-\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">exchange</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"-\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>5</p>\n<p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<p><br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> UserState userState = <span class=\"keyword\">new</span> LogutStateImpl();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> onClick(View view) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (view.getId()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_login:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.login();</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            userState = <span class=\"keyword\">new</span> LoginStateImpl();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_logout:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.logout();</span><br><span class=\"line\">            userState = <span class=\"keyword\">new</span> LogutStateImpl();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_see_money:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.seeMoney();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_earn_money:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.earnMoney();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_exchange:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.exchange();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<p></p>\n<p><strong></strong></p>\n<p><strong></strong>if-else</p>\n<p><strong></strong></p>\n<p>if-else<strong></strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong><a href=\"http://www.jianshu.com/p/5c1f67bc2d66\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p><a href=\"http://www.jianshu.com/p/5c1f67bc2d66\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li>(ifswitch)</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>State</li>\n<li>ConcreteStateAConcreteStateB</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>App()</p>\n<p></p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p></p>\n<ol>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><ul>\n<li></li>\n<li></li>\n<li></li>\n<li>()</li>\n<li></li>\n</ul>\n</li>\n</ol>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p></p>\n<p><br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">UserState</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">login</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">logout</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">seeMoney</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">earnMoney</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">exchange</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>5</p>\n<p></p>\n<p></p>\n<p><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LoginStateImpl</span> <span class=\"keyword\">implements</span> <span class=\"title\">UserState</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">login</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">logout</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">seeMoney</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"100\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">earnMoney</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"-\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">exchange</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        Toast.makeText(App.context, <span class=\"string\">\"-\"</span>, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>5</p>\n<p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<p><br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> UserState userState = <span class=\"keyword\">new</span> LogutStateImpl();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> onClick(View view) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (view.getId()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_login:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.login();</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            userState = <span class=\"keyword\">new</span> LoginStateImpl();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_logout:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.logout();</span><br><span class=\"line\">            userState = <span class=\"keyword\">new</span> LogutStateImpl();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_see_money:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.seeMoney();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_earn_money:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.earnMoney();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> R.id.<span class=\"string\">bt_exchange:</span><span class=\"comment\">//</span></span><br><span class=\"line\">            userState.exchange();</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<p></p>\n<p><strong></strong></p>\n<p><strong></strong>if-else</p>\n<p><strong></strong></p>\n<p>if-else<strong></strong></p>\n"},{"title":"-","date":"2017-08-02T09:15:00.000Z","_content":"##  ##\n\n\n\n\nif-else\n\n\n\nif-else\n\n[](http://www.jianshu.com/p/2c5826aa996c)\n\n\n\n****\n\n\n##  ##\n\n\n##  ##\n- \n- \n- if-elseswithc-case\n\n##  ##\n- Strategy\n- ConcreteStrategy\n\n##  ##\n20141228\n\n\n\n\n![UI](http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_ui.png)\nUI\n\n\n\n\n\n\n```\npublic class PriceCaculateController {\n\n    /**\n     * \n     */\n    public static float cacluatePrice(int km, int typeMode) {\n        switch (typeMode) {\n            case Constant.TYPE_BUS:\n                return caculateBusPrice(km);\n            case Constant.TYPE_SUBWAY:\n                return caculateSubwayPrice(km);\n            case Constant.TYPE_TAX:\n                return caculateTaxPrice(km);\n        }\n        return 0;\n    }\n\n    /**\n     * \n     * 3Km93km1km + 1\n     *\n     */\n    private static float caculateTaxPrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 3) {\n            return 9;\n        }\n        return 9 + (km - 3);\n    }\n\n    /**\n     * \n     * 5Km210km34\n     */\n    private static float caculateBusPrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 5) {\n            return 2;\n        }\n        if (km <= 10) {\n            return 3;\n        }\n        return 4;\n    }\n    /**\n     * \n     * 5Km310km415Km56\n     */\n    private static float caculateSubwayPrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 5) {\n            return 3;\n        }\n        if (km <= 10) {\n            return 4;\n        }\n        if (km <= 15) {\n            return 5;\n        }\n        return 6;\n    }\n}\n```\n`PriceCaculateController`\n\n`PriceCaculateController``cacluatePrice(int km, int typeMode)`\n\n\n```\nfloat price = PriceCaculateController.cacluatePrice(20,1);\n```\n\n\n`PriceCaculateController.cacluatePrice `\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_gif_ui.gif)\n\n\n\n`PriceCaculateController`\n\n`PriceCaculateController`\n\n`PriceCaculateController`****\n\n****\n\n****\n\n\n```\npublic interface StrategyCaculate {\n\n    /**\n     * \n     */\n    float caculatePrice(int km);\n}\n```\n\n\n\n(Bus):\n```\npublic class BusStrategyCaculate implements StrategyCaculate {\n    @Override\n    public float caculatePrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 5) {\n            return 2;\n        }\n        if (km <= 10) {\n            return 3;\n        }\n        return 4;\n    }\n}\n```\n(Tax):\n```\npublic class TaxStrategyCaculate implements StrategyCaculate {\n    @Override\n    public float caculatePrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 3) {\n            return 9;\n        }\n        return 9 + (km - 3);\n    }\n}\n```\n(Subway):\n```\npublic class SubwayStrategyCaculate implements StrategyCaculate {\n    @Override\n    public float caculatePrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 5) {\n            return 3;\n        }\n        if (km <= 10) {\n            return 4;\n        }\n        if (km <= 15) {\n            return 5;\n        }\n        return 6;\n    }\n}\n```\n\n\n\n\n\n```\nStrategyCaculate caculate = null;\nswitch (typeMode) {\n    case Constant.TYPE_BUS:\n        caculate = new BusStrategyCaculate();\n        break;\n    case Constant.TYPE_SUBWAY:\n        caculate = new SubwayStrategyCaculate();\n        break;\n    case Constant.TYPE_TAX:\n        caculate = new TaxStrategyCaculate();\n        break;\n}\nassert caculate != null;\nreturn caculate.caculatePrice(km);\n```\n\n\n\n\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n##  ##\n`PriceCaculateController`?\n\n\n\n\n\n3Km91Km120.111\n\n\n\n\n\n`PriceCaculateController`\n\n****\n![](http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_rule.png)\n`PriceCaculateController`\n\n****\n\n****\n- \n- \n- \n\n********\n\n##  ##\n\nAndroid  ","source":"_posts/Design-Strategy.md","raw":"---\ntitle: -\ndate: 2017-08-02 17:15:00\ntags:\n   - \n---\n##  ##\n\n\n\n\nif-else\n\n\n\nif-else\n\n[](http://www.jianshu.com/p/2c5826aa996c)\n\n\n\n****\n\n\n##  ##\n\n\n##  ##\n- \n- \n- if-elseswithc-case\n\n##  ##\n- Strategy\n- ConcreteStrategy\n\n##  ##\n20141228\n\n\n\n\n![UI](http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_ui.png)\nUI\n\n\n\n\n\n\n```\npublic class PriceCaculateController {\n\n    /**\n     * \n     */\n    public static float cacluatePrice(int km, int typeMode) {\n        switch (typeMode) {\n            case Constant.TYPE_BUS:\n                return caculateBusPrice(km);\n            case Constant.TYPE_SUBWAY:\n                return caculateSubwayPrice(km);\n            case Constant.TYPE_TAX:\n                return caculateTaxPrice(km);\n        }\n        return 0;\n    }\n\n    /**\n     * \n     * 3Km93km1km + 1\n     *\n     */\n    private static float caculateTaxPrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 3) {\n            return 9;\n        }\n        return 9 + (km - 3);\n    }\n\n    /**\n     * \n     * 5Km210km34\n     */\n    private static float caculateBusPrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 5) {\n            return 2;\n        }\n        if (km <= 10) {\n            return 3;\n        }\n        return 4;\n    }\n    /**\n     * \n     * 5Km310km415Km56\n     */\n    private static float caculateSubwayPrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 5) {\n            return 3;\n        }\n        if (km <= 10) {\n            return 4;\n        }\n        if (km <= 15) {\n            return 5;\n        }\n        return 6;\n    }\n}\n```\n`PriceCaculateController`\n\n`PriceCaculateController``cacluatePrice(int km, int typeMode)`\n\n\n```\nfloat price = PriceCaculateController.cacluatePrice(20,1);\n```\n\n\n`PriceCaculateController.cacluatePrice `\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_gif_ui.gif)\n\n\n\n`PriceCaculateController`\n\n`PriceCaculateController`\n\n`PriceCaculateController`****\n\n****\n\n****\n\n\n```\npublic interface StrategyCaculate {\n\n    /**\n     * \n     */\n    float caculatePrice(int km);\n}\n```\n\n\n\n(Bus):\n```\npublic class BusStrategyCaculate implements StrategyCaculate {\n    @Override\n    public float caculatePrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 5) {\n            return 2;\n        }\n        if (km <= 10) {\n            return 3;\n        }\n        return 4;\n    }\n}\n```\n(Tax):\n```\npublic class TaxStrategyCaculate implements StrategyCaculate {\n    @Override\n    public float caculatePrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 3) {\n            return 9;\n        }\n        return 9 + (km - 3);\n    }\n}\n```\n(Subway):\n```\npublic class SubwayStrategyCaculate implements StrategyCaculate {\n    @Override\n    public float caculatePrice(int km) {\n        if (km <= 0) {\n            return 0;\n        }\n        if (km <= 5) {\n            return 3;\n        }\n        if (km <= 10) {\n            return 4;\n        }\n        if (km <= 15) {\n            return 5;\n        }\n        return 6;\n    }\n}\n```\n\n\n\n\n\n```\nStrategyCaculate caculate = null;\nswitch (typeMode) {\n    case Constant.TYPE_BUS:\n        caculate = new BusStrategyCaculate();\n        break;\n    case Constant.TYPE_SUBWAY:\n        caculate = new SubwayStrategyCaculate();\n        break;\n    case Constant.TYPE_TAX:\n        caculate = new TaxStrategyCaculate();\n        break;\n}\nassert caculate != null;\nreturn caculate.caculatePrice(km);\n```\n\n\n\n\n[GitHub](https://github.com/YuanTiger/Design-Pattern)\n##  ##\n`PriceCaculateController`?\n\n\n\n\n\n3Km91Km120.111\n\n\n\n\n\n`PriceCaculateController`\n\n****\n![](http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_rule.png)\n`PriceCaculateController`\n\n****\n\n****\n- \n- \n- \n\n********\n\n##  ##\n\nAndroid  ","slug":"Design-Strategy","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdwn000uhnnfjobck834","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p>if-else</p>\n<p></p>\n<p>if-else</p>\n<p><a href=\"http://www.jianshu.com/p/2c5826aa996c\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li>if-elseswithc-case</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>Strategy</li>\n<li>ConcreteStrategy</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>20141228</p>\n<p></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_ui.png\" alt=\"UI\"><br>UI</p>\n<p></p>\n<p></p>\n<p><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PriceCaculateController</span> &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">float</span> <span class=\"title\">cacluatePrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km, <span class=\"keyword\">int</span> typeMode)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (typeMode) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> Constant.TYPE_BUS:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> caculateBusPrice(km);</span><br><span class=\"line\">            <span class=\"keyword\">case</span> Constant.TYPE_SUBWAY:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> caculateSubwayPrice(km);</span><br><span class=\"line\">            <span class=\"keyword\">case</span> Constant.TYPE_TAX:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> caculateTaxPrice(km);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * 3Km93km1km + 1</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">float</span> <span class=\"title\">caculateTaxPrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">9</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">9</span> + (km - <span class=\"number\">3</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * 5Km210km34</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">float</span> <span class=\"title\">caculateBusPrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * 5Km310km415Km56</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">float</span> <span class=\"title\">caculateSubwayPrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">15</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">6</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>PriceCaculateController</code></p>\n<p><code>PriceCaculateController</code><code>cacluatePrice(int km, int typeMode)</code></p>\n<p><br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">float</span> price = PriceCaculateController.cacluatePrice(<span class=\"number\">20</span>,<span class=\"number\">1</span>);</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><code>PriceCaculateController.cacluatePrice</code></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_gif_ui.gif\" alt=\"\"></p>\n<p></p>\n<p><code>PriceCaculateController</code></p>\n<p><code>PriceCaculateController</code></p>\n<p><code>PriceCaculateController</code><strong></strong></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p><br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">StrategyCaculate</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">float</span> <span class=\"title\">caculatePrice</span>(<span class=\"params\"><span class=\"keyword\">int</span> km</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><br>(Bus):<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BusStrategyCaculate</span> <span class=\"keyword\">implements</span> <span class=\"title\">StrategyCaculate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">float</span> <span class=\"title\">caculatePrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>(Tax):<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TaxStrategyCaculate</span> <span class=\"keyword\">implements</span> <span class=\"title\">StrategyCaculate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">float</span> <span class=\"title\">caculatePrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">9</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">9</span> + (km - <span class=\"number\">3</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>(Subway):<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SubwayStrategyCaculate</span> <span class=\"keyword\">implements</span> <span class=\"title\">StrategyCaculate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">float</span> <span class=\"title\">caculatePrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">15</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">6</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p></p>\n<p><br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">StrategyCaculate caculate = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">switch</span> (typeMode) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> Constant.<span class=\"string\">TYPE_BUS:</span></span><br><span class=\"line\">        caculate = <span class=\"keyword\">new</span> BusStrategyCaculate();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> Constant.<span class=\"string\">TYPE_SUBWAY:</span></span><br><span class=\"line\">        caculate = <span class=\"keyword\">new</span> SubwayStrategyCaculate();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> Constant.<span class=\"string\">TYPE_TAX:</span></span><br><span class=\"line\">        caculate = <span class=\"keyword\">new</span> TaxStrategyCaculate();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">assert</span> caculate != <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">return</span> caculate.caculatePrice(km);</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p></p>\n<p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>PriceCaculateController</code>?</p>\n<p></p>\n<p></p>\n<p>3Km91Km120.111</p>\n<p></p>\n<p></p>\n<p><code>PriceCaculateController</code></p>\n<p><strong></strong><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_rule.png\" alt=\"\"><br><code>PriceCaculateController</code></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p>if-else</p>\n<p></p>\n<p>if-else</p>\n<p><a href=\"http://www.jianshu.com/p/2c5826aa996c\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li>if-elseswithc-case</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>Strategy</li>\n<li>ConcreteStrategy</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>20141228</p>\n<p></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_ui.png\" alt=\"UI\"><br>UI</p>\n<p></p>\n<p></p>\n<p><br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PriceCaculateController</span> &#123;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">float</span> <span class=\"title\">cacluatePrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km, <span class=\"keyword\">int</span> typeMode)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">switch</span> (typeMode) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">case</span> Constant.TYPE_BUS:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> caculateBusPrice(km);</span><br><span class=\"line\">            <span class=\"keyword\">case</span> Constant.TYPE_SUBWAY:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> caculateSubwayPrice(km);</span><br><span class=\"line\">            <span class=\"keyword\">case</span> Constant.TYPE_TAX:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> caculateTaxPrice(km);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * 3Km93km1km + 1</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">float</span> <span class=\"title\">caculateTaxPrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">9</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">9</span> + (km - <span class=\"number\">3</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * 5Km210km34</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">float</span> <span class=\"title\">caculateBusPrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * 5Km310km415Km56</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">float</span> <span class=\"title\">caculateSubwayPrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">15</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">6</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><code>PriceCaculateController</code></p>\n<p><code>PriceCaculateController</code><code>cacluatePrice(int km, int typeMode)</code></p>\n<p><br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">float</span> price = PriceCaculateController.cacluatePrice(<span class=\"number\">20</span>,<span class=\"number\">1</span>);</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><code>PriceCaculateController.cacluatePrice</code></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_gif_ui.gif\" alt=\"\"></p>\n<p></p>\n<p><code>PriceCaculateController</code></p>\n<p><code>PriceCaculateController</code></p>\n<p><code>PriceCaculateController</code><strong></strong></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p><br><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">StrategyCaculate</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">float</span> <span class=\"title\">caculatePrice</span>(<span class=\"params\"><span class=\"keyword\">int</span> km</span>)</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><br>(Bus):<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BusStrategyCaculate</span> <span class=\"keyword\">implements</span> <span class=\"title\">StrategyCaculate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">float</span> <span class=\"title\">caculatePrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>(Tax):<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TaxStrategyCaculate</span> <span class=\"keyword\">implements</span> <span class=\"title\">StrategyCaculate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">float</span> <span class=\"title\">caculatePrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">3</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">9</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">9</span> + (km - <span class=\"number\">3</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>(Subway):<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SubwayStrategyCaculate</span> <span class=\"keyword\">implements</span> <span class=\"title\">StrategyCaculate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">float</span> <span class=\"title\">caculatePrice</span><span class=\"params\">(<span class=\"keyword\">int</span> km)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">5</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">3</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">10</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (km &lt;= <span class=\"number\">15</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">6</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p></p>\n<p><br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">StrategyCaculate caculate = <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">switch</span> (typeMode) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> Constant.<span class=\"string\">TYPE_BUS:</span></span><br><span class=\"line\">        caculate = <span class=\"keyword\">new</span> BusStrategyCaculate();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> Constant.<span class=\"string\">TYPE_SUBWAY:</span></span><br><span class=\"line\">        caculate = <span class=\"keyword\">new</span> SubwayStrategyCaculate();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> Constant.<span class=\"string\">TYPE_TAX:</span></span><br><span class=\"line\">        caculate = <span class=\"keyword\">new</span> TaxStrategyCaculate();</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">assert</span> caculate != <span class=\"literal\">null</span>;</span><br><span class=\"line\"><span class=\"keyword\">return</span> caculate.caculatePrice(km);</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p></p>\n<p><a href=\"https://github.com/YuanTiger/Design-Pattern\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>PriceCaculateController</code>?</p>\n<p></p>\n<p></p>\n<p>3Km91Km120.111</p>\n<p></p>\n<p></p>\n<p><code>PriceCaculateController</code></p>\n<p><strong></strong><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/DesignModel/design_strategy_rule.png\" alt=\"\"><br><code>PriceCaculateController</code></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p><strong></strong><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Android  </p>\n"},{"title":"Google I/O 2017 Android","date":"2017-05-23T10:50:21.000Z","_content":"Google I/O 2017Android\nI/OAndroid\n[Google](http://developers.googleblog.cn/)\n\n## Android O ##\nAndroidAndroid O:\n[Android O](https://www.google.com/android/beta?pli=1)\n[Android O](http://developers.googleblog.cn/2017/03/android-o-developer-preview.html)\n## Project Treble ## \nAndroidAndroidAndorid O\n## Android Go ## \n1GBAndroidAndroid512M\n## Kotlin ## \nGoogleAndroidGoogleAndroid[](https://www.kotlincn.net/docs/reference/)\n## AndroidStudio3.0 Canary ##\nAndroidStudio\n - \n - Kotlin\n - Gradle\n[](http://developers.googleblog.cn/2017/05/android-studio-30-canary-1.html)\n\n##  ##\n\nVRGoole AssistantGoogle Home\nAndroid,\n","source":"_posts/Google-IO-2017.md","raw":"---\ntitle: Google I/O 2017 Android\ndate: 2017-05-23 18:50:21\ntags:\n   - Google\n---\nGoogle I/O 2017Android\nI/OAndroid\n[Google](http://developers.googleblog.cn/)\n\n## Android O ##\nAndroidAndroid O:\n[Android O](https://www.google.com/android/beta?pli=1)\n[Android O](http://developers.googleblog.cn/2017/03/android-o-developer-preview.html)\n## Project Treble ## \nAndroidAndroidAndorid O\n## Android Go ## \n1GBAndroidAndroid512M\n## Kotlin ## \nGoogleAndroidGoogleAndroid[](https://www.kotlincn.net/docs/reference/)\n## AndroidStudio3.0 Canary ##\nAndroidStudio\n - \n - Kotlin\n - Gradle\n[](http://developers.googleblog.cn/2017/05/android-studio-30-canary-1.html)\n\n##  ##\n\nVRGoole AssistantGoogle Home\nAndroid,\n","slug":"Google-IO-2017","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdwr000whnnflmjfr1l9","content":"<p>Google I/O 2017Android<br>I/OAndroid<br><a href=\"http://developers.googleblog.cn/\" target=\"_blank\" rel=\"noopener\">Google</a></p>\n<h2 id=\"Android-O\"><a href=\"#Android-O\" class=\"headerlink\" title=\"Android O\"></a>Android O</h2><p>AndroidAndroid O:<br><a href=\"https://www.google.com/android/beta?pli=1\" target=\"_blank\" rel=\"noopener\">Android O</a><br><a href=\"http://developers.googleblog.cn/2017/03/android-o-developer-preview.html\" target=\"_blank\" rel=\"noopener\">Android O</a></p>\n<h2 id=\"Project-Treble\"><a href=\"#Project-Treble\" class=\"headerlink\" title=\"Project Treble\"></a>Project Treble</h2><p>AndroidAndroidAndorid O</p>\n<h2 id=\"Android-Go\"><a href=\"#Android-Go\" class=\"headerlink\" title=\"Android Go\"></a>Android Go</h2><p>1GBAndroidAndroid512M</p>\n<h2 id=\"Kotlin\"><a href=\"#Kotlin\" class=\"headerlink\" title=\"Kotlin\"></a>Kotlin</h2><p>GoogleAndroidGoogleAndroid<a href=\"https://www.kotlincn.net/docs/reference/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"AndroidStudio3-0-Canary\"><a href=\"#AndroidStudio3-0-Canary\" class=\"headerlink\" title=\"AndroidStudio3.0 Canary\"></a>AndroidStudio3.0 Canary</h2><p>AndroidStudio</p>\n<ul>\n<li></li>\n<li>Kotlin</li>\n<li>Gradle<br><a href=\"http://developers.googleblog.cn/2017/05/android-studio-30-canary-1.html\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>VRGoole AssistantGoogle Home<br>Android,<br></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Google I/O 2017Android<br>I/OAndroid<br><a href=\"http://developers.googleblog.cn/\" target=\"_blank\" rel=\"noopener\">Google</a></p>\n<h2 id=\"Android-O\"><a href=\"#Android-O\" class=\"headerlink\" title=\"Android O\"></a>Android O</h2><p>AndroidAndroid O:<br><a href=\"https://www.google.com/android/beta?pli=1\" target=\"_blank\" rel=\"noopener\">Android O</a><br><a href=\"http://developers.googleblog.cn/2017/03/android-o-developer-preview.html\" target=\"_blank\" rel=\"noopener\">Android O</a></p>\n<h2 id=\"Project-Treble\"><a href=\"#Project-Treble\" class=\"headerlink\" title=\"Project Treble\"></a>Project Treble</h2><p>AndroidAndroidAndorid O</p>\n<h2 id=\"Android-Go\"><a href=\"#Android-Go\" class=\"headerlink\" title=\"Android Go\"></a>Android Go</h2><p>1GBAndroidAndroid512M</p>\n<h2 id=\"Kotlin\"><a href=\"#Kotlin\" class=\"headerlink\" title=\"Kotlin\"></a>Kotlin</h2><p>GoogleAndroidGoogleAndroid<a href=\"https://www.kotlincn.net/docs/reference/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"AndroidStudio3-0-Canary\"><a href=\"#AndroidStudio3-0-Canary\" class=\"headerlink\" title=\"AndroidStudio3.0 Canary\"></a>AndroidStudio3.0 Canary</h2><p>AndroidStudio</p>\n<ul>\n<li></li>\n<li>Kotlin</li>\n<li>Gradle<br><a href=\"http://developers.googleblog.cn/2017/05/android-studio-30-canary-1.html\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br>VRGoole AssistantGoogle Home<br>Android,<br></p>\n"},{"title":"(0)-macOS","date":"2017-08-23T03:37:13.000Z","_content":"##  ##\n2\n\n\n\n[](https://mp.weixin.qq.com/s?__biz=MzA5MzI3NjE2MA==&mid=2650240867&idx=1&sn=d56fceac5b343ccc4a90cd422c490df0&chksm=8863860cbf140f1add1f86fab6267b28e0173350e571ac7192f9a794e2526cadf6dab765d8e2&scene=38#wechat_redirect)\n\nAndroid\n\n\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/drop_table.jpeg)\n\n2\n\nUbuntu 16.04 64\n\nUbuntu 16.04 64\n\n##  ##\n  :XshellXftp\n\nWindowsmacOS\n\nWindows[](https://mp.weixin.qq.com/s?__biz=MzA5MzI3NjE2MA==&mid=2650240867&idx=1&sn=d56fceac5b343ccc4a90cd422c490df0&chksm=8863860cbf140f1add1f86fab6267b28e0173350e571ac7192f9a794e2526cadf6dab765d8e2&scene=38#wechat_redirect)\n\nmacOS\n\n[](http://www.jcloud.com/help/detail/360/isCateLog/1)macOSVNCSSH\n#### VNC ####\nVNCWeb\n\n\n\nUbuntu 16.04 64root\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_0.png)\n\n- \n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_1.png)\n\nVNC\n\n- \n\n- VNC\n\n\n\n\n\n#### SSH ####\n[SSH](http://www.jcloud.com/help/detail/346/isCateLog/1)\n\nSSHVNCMac\n\nSSH\n\nSSH\n\n\n\nSSH\n\n![SSH](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_2.png)\n\nSSHSSH\n\n\n\nSSH\n\nSSHGitHub\n\nSSHSSH\n\nSSH[GitHub](https://help.github.com/articles/connecting-to-github-with-ssh/)\n\n SSH\n\n1.SSH\n```\nls -al ~/.ssh\n```\n\n```\nid_dsa.pub\nid_ecdsa.pub\nid_ed25519.pub\nid_rsa.pub\n```\n\n\n2.SSH\n```\n//E-mail\nssh-keygen -t rsa -b 4096 -C \"your_email@example.com\"\n```\nSSH\n\nSSH\n\nSSHSSHSSHSSH\n\n\n\n3.SSH\n```\npbcopy < ~/.ssh/id_rsa.pub\n```\nSSH\n\nSSH\n\nSSH\n\n![SSH](http://7xvzby.com1.z0.glb.clouddn.com/jd_server_use_3.png)\n\nOver\n\n4.SSH\nSSH\nMac\n```\nssh user@xxx.xxx.xxx.xxx\n```\nuserroot@IP\n```\nssh root@116.196.93.148\n```\n\n\n[](http://www.jcloud.com/help/detail/346/isCateLog/1)\n\n##  ##\napache2\n\napache2\n\n\n```\nsudo apt-get install apache2\n```\nY\n\nIP\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_4.png)\n\nhtml\n\n/var/www/html/index.html\n\nHtml\n\nhtml\n```\n<!Doctype html>\n<html>\n  <head>\n    <title></title>\n    <style>\n      body{text-align:center}\n    </style>\n  </head>\n  <body>\n    <h1></h1>\n    <p>\n      \n      <a href=\"http://guolin.tech\"></a>\n      \n    </p>\n  </body>\n</html>\n```\nindex.html\n\n,[mac](http://www.jianshu.com/p/1afd25e7459d)\n\n```\n//yourUsernamemac\n//Desktop\nput /Users/yourUsername/Desktop/index.html /var/www/html\n```\nindex.html\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_5.png)\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/drop_table.jpeg)\n\n\n\nMac.html\n\n[](https://www.zhihu.com/question/21887357)\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/jd_server_6.png)\n\nhead\n```\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n```\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_7.png)\n\n\n##  ##\n\n\n2\n\nLinuxSSH\n\n\n\n","source":"_posts/JD-Server-Use-Explain-0.md","raw":"---\ntitle: (0)-macOS\ndate: 2017-08-23 11:37:13\ntags:\n   - \n   - SSH\n---\n##  ##\n2\n\n\n\n[](https://mp.weixin.qq.com/s?__biz=MzA5MzI3NjE2MA==&mid=2650240867&idx=1&sn=d56fceac5b343ccc4a90cd422c490df0&chksm=8863860cbf140f1add1f86fab6267b28e0173350e571ac7192f9a794e2526cadf6dab765d8e2&scene=38#wechat_redirect)\n\nAndroid\n\n\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/drop_table.jpeg)\n\n2\n\nUbuntu 16.04 64\n\nUbuntu 16.04 64\n\n##  ##\n  :XshellXftp\n\nWindowsmacOS\n\nWindows[](https://mp.weixin.qq.com/s?__biz=MzA5MzI3NjE2MA==&mid=2650240867&idx=1&sn=d56fceac5b343ccc4a90cd422c490df0&chksm=8863860cbf140f1add1f86fab6267b28e0173350e571ac7192f9a794e2526cadf6dab765d8e2&scene=38#wechat_redirect)\n\nmacOS\n\n[](http://www.jcloud.com/help/detail/360/isCateLog/1)macOSVNCSSH\n#### VNC ####\nVNCWeb\n\n\n\nUbuntu 16.04 64root\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_0.png)\n\n- \n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_1.png)\n\nVNC\n\n- \n\n- VNC\n\n\n\n\n\n#### SSH ####\n[SSH](http://www.jcloud.com/help/detail/346/isCateLog/1)\n\nSSHVNCMac\n\nSSH\n\nSSH\n\n\n\nSSH\n\n![SSH](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_2.png)\n\nSSHSSH\n\n\n\nSSH\n\nSSHGitHub\n\nSSHSSH\n\nSSH[GitHub](https://help.github.com/articles/connecting-to-github-with-ssh/)\n\n SSH\n\n1.SSH\n```\nls -al ~/.ssh\n```\n\n```\nid_dsa.pub\nid_ecdsa.pub\nid_ed25519.pub\nid_rsa.pub\n```\n\n\n2.SSH\n```\n//E-mail\nssh-keygen -t rsa -b 4096 -C \"your_email@example.com\"\n```\nSSH\n\nSSH\n\nSSHSSHSSHSSH\n\n\n\n3.SSH\n```\npbcopy < ~/.ssh/id_rsa.pub\n```\nSSH\n\nSSH\n\nSSH\n\n![SSH](http://7xvzby.com1.z0.glb.clouddn.com/jd_server_use_3.png)\n\nOver\n\n4.SSH\nSSH\nMac\n```\nssh user@xxx.xxx.xxx.xxx\n```\nuserroot@IP\n```\nssh root@116.196.93.148\n```\n\n\n[](http://www.jcloud.com/help/detail/346/isCateLog/1)\n\n##  ##\napache2\n\napache2\n\n\n```\nsudo apt-get install apache2\n```\nY\n\nIP\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_4.png)\n\nhtml\n\n/var/www/html/index.html\n\nHtml\n\nhtml\n```\n<!Doctype html>\n<html>\n  <head>\n    <title></title>\n    <style>\n      body{text-align:center}\n    </style>\n  </head>\n  <body>\n    <h1></h1>\n    <p>\n      \n      <a href=\"http://guolin.tech\"></a>\n      \n    </p>\n  </body>\n</html>\n```\nindex.html\n\n,[mac](http://www.jianshu.com/p/1afd25e7459d)\n\n```\n//yourUsernamemac\n//Desktop\nput /Users/yourUsername/Desktop/index.html /var/www/html\n```\nindex.html\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_5.png)\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/drop_table.jpeg)\n\n\n\nMac.html\n\n[](https://www.zhihu.com/question/21887357)\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/jd_server_6.png)\n\nhead\n```\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n```\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_7.png)\n\n\n##  ##\n\n\n2\n\nLinuxSSH\n\n\n\n","slug":"JD-Server-Use-Explain-0","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdwu000yhnnfhftnadh1","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>2</p>\n<p></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=MzA5MzI3NjE2MA==&amp;mid=2650240867&amp;idx=1&amp;sn=d56fceac5b343ccc4a90cd422c490df0&amp;chksm=8863860cbf140f1add1f86fab6267b28e0173350e571ac7192f9a794e2526cadf6dab765d8e2&amp;scene=38#wechat_redirect\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>Android</p>\n<p></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/drop_table.jpeg\" alt=\"\"></p>\n<p>2</p>\n<p>Ubuntu 16.04 64</p>\n<p>Ubuntu 16.04 64</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  :XshellXftp</p>\n<p>WindowsmacOS</p>\n<p>Windows<a href=\"https://mp.weixin.qq.com/s?__biz=MzA5MzI3NjE2MA==&amp;mid=2650240867&amp;idx=1&amp;sn=d56fceac5b343ccc4a90cd422c490df0&amp;chksm=8863860cbf140f1add1f86fab6267b28e0173350e571ac7192f9a794e2526cadf6dab765d8e2&amp;scene=38#wechat_redirect\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>macOS</p>\n<p><a href=\"http://www.jcloud.com/help/detail/360/isCateLog/1\" target=\"_blank\" rel=\"noopener\"></a>macOSVNCSSH</p>\n<h4 id=\"VNC\"><a href=\"#VNC\" class=\"headerlink\" title=\"VNC\"></a>VNC</h4><p>VNCWeb</p>\n<p></p>\n<p>Ubuntu 16.04 64root<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_0.png\" alt=\"\"></p>\n<p>- </p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_1.png\" alt=\"\"></p>\n<p>VNC</p>\n<ul>\n<li><p></p>\n</li>\n<li><p>VNC</p>\n</li>\n</ul>\n<p></p>\n<p></p>\n<h4 id=\"SSH\"><a href=\"#SSH\" class=\"headerlink\" title=\"SSH\"></a>SSH</h4><p><a href=\"http://www.jcloud.com/help/detail/346/isCateLog/1\" target=\"_blank\" rel=\"noopener\">SSH</a></p>\n<p>SSHVNCMac</p>\n<p>SSH</p>\n<p>SSH</p>\n<p></p>\n<p>SSH</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_2.png\" alt=\"SSH\"></p>\n<p>SSHSSH</p>\n<p></p>\n<p>SSH</p>\n<p>SSHGitHub</p>\n<p>SSHSSH</p>\n<p>SSH<a href=\"https://help.github.com/articles/connecting-to-github-with-ssh/\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<p> SSH</p>\n<p>1.SSH<br><figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ls</span> -al ~<span class=\"string\">/.ssh</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">id_dsa.pub</span><br><span class=\"line\">id_ecdsa.pub</span><br><span class=\"line\">id_ed25519.pub</span><br><span class=\"line\">id_rsa.pub</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>2.SSH<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//E-mail</span></span><br><span class=\"line\">ssh-keygen -t rsa -<span class=\"selector-tag\">b</span> <span class=\"number\">4096</span> -C <span class=\"string\">\"your_email@example.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>SSH</p>\n<p>SSH</p>\n<p>SSHSSHSSHSSH</p>\n<p></p>\n<p>3.SSH<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pbcopy &lt; ~<span class=\"regexp\">/.ssh/i</span>d_rsa.pub</span><br></pre></td></tr></table></figure></p>\n<p>SSH</p>\n<p>SSH</p>\n<p>SSH</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd_server_use_3.png\" alt=\"SSH\"></p>\n<p>Over</p>\n<p>4.SSH<br>SSH<br>Mac<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">ssh</span> <span class=\"selector-tag\">user</span>@<span class=\"keyword\">xxx</span>.<span class=\"keyword\">xxx</span>.<span class=\"keyword\">xxx</span>.<span class=\"keyword\">xxx</span></span><br></pre></td></tr></table></figure></p>\n<p>userroot@IP<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">ssh</span> <span class=\"selector-tag\">root</span>@<span class=\"keyword\">116</span>.<span class=\"keyword\">196</span>.<span class=\"keyword\">93</span>.<span class=\"keyword\">148</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><a href=\"http://www.jcloud.com/help/detail/346/isCateLog/1\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>apache2</p>\n<p>apache2</p>\n<p><br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-<span class=\"builtin-name\">get</span> install apache2</span><br></pre></td></tr></table></figure></p>\n<p>Y</p>\n<p>IP<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_4.png\" alt=\"\"></p>\n<p>html</p>\n<p>/var/www/html/index.html</p>\n<p>Html</p>\n<p>html<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!Doctype html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\">      <span class=\"selector-tag\">body</span>&#123;<span class=\"attribute\">text-align</span>:center&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"http://guolin.tech\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">      </span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>index.html</p>\n<p>,<a href=\"http://www.jianshu.com/p/1afd25e7459d\" target=\"_blank\" rel=\"noopener\">mac</a><br><br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"regexp\">//</span>yourUsernamemac</span><br><span class=\"line\"><span class=\"regexp\">//</span>Desktop</span><br><span class=\"line\">put <span class=\"regexp\">/Users/y</span>ourUsername<span class=\"regexp\">/Desktop/i</span>ndex.html <span class=\"regexp\">/var/</span>www<span class=\"regexp\">/html</span></span><br></pre></td></tr></table></figure></p>\n<p>index.html<br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_5.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/drop_table.jpeg\" alt=\"\"></p>\n<p></p>\n<p>Mac.html</p>\n<p><a href=\"https://www.zhihu.com/question/21887357\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd_server_6.png\" alt=\"\"></p>\n<p>head<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta <span class=\"attribute\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attribute\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span> /&gt;</span><br></pre></td></tr></table></figure></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_7.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>2</p>\n<p>LinuxSSH</p>\n<p></p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>2</p>\n<p></p>\n<p><a href=\"https://mp.weixin.qq.com/s?__biz=MzA5MzI3NjE2MA==&amp;mid=2650240867&amp;idx=1&amp;sn=d56fceac5b343ccc4a90cd422c490df0&amp;chksm=8863860cbf140f1add1f86fab6267b28e0173350e571ac7192f9a794e2526cadf6dab765d8e2&amp;scene=38#wechat_redirect\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>Android</p>\n<p></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/drop_table.jpeg\" alt=\"\"></p>\n<p>2</p>\n<p>Ubuntu 16.04 64</p>\n<p>Ubuntu 16.04 64</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>  :XshellXftp</p>\n<p>WindowsmacOS</p>\n<p>Windows<a href=\"https://mp.weixin.qq.com/s?__biz=MzA5MzI3NjE2MA==&amp;mid=2650240867&amp;idx=1&amp;sn=d56fceac5b343ccc4a90cd422c490df0&amp;chksm=8863860cbf140f1add1f86fab6267b28e0173350e571ac7192f9a794e2526cadf6dab765d8e2&amp;scene=38#wechat_redirect\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p>macOS</p>\n<p><a href=\"http://www.jcloud.com/help/detail/360/isCateLog/1\" target=\"_blank\" rel=\"noopener\"></a>macOSVNCSSH</p>\n<h4 id=\"VNC\"><a href=\"#VNC\" class=\"headerlink\" title=\"VNC\"></a>VNC</h4><p>VNCWeb</p>\n<p></p>\n<p>Ubuntu 16.04 64root<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_0.png\" alt=\"\"></p>\n<p>- </p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_1.png\" alt=\"\"></p>\n<p>VNC</p>\n<ul>\n<li><p></p>\n</li>\n<li><p>VNC</p>\n</li>\n</ul>\n<p></p>\n<p></p>\n<h4 id=\"SSH\"><a href=\"#SSH\" class=\"headerlink\" title=\"SSH\"></a>SSH</h4><p><a href=\"http://www.jcloud.com/help/detail/346/isCateLog/1\" target=\"_blank\" rel=\"noopener\">SSH</a></p>\n<p>SSHVNCMac</p>\n<p>SSH</p>\n<p>SSH</p>\n<p></p>\n<p>SSH</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_2.png\" alt=\"SSH\"></p>\n<p>SSHSSH</p>\n<p></p>\n<p>SSH</p>\n<p>SSHGitHub</p>\n<p>SSHSSH</p>\n<p>SSH<a href=\"https://help.github.com/articles/connecting-to-github-with-ssh/\" target=\"_blank\" rel=\"noopener\">GitHub</a></p>\n<p> SSH</p>\n<p>1.SSH<br><figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ls</span> -al ~<span class=\"string\">/.ssh</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">id_dsa.pub</span><br><span class=\"line\">id_ecdsa.pub</span><br><span class=\"line\">id_ed25519.pub</span><br><span class=\"line\">id_rsa.pub</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>2.SSH<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//E-mail</span></span><br><span class=\"line\">ssh-keygen -t rsa -<span class=\"selector-tag\">b</span> <span class=\"number\">4096</span> -C <span class=\"string\">\"your_email@example.com\"</span></span><br></pre></td></tr></table></figure></p>\n<p>SSH</p>\n<p>SSH</p>\n<p>SSHSSHSSHSSH</p>\n<p></p>\n<p>3.SSH<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pbcopy &lt; ~<span class=\"regexp\">/.ssh/i</span>d_rsa.pub</span><br></pre></td></tr></table></figure></p>\n<p>SSH</p>\n<p>SSH</p>\n<p>SSH</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd_server_use_3.png\" alt=\"SSH\"></p>\n<p>Over</p>\n<p>4.SSH<br>SSH<br>Mac<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">ssh</span> <span class=\"selector-tag\">user</span>@<span class=\"keyword\">xxx</span>.<span class=\"keyword\">xxx</span>.<span class=\"keyword\">xxx</span>.<span class=\"keyword\">xxx</span></span><br></pre></td></tr></table></figure></p>\n<p>userroot@IP<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">ssh</span> <span class=\"selector-tag\">root</span>@<span class=\"keyword\">116</span>.<span class=\"keyword\">196</span>.<span class=\"keyword\">93</span>.<span class=\"keyword\">148</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><a href=\"http://www.jcloud.com/help/detail/346/isCateLog/1\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>apache2</p>\n<p>apache2</p>\n<p><br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-<span class=\"builtin-name\">get</span> install apache2</span><br></pre></td></tr></table></figure></p>\n<p>Y</p>\n<p>IP<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_4.png\" alt=\"\"></p>\n<p>html</p>\n<p>/var/www/html/index.html</p>\n<p>Html</p>\n<p>html<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!Doctype html&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"undefined\"></span></span><br><span class=\"line\"><span class=\"css\">      <span class=\"selector-tag\">body</span>&#123;<span class=\"attribute\">text-align</span>:center&#125;</span></span><br><span class=\"line\"><span class=\"undefined\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"http://guolin.tech\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">      </span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>index.html</p>\n<p>,<a href=\"http://www.jianshu.com/p/1afd25e7459d\" target=\"_blank\" rel=\"noopener\">mac</a><br><br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"regexp\">//</span>yourUsernamemac</span><br><span class=\"line\"><span class=\"regexp\">//</span>Desktop</span><br><span class=\"line\">put <span class=\"regexp\">/Users/y</span>ourUsername<span class=\"regexp\">/Desktop/i</span>ndex.html <span class=\"regexp\">/var/</span>www<span class=\"regexp\">/html</span></span><br></pre></td></tr></table></figure></p>\n<p>index.html<br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_5.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/drop_table.jpeg\" alt=\"\"></p>\n<p></p>\n<p>Mac.html</p>\n<p><a href=\"https://www.zhihu.com/question/21887357\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd_server_6.png\" alt=\"\"></p>\n<p>head<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;meta <span class=\"attribute\">http-equiv</span>=<span class=\"string\">\"Content-Type\"</span> <span class=\"attribute\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span> /&gt;</span><br></pre></td></tr></table></figure></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_7.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>2</p>\n<p>LinuxSSH</p>\n<p></p>\n<p></p>\n"},{"title":"Hello GitHub+Hexo","date":"2017-05-03T07:43:57.000Z","_content":"GitHub Page + Hexo[](http://jeasonstudio.github.io/)[](http://jeasonstudio.github.io/2016/05/26/Mac%E4%B8%8A%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EGitHub-Page%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2/)\n","source":"_posts/Hello_GitHub+Hexo.md","raw":"---\ntitle: Hello GitHub+Hexo\ndate: 2017-05-03 15:43:57\n---\nGitHub Page + Hexo[](http://jeasonstudio.github.io/)[](http://jeasonstudio.github.io/2016/05/26/Mac%E4%B8%8A%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EGitHub-Page%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2/)\n","slug":"Hello_GitHub+Hexo","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdwx0011hnnffeij37it","content":"<p>GitHub Page + Hexo<a href=\"http://jeasonstudio.github.io/\" target=\"_blank\" rel=\"noopener\"></a><a href=\"http://jeasonstudio.github.io/2016/05/26/Mac%E4%B8%8A%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EGitHub-Page%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2/\" target=\"_blank\" rel=\"noopener\"></a><br></p>\n","site":{"data":{}},"excerpt":"","more":"<p>GitHub Page + Hexo<a href=\"http://jeasonstudio.github.io/\" target=\"_blank\" rel=\"noopener\"></a><a href=\"http://jeasonstudio.github.io/2016/05/26/Mac%E4%B8%8A%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EGitHub-Page%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2/\" target=\"_blank\" rel=\"noopener\"></a><br></p>\n"},{"title":"(1)-Java+Tomcat","date":"2017-08-24T08:40:03.000Z","_content":"##  ##\n[](http://www.jianshu.com/p/7493b1b98c1c)\n\n\n\nJavaPHPNode.JSPython\n\nJava+Tomcat+IDEA\n\n\n\nUbuntu 16.04 64 [](http://www.jianshu.com/p/7493b1b98c1c)\n##  ##\n\n#### Java ####\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_1.png)\n\napache2\n```\nsudo apt-get remove apache2\n```\nJDK\n```\ncd /usr/local/\n```\nJDK\n```\nsudo wget http://download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.tar.gz\n```\nhttpJDK\n\n\n```\ntar -xvzf jdk-8u144-linux-x64.tar.gz\n```\n\n```\nrm jdk-8u144-linux-x64.tar.gz\n```\n\n```\nvim /etc/profile\n```\nVimLinux\n\n\n\n[vim](http://pizn.github.io/2012/03/03/vim-commonly-used-command.html)\n\n\n\nVim\n\n\n\n\n\n`vim /etc/profile`/etc/profile\n\nCtrl+F/D\n\ni/c/o\n```\nJAVA_HOME=/usr/local/jdk1.8.0_144\nJAVA_BIN=/usr/local/jdk1.8.0_144/bin\nJRE_HOME=/usr/local/jdk1.8.0_144/jre\nPATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin\nCLASSPATH=:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib\nexport JAVA_HOME JAVA_BIN JRE_HOME PATH CLASSPATH\n```\n\n\nEsc\n\nShift+\n\nwqVim\n\nJava\n```\nsource /etc/profile\n```\n\n```\njava -version\n```\n\n\n![Java](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_0.png)\n\n\n\nJDK\n\n#### Tomcat ####\n```\ncd /usr/local/\n```\nTomcat:\n```\nsudo wget http://archive.apache.org/dist/tomcat/tomcat-8/v8.5.20/bin/apache-tomcat-8.5.20.tar.gz\n```\nTomcat8.5.20[Tomcat](http://archive.apache.org/dist/tomcat)\n\n\n```\ntar zxvf apache-tomcat-8.5.20.tar.gz\n```\n\n```\nmv apache-tomcat-8.5.20 /usr/local/tomcat\n```\ncatalina.sh\n```\ncp -p /usr/local/tomcat/bin/catalina.sh /etc/init.d/tomcat\n```\n\n```\nvim /etc/init.d/tomcat\n```\n\n```\nJAVA_HOME=/usr/local/jdk1.8.0_144\nCATALINA_HOME=/usr/local/tomcat\n\nchmod 755 /etc/init.d/tomcat\nchkconfig --add tomcat\nchkconfig tomcat on\n```\nTomcat\n\nTomcat\n```\nservice tomcat start\n```\n\n```\nps -ef|grep tomcat\n```\n,\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_2.png)\n\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_1.png)\n\n\n\nIP://8080,\n```\n116.196.93.148:8080\n```\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_3.png)\n\n\n```\nvim /usr/local/tomcat/conf/server.xml\n```\nTomcat\n\n![server](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_4.png)\n\nport  80 \n\n\n\n![server](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_5.png)\n\nname\n\nwq\n\nTomcat\n```\nservice tomcat stop\nservice tomcat start\n```\n\n\nHost-name\n\n\n## HelloWeb ##\nWeb\n\n[IntelliJ IDEA](https://www.jetbrains.com/idea/download/#section=mac)\n\nUltimate\n\nCommunityWeb\n\nJavaTomcat\n\nHelloWorld\n\n[](http://www.cnblogs.com/carsonzhu/p/5468223.html)\n\n\n\nHelloWorld\n\n\n\n![localhost:8080](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_6.png)\n\n\n\nWarWarLinuxTomcat/webapps\n\nTomcatWar\n\n[Mac](http://www.jianshu.com/p/1afd25e7459d)\n\nWindowsXshell\n\nWar\n\n\n\n\n\n## Hello  ##\nLinuxTomcatbin\n```\n cd /usr/local/tomcat/bin/\n```\nVIM**catalina.sh**\n```\nvim catalina.sh\n```\n100`# OS specific support.  $var _must_ be set to either true or false.`\n```\nexport CATALINA_OPTS=\"-Dcom.sun.management.jmxremote \n-Dcom.sun.management.jmxremote.port=9999 \n-Dcom.sun.management.jmxremote.ssl=false \n-Dcom.sun.management.jmxremote.authenticate=false \n-Djava.rmi.server.hostname=116.196.93.148\"\n\nexport JAVA_OPTS=\"-Dcom.sun.management.jmxremote\n-Dcom.sun.management.jmxremote.port=9999\n-Dcom.sun.management.jmxremote.ssl=false\n-Dcom.sun.management.jmxremote.authenticate=false\"\n```\nhostnameIPportTomcat9999\n\nIP\n```\nuname -n\n```\n\n\nhosts\n```\n vim /etc/hosts\n```\n\n```\n127.0.1.1      \n::1     \n```\n\n\nTomcat\n```\nservice tomcat stop\n```\n\n```\nps -ef|grep tomcat\n```\n\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_2.png)\n\n\n```\n//port2392\nkill -9 port\n```\nTomcat**catalina.sh****startup.sh**Tomcat\n\n```\n//Tomcat/bin\n// > /dev/null 2>&1 &  \nsh catalina.sh run > /dev/null 2>&1 &\n```\n\n```\nps -ef|grep tomcat\n```\nLinux\n\nIDEAIDEA\n\nConfigurations\n\n![Configurations](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_7.png)\n\nTomcat\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use8.png)\n\nTomcat\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_9.png)\n\nSFTP\n\n![SFTP](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_10.png)\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_11.png)\n\nOKTomcat\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_12.png)\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_13.png)\n\n\n\nLog\n\n![Log](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_14.png)\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_15.png)\n\nIPLinux\n\nindex.jsp\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_16.png)\n\n\n\nIPIP\n\n\n##  ##\nIDEA+Tomcat+Java\n\n\n\n\n\n\n\n\n\n\n\n##  ##\n[JDK+Tomcat](http://wiki.jikexueyuan.com/project/linux/tomcat.html)\n\n[Mac](http://www.jianshu.com/p/1afd25e7459d)\n\n[ideatomcat](http://blog.csdn.net/tianjun2012/article/details/52795202)\n\n[Linux VIM](http://pizn.github.io/2012/03/03/vim-commonly-used-command.html)\n","source":"_posts/JD-Server-Use-Explain-1.md","raw":"---\ntitle: (1)-Java+Tomcat\ndate: 2017-08-24 16:40:03\ntags:\n   - \n   - SSH\n---\n##  ##\n[](http://www.jianshu.com/p/7493b1b98c1c)\n\n\n\nJavaPHPNode.JSPython\n\nJava+Tomcat+IDEA\n\n\n\nUbuntu 16.04 64 [](http://www.jianshu.com/p/7493b1b98c1c)\n##  ##\n\n#### Java ####\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_1.png)\n\napache2\n```\nsudo apt-get remove apache2\n```\nJDK\n```\ncd /usr/local/\n```\nJDK\n```\nsudo wget http://download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.tar.gz\n```\nhttpJDK\n\n\n```\ntar -xvzf jdk-8u144-linux-x64.tar.gz\n```\n\n```\nrm jdk-8u144-linux-x64.tar.gz\n```\n\n```\nvim /etc/profile\n```\nVimLinux\n\n\n\n[vim](http://pizn.github.io/2012/03/03/vim-commonly-used-command.html)\n\n\n\nVim\n\n\n\n\n\n`vim /etc/profile`/etc/profile\n\nCtrl+F/D\n\ni/c/o\n```\nJAVA_HOME=/usr/local/jdk1.8.0_144\nJAVA_BIN=/usr/local/jdk1.8.0_144/bin\nJRE_HOME=/usr/local/jdk1.8.0_144/jre\nPATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin\nCLASSPATH=:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib\nexport JAVA_HOME JAVA_BIN JRE_HOME PATH CLASSPATH\n```\n\n\nEsc\n\nShift+\n\nwqVim\n\nJava\n```\nsource /etc/profile\n```\n\n```\njava -version\n```\n\n\n![Java](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_0.png)\n\n\n\nJDK\n\n#### Tomcat ####\n```\ncd /usr/local/\n```\nTomcat:\n```\nsudo wget http://archive.apache.org/dist/tomcat/tomcat-8/v8.5.20/bin/apache-tomcat-8.5.20.tar.gz\n```\nTomcat8.5.20[Tomcat](http://archive.apache.org/dist/tomcat)\n\n\n```\ntar zxvf apache-tomcat-8.5.20.tar.gz\n```\n\n```\nmv apache-tomcat-8.5.20 /usr/local/tomcat\n```\ncatalina.sh\n```\ncp -p /usr/local/tomcat/bin/catalina.sh /etc/init.d/tomcat\n```\n\n```\nvim /etc/init.d/tomcat\n```\n\n```\nJAVA_HOME=/usr/local/jdk1.8.0_144\nCATALINA_HOME=/usr/local/tomcat\n\nchmod 755 /etc/init.d/tomcat\nchkconfig --add tomcat\nchkconfig tomcat on\n```\nTomcat\n\nTomcat\n```\nservice tomcat start\n```\n\n```\nps -ef|grep tomcat\n```\n,\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_2.png)\n\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_1.png)\n\n\n\nIP://8080,\n```\n116.196.93.148:8080\n```\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_3.png)\n\n\n```\nvim /usr/local/tomcat/conf/server.xml\n```\nTomcat\n\n![server](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_4.png)\n\nport  80 \n\n\n\n![server](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_5.png)\n\nname\n\nwq\n\nTomcat\n```\nservice tomcat stop\nservice tomcat start\n```\n\n\nHost-name\n\n\n## HelloWeb ##\nWeb\n\n[IntelliJ IDEA](https://www.jetbrains.com/idea/download/#section=mac)\n\nUltimate\n\nCommunityWeb\n\nJavaTomcat\n\nHelloWorld\n\n[](http://www.cnblogs.com/carsonzhu/p/5468223.html)\n\n\n\nHelloWorld\n\n\n\n![localhost:8080](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_6.png)\n\n\n\nWarWarLinuxTomcat/webapps\n\nTomcatWar\n\n[Mac](http://www.jianshu.com/p/1afd25e7459d)\n\nWindowsXshell\n\nWar\n\n\n\n\n\n## Hello  ##\nLinuxTomcatbin\n```\n cd /usr/local/tomcat/bin/\n```\nVIM**catalina.sh**\n```\nvim catalina.sh\n```\n100`# OS specific support.  $var _must_ be set to either true or false.`\n```\nexport CATALINA_OPTS=\"-Dcom.sun.management.jmxremote \n-Dcom.sun.management.jmxremote.port=9999 \n-Dcom.sun.management.jmxremote.ssl=false \n-Dcom.sun.management.jmxremote.authenticate=false \n-Djava.rmi.server.hostname=116.196.93.148\"\n\nexport JAVA_OPTS=\"-Dcom.sun.management.jmxremote\n-Dcom.sun.management.jmxremote.port=9999\n-Dcom.sun.management.jmxremote.ssl=false\n-Dcom.sun.management.jmxremote.authenticate=false\"\n```\nhostnameIPportTomcat9999\n\nIP\n```\nuname -n\n```\n\n\nhosts\n```\n vim /etc/hosts\n```\n\n```\n127.0.1.1      \n::1     \n```\n\n\nTomcat\n```\nservice tomcat stop\n```\n\n```\nps -ef|grep tomcat\n```\n\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_2.png)\n\n\n```\n//port2392\nkill -9 port\n```\nTomcat**catalina.sh****startup.sh**Tomcat\n\n```\n//Tomcat/bin\n// > /dev/null 2>&1 &  \nsh catalina.sh run > /dev/null 2>&1 &\n```\n\n```\nps -ef|grep tomcat\n```\nLinux\n\nIDEAIDEA\n\nConfigurations\n\n![Configurations](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_7.png)\n\nTomcat\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use8.png)\n\nTomcat\n\n![Tomcat](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_9.png)\n\nSFTP\n\n![SFTP](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_10.png)\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_11.png)\n\nOKTomcat\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_12.png)\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_13.png)\n\n\n\nLog\n\n![Log](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_14.png)\n\n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_15.png)\n\nIPLinux\n\nindex.jsp\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_16.png)\n\n\n\nIPIP\n\n\n##  ##\nIDEA+Tomcat+Java\n\n\n\n\n\n\n\n\n\n\n\n##  ##\n[JDK+Tomcat](http://wiki.jikexueyuan.com/project/linux/tomcat.html)\n\n[Mac](http://www.jianshu.com/p/1afd25e7459d)\n\n[ideatomcat](http://blog.csdn.net/tianjun2012/article/details/52795202)\n\n[Linux VIM](http://pizn.github.io/2012/03/03/vim-commonly-used-command.html)\n","slug":"JD-Server-Use-Explain-1","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdx00013hnnfoqjxcyce","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.jianshu.com/p/7493b1b98c1c\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p>JavaPHPNode.JSPython</p>\n<p>Java+Tomcat+IDEA</p>\n<p></p>\n<p>Ubuntu 16.04 64 <a href=\"http://www.jianshu.com/p/7493b1b98c1c\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_1.png\" alt=\"\"></p>\n<p>apache2<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-<span class=\"builtin-name\">get</span> <span class=\"builtin-name\">remove</span> apache2</span><br></pre></td></tr></table></figure></p>\n<p>JDK<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/</span><br></pre></td></tr></table></figure></p>\n<p>JDK<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget http:<span class=\"regexp\">//</span>download.oracle.com<span class=\"regexp\">/otn-pub/</span>java<span class=\"regexp\">/jdk/</span><span class=\"number\">8</span>u144-b01<span class=\"regexp\">/090f390dda5b47b9b721c7dfaa008135/</span>jdk-<span class=\"number\">8</span>u144-linux-x64.tar.gz</span><br></pre></td></tr></table></figure></p>\n<p>httpJDK</p>\n<p><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -xvzf jdk-<span class=\"number\">8</span>u144-linux-x64<span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rm jdk-<span class=\"number\">8</span>u144-linux-x64<span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">vim</span> /etc/<span class=\"keyword\">profile</span></span><br></pre></td></tr></table></figure></p>\n<p>VimLinux</p>\n<p></p>\n<p><a href=\"http://pizn.github.io/2012/03/03/vim-commonly-used-command.html\" target=\"_blank\" rel=\"noopener\">vim</a></p>\n<p></p>\n<p>Vim</p>\n<p></p>\n<p></p>\n<p><code>vim /etc/profile</code>/etc/profile</p>\n<p>Ctrl+F/D</p>\n<p>i/c/o<br><figure class=\"highlight crystal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JAVA_HOME=<span class=\"regexp\">/usr/local</span><span class=\"regexp\">/jdk1.8.0_144</span></span><br><span class=\"line\"><span class=\"regexp\">JAVA_BIN=/usr</span><span class=\"regexp\">/local/jdk</span>1.<span class=\"number\">8.0_144</span>/bin</span><br><span class=\"line\">JRE_HOME=<span class=\"regexp\">/usr/local</span><span class=\"regexp\">/jdk1.8.0_144/jre</span></span><br><span class=\"line\">PATH=$<span class=\"symbol\">PATH:</span>$JAVA_HOME/<span class=\"symbol\">bin:</span>$JRE_HOME/bin</span><br><span class=\"line\">CLASSPATH=:$JAVA_HOME/<span class=\"class\"><span class=\"keyword\">lib</span>/<span class=\"title\">dt</span>.<span class=\"title\">jar</span>:$<span class=\"title\">JAVA_HOME</span>/<span class=\"title\">lib</span>/<span class=\"title\">tools</span>.<span class=\"title\">jar</span>:$<span class=\"title\">JRE_HOME</span>/<span class=\"title\">lib</span></span></span><br><span class=\"line\">export JAVA_HOME JAVA_BIN JRE_HOME PATH CLASSPATH</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>Esc</p>\n<p>Shift+</p>\n<p>wqVim</p>\n<p>Java<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">source</span> <span class=\"regexp\">/etc/</span>profile</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -<span class=\"built_in\">version</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_0.png\" alt=\"Java\"></p>\n<p></p>\n<p>JDK</p>\n<h4 id=\"Tomcat\"><a href=\"#Tomcat\" class=\"headerlink\" title=\"Tomcat\"></a>Tomcat</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/</span><br></pre></td></tr></table></figure>\n<p>Tomcat:<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget http:<span class=\"regexp\">//</span>archive.apache.org<span class=\"regexp\">/dist/</span>tomcat<span class=\"regexp\">/tomcat-8/</span>v8.<span class=\"number\">5.20</span><span class=\"regexp\">/bin/</span>apache-tomcat-<span class=\"number\">8.5</span>.<span class=\"number\">20</span>.tar.gz</span><br></pre></td></tr></table></figure></p>\n<p>Tomcat8.5.20<a href=\"http://archive.apache.org/dist/tomcat\" target=\"_blank\" rel=\"noopener\">Tomcat</a></p>\n<p><br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">tar</span> <span class=\"selector-tag\">zxvf</span> <span class=\"selector-tag\">apache-tomcat-8</span><span class=\"selector-class\">.5</span><span class=\"selector-class\">.20</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv apache-tomcat<span class=\"number\">-8.5</span><span class=\"number\">.20</span> /usr/local/tomcat</span><br></pre></td></tr></table></figure></p>\n<p>catalina.sh<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp -p <span class=\"regexp\">/usr/</span>local<span class=\"regexp\">/tomcat/</span>bin<span class=\"regexp\">/catalina.sh /</span>etc<span class=\"regexp\">/init.d/</span>tomcat</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim <span class=\"regexp\">/etc/i</span>nit.d<span class=\"regexp\">/tomcat</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">JAVA_HOME</span>=/usr/local/jdk1.8.0_144</span><br><span class=\"line\"><span class=\"attribute\">CATALINA_HOME</span>=/usr/local/tomcat</span><br><span class=\"line\"></span><br><span class=\"line\">chmod 755 /etc/init.d/tomcat</span><br><span class=\"line\">chkconfig --<span class=\"builtin-name\">add</span> tomcat</span><br><span class=\"line\">chkconfig tomcat on</span><br></pre></td></tr></table></figure></p>\n<p>Tomcat</p>\n<p>Tomcat<br><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service tomcat <span class=\"literal\">start</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ps</span> -ef|<span class=\"keyword\">grep</span> tomcat</span><br></pre></td></tr></table></figure></p>\n<p>,<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_2.png\" alt=\"Tomcat\"></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_1.png\" alt=\"Tomcat\"></p>\n<p></p>\n<p>IP://8080,<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">116<span class=\"selector-class\">.196</span><span class=\"selector-class\">.93</span><span class=\"selector-class\">.148</span><span class=\"selector-pseudo\">:8080</span></span><br></pre></td></tr></table></figure></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_3.png\" alt=\"Tomcat\"></p>\n<p><br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim <span class=\"regexp\">/usr/</span>local<span class=\"regexp\">/tomcat/</span>conf<span class=\"regexp\">/server.xml</span></span><br></pre></td></tr></table></figure></p>\n<p>Tomcat</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_4.png\" alt=\"server\"></p>\n<p>port  80 </p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_5.png\" alt=\"server\"></p>\n<p>name</p>\n<p>wq</p>\n<p>Tomcat<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service tomcat stop</span><br><span class=\"line\">service tomcat start</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>Host-name</p>\n<p></p>\n<h2 id=\"HelloWeb\"><a href=\"#HelloWeb\" class=\"headerlink\" title=\"HelloWeb\"></a>HelloWeb</h2><p>Web</p>\n<p><a href=\"https://www.jetbrains.com/idea/download/#section=mac\" target=\"_blank\" rel=\"noopener\">IntelliJ IDEA</a></p>\n<p>Ultimate</p>\n<p>CommunityWeb</p>\n<p>JavaTomcat</p>\n<p>HelloWorld</p>\n<p><a href=\"http://www.cnblogs.com/carsonzhu/p/5468223.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p>HelloWorld</p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_6.png\" alt=\"localhost:8080\"></p>\n<p></p>\n<p>WarWarLinuxTomcat/webapps</p>\n<p>TomcatWar</p>\n<p><a href=\"http://www.jianshu.com/p/1afd25e7459d\" target=\"_blank\" rel=\"noopener\">Mac</a></p>\n<p>WindowsXshell</p>\n<p>War</p>\n<p></p>\n<p></p>\n<h2 id=\"Hello-\"><a href=\"#Hello-\" class=\"headerlink\" title=\"Hello \"></a>Hello </h2><p>LinuxTomcatbin<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd <span class=\"regexp\">/usr/</span>local<span class=\"regexp\">/tomcat/</span>bin<span class=\"regexp\">/</span></span><br></pre></td></tr></table></figure></p>\n<p>VIM<strong>catalina.sh</strong><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">vim</span> catalina.<span class=\"keyword\">sh</span></span><br></pre></td></tr></table></figure></p>\n<p>100<code># OS specific support.  $var _must_ be set to either true or false.</code><br><figure class=\"highlight haml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export CATALINA_OPTS=\"-Dcom.sun.management.jmxremote </span><br><span class=\"line\">-<span class=\"ruby\">Dcom.sun.management.jmxremote.port=<span class=\"number\">9999</span> </span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.ssl=<span class=\"literal\">false</span> </span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.authenticate=<span class=\"literal\">false</span> </span></span><br><span class=\"line\"><span class=\"ruby\">-Djava.rmi.server.hostname=<span class=\"number\">116.196</span>.<span class=\"number\">93.148</span><span class=\"string\">\"</span></span></span><br><span class=\"line\"><span class=\"ruby\"></span></span><br><span class=\"line\"><span class=\"ruby\">export JAVA_OPTS=<span class=\"string\">\"-Dcom.sun.management.jmxremote</span></span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.port=<span class=\"number\">9999</span></span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.ssl=<span class=\"literal\">false</span></span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.authenticate=<span class=\"literal\">false</span><span class=\"string\">\"</span></span></span><br></pre></td></tr></table></figure></p>\n<p>hostnameIPportTomcat9999</p>\n<p>IP<br><figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">uname -n</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>hosts<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim <span class=\"regexp\">/etc/</span>hosts</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127<span class=\"selector-class\">.0</span><span class=\"selector-class\">.1</span><span class=\"selector-class\">.1</span>      </span><br><span class=\"line\"><span class=\"selector-pseudo\">::1</span>     </span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>Tomcat<br><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service tomcat <span class=\"built_in\">stop</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ps</span> -ef|<span class=\"keyword\">grep</span> tomcat</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_2.png\" alt=\"Tomcat\"></p>\n<p><br><figure class=\"highlight cos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//port2392</span></span><br><span class=\"line\"><span class=\"keyword\">kill</span> -<span class=\"number\">9</span> port</span><br></pre></td></tr></table></figure></p>\n<p>Tomcat<strong>catalina.sh</strong><strong>startup.sh</strong>Tomcat</p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Tomcat/bin</span></span><br><span class=\"line\"><span class=\"comment\">// &gt; /dev/null 2&gt;&amp;1 &amp;  </span></span><br><span class=\"line\"><span class=\"keyword\">sh</span> catalina.<span class=\"keyword\">sh</span> <span class=\"keyword\">run</span> &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ps</span> -ef|<span class=\"keyword\">grep</span> tomcat</span><br></pre></td></tr></table></figure></p>\n<p>Linux</p>\n<p>IDEAIDEA</p>\n<p>Configurations</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_7.png\" alt=\"Configurations\"></p>\n<p>Tomcat</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use8.png\" alt=\"Tomcat\"></p>\n<p>Tomcat</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_9.png\" alt=\"Tomcat\"></p>\n<p>SFTP</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_10.png\" alt=\"SFTP\"></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_11.png\" alt=\"\"></p>\n<p>OKTomcat</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_12.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_13.png\" alt=\"\"></p>\n<p></p>\n<p>Log</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_14.png\" alt=\"Log\"></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_15.png\" alt=\"\"></p>\n<p>IPLinux</p>\n<p>index.jsp</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_16.png\" alt=\"\"></p>\n<p></p>\n<p>IPIP</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>IDEA+Tomcat+Java</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://wiki.jikexueyuan.com/project/linux/tomcat.html\" target=\"_blank\" rel=\"noopener\">JDK+Tomcat</a></p>\n<p><a href=\"http://www.jianshu.com/p/1afd25e7459d\" target=\"_blank\" rel=\"noopener\">Mac</a></p>\n<p><a href=\"http://blog.csdn.net/tianjun2012/article/details/52795202\" target=\"_blank\" rel=\"noopener\">ideatomcat</a></p>\n<p><a href=\"http://pizn.github.io/2012/03/03/vim-commonly-used-command.html\" target=\"_blank\" rel=\"noopener\">Linux VIM</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.jianshu.com/p/7493b1b98c1c\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p>JavaPHPNode.JSPython</p>\n<p>Java+Tomcat+IDEA</p>\n<p></p>\n<p>Ubuntu 16.04 64 <a href=\"http://www.jianshu.com/p/7493b1b98c1c\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h4><p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd_server_use_1.png\" alt=\"\"></p>\n<p>apache2<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-<span class=\"builtin-name\">get</span> <span class=\"builtin-name\">remove</span> apache2</span><br></pre></td></tr></table></figure></p>\n<p>JDK<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/</span><br></pre></td></tr></table></figure></p>\n<p>JDK<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget http:<span class=\"regexp\">//</span>download.oracle.com<span class=\"regexp\">/otn-pub/</span>java<span class=\"regexp\">/jdk/</span><span class=\"number\">8</span>u144-b01<span class=\"regexp\">/090f390dda5b47b9b721c7dfaa008135/</span>jdk-<span class=\"number\">8</span>u144-linux-x64.tar.gz</span><br></pre></td></tr></table></figure></p>\n<p>httpJDK</p>\n<p><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar -xvzf jdk-<span class=\"number\">8</span>u144-linux-x64<span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rm jdk-<span class=\"number\">8</span>u144-linux-x64<span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">vim</span> /etc/<span class=\"keyword\">profile</span></span><br></pre></td></tr></table></figure></p>\n<p>VimLinux</p>\n<p></p>\n<p><a href=\"http://pizn.github.io/2012/03/03/vim-commonly-used-command.html\" target=\"_blank\" rel=\"noopener\">vim</a></p>\n<p></p>\n<p>Vim</p>\n<p></p>\n<p></p>\n<p><code>vim /etc/profile</code>/etc/profile</p>\n<p>Ctrl+F/D</p>\n<p>i/c/o<br><figure class=\"highlight crystal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JAVA_HOME=<span class=\"regexp\">/usr/local</span><span class=\"regexp\">/jdk1.8.0_144</span></span><br><span class=\"line\"><span class=\"regexp\">JAVA_BIN=/usr</span><span class=\"regexp\">/local/jdk</span>1.<span class=\"number\">8.0_144</span>/bin</span><br><span class=\"line\">JRE_HOME=<span class=\"regexp\">/usr/local</span><span class=\"regexp\">/jdk1.8.0_144/jre</span></span><br><span class=\"line\">PATH=$<span class=\"symbol\">PATH:</span>$JAVA_HOME/<span class=\"symbol\">bin:</span>$JRE_HOME/bin</span><br><span class=\"line\">CLASSPATH=:$JAVA_HOME/<span class=\"class\"><span class=\"keyword\">lib</span>/<span class=\"title\">dt</span>.<span class=\"title\">jar</span>:$<span class=\"title\">JAVA_HOME</span>/<span class=\"title\">lib</span>/<span class=\"title\">tools</span>.<span class=\"title\">jar</span>:$<span class=\"title\">JRE_HOME</span>/<span class=\"title\">lib</span></span></span><br><span class=\"line\">export JAVA_HOME JAVA_BIN JRE_HOME PATH CLASSPATH</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>Esc</p>\n<p>Shift+</p>\n<p>wqVim</p>\n<p>Java<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">source</span> <span class=\"regexp\">/etc/</span>profile</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -<span class=\"built_in\">version</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_0.png\" alt=\"Java\"></p>\n<p></p>\n<p>JDK</p>\n<h4 id=\"Tomcat\"><a href=\"#Tomcat\" class=\"headerlink\" title=\"Tomcat\"></a>Tomcat</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/</span><br></pre></td></tr></table></figure>\n<p>Tomcat:<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo wget http:<span class=\"regexp\">//</span>archive.apache.org<span class=\"regexp\">/dist/</span>tomcat<span class=\"regexp\">/tomcat-8/</span>v8.<span class=\"number\">5.20</span><span class=\"regexp\">/bin/</span>apache-tomcat-<span class=\"number\">8.5</span>.<span class=\"number\">20</span>.tar.gz</span><br></pre></td></tr></table></figure></p>\n<p>Tomcat8.5.20<a href=\"http://archive.apache.org/dist/tomcat\" target=\"_blank\" rel=\"noopener\">Tomcat</a></p>\n<p><br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">tar</span> <span class=\"selector-tag\">zxvf</span> <span class=\"selector-tag\">apache-tomcat-8</span><span class=\"selector-class\">.5</span><span class=\"selector-class\">.20</span><span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv apache-tomcat<span class=\"number\">-8.5</span><span class=\"number\">.20</span> /usr/local/tomcat</span><br></pre></td></tr></table></figure></p>\n<p>catalina.sh<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp -p <span class=\"regexp\">/usr/</span>local<span class=\"regexp\">/tomcat/</span>bin<span class=\"regexp\">/catalina.sh /</span>etc<span class=\"regexp\">/init.d/</span>tomcat</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim <span class=\"regexp\">/etc/i</span>nit.d<span class=\"regexp\">/tomcat</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">JAVA_HOME</span>=/usr/local/jdk1.8.0_144</span><br><span class=\"line\"><span class=\"attribute\">CATALINA_HOME</span>=/usr/local/tomcat</span><br><span class=\"line\"></span><br><span class=\"line\">chmod 755 /etc/init.d/tomcat</span><br><span class=\"line\">chkconfig --<span class=\"builtin-name\">add</span> tomcat</span><br><span class=\"line\">chkconfig tomcat on</span><br></pre></td></tr></table></figure></p>\n<p>Tomcat</p>\n<p>Tomcat<br><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service tomcat <span class=\"literal\">start</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ps</span> -ef|<span class=\"keyword\">grep</span> tomcat</span><br></pre></td></tr></table></figure></p>\n<p>,<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_2.png\" alt=\"Tomcat\"></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_1.png\" alt=\"Tomcat\"></p>\n<p></p>\n<p>IP://8080,<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">116<span class=\"selector-class\">.196</span><span class=\"selector-class\">.93</span><span class=\"selector-class\">.148</span><span class=\"selector-pseudo\">:8080</span></span><br></pre></td></tr></table></figure></p>\n<p><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_3.png\" alt=\"Tomcat\"></p>\n<p><br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim <span class=\"regexp\">/usr/</span>local<span class=\"regexp\">/tomcat/</span>conf<span class=\"regexp\">/server.xml</span></span><br></pre></td></tr></table></figure></p>\n<p>Tomcat</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_4.png\" alt=\"server\"></p>\n<p>port  80 </p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_5.png\" alt=\"server\"></p>\n<p>name</p>\n<p>wq</p>\n<p>Tomcat<br><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service tomcat stop</span><br><span class=\"line\">service tomcat start</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>Host-name</p>\n<p></p>\n<h2 id=\"HelloWeb\"><a href=\"#HelloWeb\" class=\"headerlink\" title=\"HelloWeb\"></a>HelloWeb</h2><p>Web</p>\n<p><a href=\"https://www.jetbrains.com/idea/download/#section=mac\" target=\"_blank\" rel=\"noopener\">IntelliJ IDEA</a></p>\n<p>Ultimate</p>\n<p>CommunityWeb</p>\n<p>JavaTomcat</p>\n<p>HelloWorld</p>\n<p><a href=\"http://www.cnblogs.com/carsonzhu/p/5468223.html\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p>HelloWorld</p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_6.png\" alt=\"localhost:8080\"></p>\n<p></p>\n<p>WarWarLinuxTomcat/webapps</p>\n<p>TomcatWar</p>\n<p><a href=\"http://www.jianshu.com/p/1afd25e7459d\" target=\"_blank\" rel=\"noopener\">Mac</a></p>\n<p>WindowsXshell</p>\n<p>War</p>\n<p></p>\n<p></p>\n<h2 id=\"Hello-\"><a href=\"#Hello-\" class=\"headerlink\" title=\"Hello \"></a>Hello </h2><p>LinuxTomcatbin<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd <span class=\"regexp\">/usr/</span>local<span class=\"regexp\">/tomcat/</span>bin<span class=\"regexp\">/</span></span><br></pre></td></tr></table></figure></p>\n<p>VIM<strong>catalina.sh</strong><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">vim</span> catalina.<span class=\"keyword\">sh</span></span><br></pre></td></tr></table></figure></p>\n<p>100<code># OS specific support.  $var _must_ be set to either true or false.</code><br><figure class=\"highlight haml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export CATALINA_OPTS=\"-Dcom.sun.management.jmxremote </span><br><span class=\"line\">-<span class=\"ruby\">Dcom.sun.management.jmxremote.port=<span class=\"number\">9999</span> </span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.ssl=<span class=\"literal\">false</span> </span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.authenticate=<span class=\"literal\">false</span> </span></span><br><span class=\"line\"><span class=\"ruby\">-Djava.rmi.server.hostname=<span class=\"number\">116.196</span>.<span class=\"number\">93.148</span><span class=\"string\">\"</span></span></span><br><span class=\"line\"><span class=\"ruby\"></span></span><br><span class=\"line\"><span class=\"ruby\">export JAVA_OPTS=<span class=\"string\">\"-Dcom.sun.management.jmxremote</span></span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.port=<span class=\"number\">9999</span></span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.ssl=<span class=\"literal\">false</span></span></span><br><span class=\"line\"><span class=\"ruby\">-Dcom.sun.management.jmxremote.authenticate=<span class=\"literal\">false</span><span class=\"string\">\"</span></span></span><br></pre></td></tr></table></figure></p>\n<p>hostnameIPportTomcat9999</p>\n<p>IP<br><figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">uname -n</span></span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>hosts<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim <span class=\"regexp\">/etc/</span>hosts</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127<span class=\"selector-class\">.0</span><span class=\"selector-class\">.1</span><span class=\"selector-class\">.1</span>      </span><br><span class=\"line\"><span class=\"selector-pseudo\">::1</span>     </span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p>Tomcat<br><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service tomcat <span class=\"built_in\">stop</span></span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ps</span> -ef|<span class=\"keyword\">grep</span> tomcat</span><br></pre></td></tr></table></figure></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_2.png\" alt=\"Tomcat\"></p>\n<p><br><figure class=\"highlight cos\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//port2392</span></span><br><span class=\"line\"><span class=\"keyword\">kill</span> -<span class=\"number\">9</span> port</span><br></pre></td></tr></table></figure></p>\n<p>Tomcat<strong>catalina.sh</strong><strong>startup.sh</strong>Tomcat</p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Tomcat/bin</span></span><br><span class=\"line\"><span class=\"comment\">// &gt; /dev/null 2&gt;&amp;1 &amp;  </span></span><br><span class=\"line\"><span class=\"keyword\">sh</span> catalina.<span class=\"keyword\">sh</span> <span class=\"keyword\">run</span> &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ps</span> -ef|<span class=\"keyword\">grep</span> tomcat</span><br></pre></td></tr></table></figure></p>\n<p>Linux</p>\n<p>IDEAIDEA</p>\n<p>Configurations</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_7.png\" alt=\"Configurations\"></p>\n<p>Tomcat</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use8.png\" alt=\"Tomcat\"></p>\n<p>Tomcat</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_9.png\" alt=\"Tomcat\"></p>\n<p>SFTP</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_10.png\" alt=\"SFTP\"></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_11.png\" alt=\"\"></p>\n<p>OKTomcat</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/jd1_server_use_12.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_13.png\" alt=\"\"></p>\n<p></p>\n<p>Log</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_14.png\" alt=\"Log\"></p>\n<p></p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_15.png\" alt=\"\"></p>\n<p>IPLinux</p>\n<p>index.jsp</p>\n<p><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/server/jd1_server_use_16.png\" alt=\"\"></p>\n<p></p>\n<p>IPIP</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>IDEA+Tomcat+Java</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://wiki.jikexueyuan.com/project/linux/tomcat.html\" target=\"_blank\" rel=\"noopener\">JDK+Tomcat</a></p>\n<p><a href=\"http://www.jianshu.com/p/1afd25e7459d\" target=\"_blank\" rel=\"noopener\">Mac</a></p>\n<p><a href=\"http://blog.csdn.net/tianjun2012/article/details/52795202\" target=\"_blank\" rel=\"noopener\">ideatomcat</a></p>\n<p><a href=\"http://pizn.github.io/2012/03/03/vim-commonly-used-command.html\" target=\"_blank\" rel=\"noopener\">Linux VIM</a></p>\n"},{"title":"","date":"2017-05-08T07:10:09.000Z","_content":"\nJava\n\n\n\n##  ##\n1. \nJavaAA\n2. \nJava****\n3. \nutilsutils\n\n\n##  ##\n1. \n[](http://baike.baidu.com/link?url=rbdZPwv35frNtyyl5BNnTXN2y9xCnTKldC3Bi4pyMySKda51KlD5Gk46IIUt1cNKrBiZoThiu0Rj76UmCJJXOFvv87kxMxSBYQtgrCbRA2u)\n\n`extends`\n**Java+**\n2. \n\n3. \n\n\n##  ##\n1. \n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/heirenwenhao_2.jpg)\n\n****\n\n2. \n\n3. \n`Car`\n    ```\n    public interface Car {\n\n        String getCarType();\n    }\n    ```\n \n \n    ```\n    public class WuLingHongGuang implements Car {\n     @Override\n      public String getCarType() {\n         return \"\";\n        }\n    }\n    ```\n \n    ```\n    public class LanBoJiNi implements Car {\n        @Override\n        public String getCarType() {\n            return \"\";\n        }\n    }\n    ```\n \n    ```\n     public static void main(String[] args){\n         Car car1 = new LanBoJiNi();\n         Car car2 = new WuLingHongGuang();\n\n         System.out.println(\"1\"+car1.getCarType());\n         System.out.println(\"2\"+car2.getCarType());\n     }\n    ```\n \n    ```\n    1\n    2\n    ```\n\n4. \n****\n`Car`()`Car``getCarType()`()\n![](http://7xvzby.com1.z0.glb.clouddn.com/oo_duotai1.png)\n`getCarType()`Java`getCarType()``Car`\n\n\n##  ##\n\n\n\n### (Single Responsibility Principle) ###\n1. \n****\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/huxiangshanghai.jpg)\n\n\n\n### (Open Close Principle) ###\n1. \n****\nbug\n********\n\n\n### (Liskov Substitution Principle) ###\n1. \n****\n\n\n2. \n\n\n````main2:\n    ```\n        public static void main(String[] args) {\n            //\n         System.out.println(\"\" + createCar(new LanBoJiNi()));\n            //\n            System.out.println(\"\" + createCar(new WuLingHongGuang()));\n        }\n\n\n        private static String createCar(Car car) {\n            return car.getCarType();\n        }\n\n    ```\n    `createCar(Car car)``````createCar()``Car`````2(500500)\n    \n\n### (Dependence Inversion Principle) ###\n1. \n3\n- \n- \n- \n\n    Java****\n\n\n### (Interface Segregation Principles) ###\n1. \n****\n\n\n\n\n\n### (Law of Demeter) ###\n1. \n****\n\n\n\n\n##  ##\n\n\n\n##  ##\n1. Android  \n2. [](https://baike.baidu.com/)\n\n> mengyuanzz@126.com","source":"_posts/Java_understanding-OO.md","raw":"---\ntitle: \ndate: 2017-05-08 15:10:09\ntags:\n   - Java\n   - \t\n---\n\nJava\n\n\n\n##  ##\n1. \nJavaAA\n2. \nJava****\n3. \nutilsutils\n\n\n##  ##\n1. \n[](http://baike.baidu.com/link?url=rbdZPwv35frNtyyl5BNnTXN2y9xCnTKldC3Bi4pyMySKda51KlD5Gk46IIUt1cNKrBiZoThiu0Rj76UmCJJXOFvv87kxMxSBYQtgrCbRA2u)\n\n`extends`\n**Java+**\n2. \n\n3. \n\n\n##  ##\n1. \n\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/heirenwenhao_2.jpg)\n\n****\n\n2. \n\n3. \n`Car`\n    ```\n    public interface Car {\n\n        String getCarType();\n    }\n    ```\n \n \n    ```\n    public class WuLingHongGuang implements Car {\n     @Override\n      public String getCarType() {\n         return \"\";\n        }\n    }\n    ```\n \n    ```\n    public class LanBoJiNi implements Car {\n        @Override\n        public String getCarType() {\n            return \"\";\n        }\n    }\n    ```\n \n    ```\n     public static void main(String[] args){\n         Car car1 = new LanBoJiNi();\n         Car car2 = new WuLingHongGuang();\n\n         System.out.println(\"1\"+car1.getCarType());\n         System.out.println(\"2\"+car2.getCarType());\n     }\n    ```\n \n    ```\n    1\n    2\n    ```\n\n4. \n****\n`Car`()`Car``getCarType()`()\n![](http://7xvzby.com1.z0.glb.clouddn.com/oo_duotai1.png)\n`getCarType()`Java`getCarType()``Car`\n\n\n##  ##\n\n\n\n### (Single Responsibility Principle) ###\n1. \n****\n\n![](http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/huxiangshanghai.jpg)\n\n\n\n### (Open Close Principle) ###\n1. \n****\nbug\n********\n\n\n### (Liskov Substitution Principle) ###\n1. \n****\n\n\n2. \n\n\n````main2:\n    ```\n        public static void main(String[] args) {\n            //\n         System.out.println(\"\" + createCar(new LanBoJiNi()));\n            //\n            System.out.println(\"\" + createCar(new WuLingHongGuang()));\n        }\n\n\n        private static String createCar(Car car) {\n            return car.getCarType();\n        }\n\n    ```\n    `createCar(Car car)``````createCar()``Car`````2(500500)\n    \n\n### (Dependence Inversion Principle) ###\n1. \n3\n- \n- \n- \n\n    Java****\n\n\n### (Interface Segregation Principles) ###\n1. \n****\n\n\n\n\n\n### (Law of Demeter) ###\n1. \n****\n\n\n\n\n##  ##\n\n\n\n##  ##\n1. Android  \n2. [](https://baike.baidu.com/)\n\n> mengyuanzz@126.com","slug":"Java_understanding-OO","published":1,"updated":"2018-08-24T09:36:28.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjl7sxdx50016hnnfygc3ze1h","content":"<p><br>Java<br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><br>JavaAA</li>\n<li><br>Java<strong></strong></li>\n<li><br>utilsutils</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><br><a href=\"http://baike.baidu.com/link?url=rbdZPwv35frNtyyl5BNnTXN2y9xCnTKldC3Bi4pyMySKda51KlD5Gk46IIUt1cNKrBiZoThiu0Rj76UmCJJXOFvv87kxMxSBYQtgrCbRA2u\" target=\"_blank\" rel=\"noopener\"></a><br><br><code>extends</code><br><strong>Java+</strong></li>\n<li><br></li>\n<li><br></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><br><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/heirenwenhao_2.jpg\" alt=\"\"><br><br><strong></strong><br></li>\n<li><br></li>\n<li><p><br><code>Car</code></p>\n <figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public<span class=\"built_in\"> interface </span>Car &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    String getCarType();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WuLingHongGuang</span> <span class=\"keyword\">implements</span> <span class=\"title\">Car</span> </span>&#123;</span><br><span class=\"line\"> <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getCarType</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LanBoJiNi</span> <span class=\"keyword\">implements</span> <span class=\"title\">Car</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getCarType</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n <figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> main(<span class=\"keyword\">String</span>[] args)&#123;</span><br><span class=\"line\">    Car car1 = <span class=\"keyword\">new</span> LanBoJiNi();</span><br><span class=\"line\">    Car car2 = <span class=\"keyword\">new</span> WuLingHongGuang();</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.<span class=\"built_in\">println</span>(<span class=\"string\">\"1\"</span>+car1.getCarType());</span><br><span class=\"line\">    System.out.<span class=\"built_in\">println</span>(<span class=\"string\">\"2\"</span>+car2.getCarType());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n <figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br><strong></strong><br><code>Car</code>()<code>Car</code><code>getCarType()</code>()<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/oo_duotai1.png\" alt=\"\"><br><code>getCarType()</code>Java<code>getCarType()</code><code>Car</code><br></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"-Single-Responsibility-Principle\"><a href=\"#-Single-Responsibility-Principle\" class=\"headerlink\" title=\"(Single Responsibility Principle)\"></a>(Single Responsibility Principle)</h3><ol>\n<li><br><strong></strong><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/huxiangshanghai.jpg\" alt=\"\"><br></li>\n</ol>\n<h3 id=\"-Open-Close-Principle\"><a href=\"#-Open-Close-Principle\" class=\"headerlink\" title=\"(Open Close Principle)\"></a>(Open Close Principle)</h3><ol>\n<li><br><strong></strong><br>bug<br><strong></strong><strong></strong></li>\n</ol>\n<h3 id=\"-Liskov-Substitution-Principle\"><a href=\"#-Liskov-Substitution-Principle\" class=\"headerlink\" title=\"(Liskov Substitution Principle)\"></a>(Liskov Substitution Principle)</h3><ol>\n<li><br><strong></strong><br><br></li>\n<li><p><br><br><br><code></code><code></code>main2:</p>\n <figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> main(<span class=\"keyword\">String</span>[] args) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\"> System.out.<span class=\"built_in\">println</span>(<span class=\"string\">\"\"</span> + createCar(<span class=\"keyword\">new</span> LanBoJiNi()));</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    System.out.<span class=\"built_in\">println</span>(<span class=\"string\">\"\"</span> + createCar(<span class=\"keyword\">new</span> WuLingHongGuang()));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">String</span> createCar(Car car) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">return</span> car.getCarType();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>createCar(Car car)</code><code></code><code></code><code>createCar()</code><code>Car</code><code></code><code></code>2(500500)</p>\n</li>\n</ol>\n<h3 id=\"-Dependence-Inversion-Principle\"><a href=\"#-Dependence-Inversion-Principle\" class=\"headerlink\" title=\"(Dependence Inversion Principle)\"></a>(Dependence Inversion Principle)</h3><ol>\n<li><br>3</li>\n</ol>\n<ul>\n<li></li>\n<li></li>\n<li><p></p>\n<p>  Java<strong></strong></p>\n</li>\n</ul>\n<h3 id=\"-Interface-Segregation-Principles\"><a href=\"#-Interface-Segregation-Principles\" class=\"headerlink\" title=\"(Interface Segregation Principles)\"></a>(Interface Segregation Principles)</h3><ol>\n<li><br><strong></strong><br><br><br></li>\n</ol>\n<h3 id=\"-Law-of-Demeter\"><a href=\"#-Law-of-Demeter\" class=\"headerlink\" title=\"(Law of Demeter)\"></a>(Law of Demeter)</h3><ol>\n<li><br><strong></strong><br><br></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>Android  </li>\n<li><a href=\"https://baike.baidu.com/\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ol>\n<blockquote>\n<p><a href=\"mailto:mengyuanzz@126.com\" target=\"_blank\" rel=\"noopener\">mengyuanzz@126.com</a></p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<p><br>Java<br><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><br>JavaAA</li>\n<li><br>Java<strong></strong></li>\n<li><br>utilsutils</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><br><a href=\"http://baike.baidu.com/link?url=rbdZPwv35frNtyyl5BNnTXN2y9xCnTKldC3Bi4pyMySKda51KlD5Gk46IIUt1cNKrBiZoThiu0Rj76UmCJJXOFvv87kxMxSBYQtgrCbRA2u\" target=\"_blank\" rel=\"noopener\"></a><br><br><code>extends</code><br><strong>Java+</strong></li>\n<li><br></li>\n<li><br></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><br><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/heirenwenhao_2.jpg\" alt=\"\"><br><br><strong></strong><br></li>\n<li><br></li>\n<li><p><br><code>Car</code></p>\n <figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public<span class=\"built_in\"> interface </span>Car &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    String getCarType();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br></p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WuLingHongGuang</span> <span class=\"keyword\">implements</span> <span class=\"title\">Car</span> </span>&#123;</span><br><span class=\"line\"> <span class=\"meta\">@Override</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getCarType</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n <figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">LanBoJiNi</span> <span class=\"keyword\">implements</span> <span class=\"title\">Car</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getCarType</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n <figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> main(<span class=\"keyword\">String</span>[] args)&#123;</span><br><span class=\"line\">    Car car1 = <span class=\"keyword\">new</span> LanBoJiNi();</span><br><span class=\"line\">    Car car2 = <span class=\"keyword\">new</span> WuLingHongGuang();</span><br><span class=\"line\"></span><br><span class=\"line\">    System.out.<span class=\"built_in\">println</span>(<span class=\"string\">\"1\"</span>+car1.getCarType());</span><br><span class=\"line\">    System.out.<span class=\"built_in\">println</span>(<span class=\"string\">\"2\"</span>+car2.getCarType());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n <figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><br><strong></strong><br><code>Car</code>()<code>Car</code><code>getCarType()</code>()<br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/oo_duotai1.png\" alt=\"\"><br><code>getCarType()</code>Java<code>getCarType()</code><code>Car</code><br></p>\n</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<h3 id=\"-Single-Responsibility-Principle\"><a href=\"#-Single-Responsibility-Principle\" class=\"headerlink\" title=\"(Single Responsibility Principle)\"></a>(Single Responsibility Principle)</h3><ol>\n<li><br><strong></strong><br><br><img src=\"http://7xvzby.com1.z0.glb.clouddn.com/gaoxiao/huxiangshanghai.jpg\" alt=\"\"><br></li>\n</ol>\n<h3 id=\"-Open-Close-Principle\"><a href=\"#-Open-Close-Principle\" class=\"headerlink\" title=\"(Open Close Principle)\"></a>(Open Close Principle)</h3><ol>\n<li><br><strong></strong><br>bug<br><strong></strong><strong></strong></li>\n</ol>\n<h3 id=\"-Liskov-Substitution-Principle\"><a href=\"#-Liskov-Substitution-Principle\" class=\"headerlink\" title=\"(Liskov Substitution Principle)\"></a>(Liskov Substitution Principle)</h3><ol>\n<li><br><strong></strong><br><br></li>\n<li><p><br><br><br><code></code><code></code>main2:</p>\n <figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> main(<span class=\"keyword\">String</span>[] args) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\"> System.out.<span class=\"built_in\">println</span>(<span class=\"string\">\"\"</span> + createCar(<span class=\"keyword\">new</span> LanBoJiNi()));</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    System.out.<span class=\"built_in\">println</span>(<span class=\"string\">\"\"</span> + createCar(<span class=\"keyword\">new</span> WuLingHongGuang()));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">String</span> createCar(Car car) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">return</span> car.getCarType();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> <code>createCar(Car car)</code><code></code><code></code><code>createCar()</code><code>Car</code><code></code><code></code>2(500500)</p>\n</li>\n</ol>\n<h3 id=\"-Dependence-Inversion-Principle\"><a href=\"#-Dependence-Inversion-Principle\" class=\"headerlink\" title=\"(Dependence Inversion Principle)\"></a>(Dependence Inversion Principle)</h3><ol>\n<li><br>3</li>\n</ol>\n<ul>\n<li></li>\n<li></li>\n<li><p></p>\n<p>  Java<strong></strong></p>\n</li>\n</ul>\n<h3 id=\"-Interface-Segregation-Principles\"><a href=\"#-Interface-Segregation-Principles\" class=\"headerlink\" title=\"(Interface Segregation Principles)\"></a>(Interface Segregation Principles)</h3><ol>\n<li><br><strong></strong><br><br><br></li>\n</ol>\n<h3 id=\"-Law-of-Demeter\"><a href=\"#-Law-of-Demeter\" class=\"headerlink\" title=\"(Law of Demeter)\"></a>(Law of Demeter)</h3><ol>\n<li><br><strong></strong><br><br></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li>Android  </li>\n<li><a href=\"https://baike.baidu.com/\" target=\"_blank\" rel=\"noopener\"></a></li>\n</ol>\n<blockquote>\n<p><a href=\"mailto:mengyuanzz@126.com\" target=\"_blank\" rel=\"noopener\">mengyuanzz@126.com</a></p>\n</blockquote>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cjl7sxdvq0006hnnfhmy18k07","tag_id":"cjl7sxdv10003hnnfvryio106","_id":"cjl7sxdvw0009hnnf8a3lbnl2"},{"post_id":"cjl7sxdvu0008hnnfbnm19g9c","tag_id":"cjl7sxdv10003hnnfvryio106","_id":"cjl7sxdw0000chnnfygs23b0s"},{"post_id":"cjl7sxdul0000hnnf97c3net2","tag_id":"cjl7sxdv10003hnnfvryio106","_id":"cjl7sxdw3000ehnnfzaze8wua"},{"post_id":"cjl7sxdul0000hnnf97c3net2","tag_id":"cjl7sxdvt0007hnnfyssc5jt3","_id":"cjl7sxdw6000hhnnfbv19i24a"},{"post_id":"cjl7sxduw0002hnnfs523eyaf","tag_id":"cjl7sxdv10003hnnfvryio106","_id":"cjl7sxdw9000jhnnferkka7zs"},{"post_id":"cjl7sxdv50004hnnfrhfj2sql","tag_id":"cjl7sxdv10003hnnfvryio106","_id":"cjl7sxdwk000qhnnfiow3rz2w"},{"post_id":"cjl7sxdv50004hnnfrhfj2sql","tag_id":"cjl7sxdwc000lhnnf6iywhj35","_id":"cjl7sxdwn000shnnf3zi3ewpm"},{"post_id":"cjl7sxdvc0005hnnffo54t7lr","tag_id":"cjl7sxdv10003hnnfvryio106","_id":"cjl7sxdwr000vhnnfoklqne37"},{"post_id":"cjl7sxdvc0005hnnffo54t7lr","tag_id":"cjl7sxdwi000ohnnf1f4iehjg","_id":"cjl7sxdwu000xhnnfhltkehzu"},{"post_id":"cjl7sxdvw000ahnnftw4roclh","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdww0010hnnfyeylo4us"},{"post_id":"cjl7sxdvw000ahnnftw4roclh","tag_id":"cjl7sxdv10003hnnfvryio106","_id":"cjl7sxdwz0012hnnf0c9wpz3b"},{"post_id":"cjl7sxdvw000ahnnftw4roclh","tag_id":"cjl7sxdvt0007hnnfyssc5jt3","_id":"cjl7sxdx30015hnnfel9oxrey"},{"post_id":"cjl7sxdw0000dhnnfkbec52g0","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdx70017hnnf096mdxxj"},{"post_id":"cjl7sxdx50016hnnfygc3ze1h","tag_id":"cjl7sxdwi000ohnnf1f4iehjg","_id":"cjl7sxdx90019hnnfnpmefx34"},{"post_id":"cjl7sxdx50016hnnfygc3ze1h","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdx9001ahnnfgzpbsarz"},{"post_id":"cjl7sxdw3000fhnnfgorpk301","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdxa001chnnfblamf2z1"},{"post_id":"cjl7sxdw6000ihnnfck4kl042","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdxa001dhnnf4avwh1kc"},{"post_id":"cjl7sxdw9000khnnfv88hdwh8","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdxa001fhnnfc6tpr9fa"},{"post_id":"cjl7sxdwd000mhnnft658asyb","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdxb001hhnnfye5ugj73"},{"post_id":"cjl7sxdwg000nhnnf99tj4x84","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdxc001jhnnf1gptvdbt"},{"post_id":"cjl7sxdwj000phnnfsooinq9b","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdxc001lhnnfn2hx18h9"},{"post_id":"cjl7sxdwl000rhnnfar9r8yga","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdxd001nhnnfmijqii83"},{"post_id":"cjl7sxdwn000uhnnfjobck834","tag_id":"cjl7sxdwn000thnnf257cuyzi","_id":"cjl7sxdxe001phnnf93sd1zmf"},{"post_id":"cjl7sxdwr000whnnflmjfr1l9","tag_id":"cjl7sxdxd001ohnnfkkmwfy9s","_id":"cjl7sxdxe001rhnnfwqx3l82m"},{"post_id":"cjl7sxdwu000yhnnfhftnadh1","tag_id":"cjl7sxdxe001qhnnfqpx0ye2c","_id":"cjl7sxdxg001uhnnfr8bvsbe1"},{"post_id":"cjl7sxdwu000yhnnfhftnadh1","tag_id":"cjl7sxdxf001shnnfie74axce","_id":"cjl7sxdxg001vhnnfavrrvizd"},{"post_id":"cjl7sxdx00013hnnfoqjxcyce","tag_id":"cjl7sxdxe001qhnnfqpx0ye2c","_id":"cjl7sxdxh001xhnnfiw8zm8ri"},{"post_id":"cjl7sxdx00013hnnfoqjxcyce","tag_id":"cjl7sxdxf001shnnfie74axce","_id":"cjl7sxdxi001yhnnfyg1rzlib"}],"Tag":[{"name":"Android","_id":"cjl7sxdv10003hnnfvryio106"},{"name":"","_id":"cjl7sxdvt0007hnnfyssc5jt3"},{"name":"","_id":"cjl7sxdwc000lhnnf6iywhj35"},{"name":"Java","_id":"cjl7sxdwi000ohnnf1f4iehjg"},{"name":"","_id":"cjl7sxdwn000thnnf257cuyzi"},{"name":"Google","_id":"cjl7sxdxd001ohnnfkkmwfy9s"},{"name":"","_id":"cjl7sxdxe001qhnnfqpx0ye2c"},{"name":"SSH","_id":"cjl7sxdxf001shnnfie74axce"}]}}